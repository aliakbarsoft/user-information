{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\app.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable no-unused-vars */\nconst hpp_1 = __importDefault(require(\"hpp\"));\nconst cors_1 = __importDefault(require(\"cors\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst helmet_1 = __importDefault(require(\"helmet\"));\nconst request_ip_1 = __importDefault(require(\"request-ip\"));\nconst compression_1 = __importDefault(require(\"compression\"));\nconst http_errors_1 = __importDefault(require(\"http-errors\"));\nconst cookie_parser_1 = __importDefault(require(\"cookie-parser\"));\nconst index_1 = __importDefault(require(\"./routes/index\"));\nconst express_useragent_1 = __importDefault(require(\"express-useragent\"));\nconst express_error_yup_1 = __importDefault(require(\"./middlewares/express_error_yup\"));\nconst express_1 = __importDefault(require(\"express\"));\nconst constants_allowed_orginal_1 = __importDefault(require(\"./constants/constants_allowed_orginal\"));\nconst express_error_response_1 = __importDefault(require(\"./middlewares/express_error_response\"));\nconst express_error_sequelize_1 = __importDefault(require(\"./middlewares/express_error_sequelize\"));\nconst express_auto_handle_transaction_1 = __importDefault(require(\"./middlewares/express_auto_handle_transaction\"));\n// TODO: change to .ts\nconst optCors = {\n  origin: constants_allowed_orginal_1.default\n};\nconst app = (0, express_1.default)();\n// view engine setup\napp.set('views', path_1.default.join(`${__dirname}/../`, 'views'));\n// app.set('view engine', 'pug')\napp.use((0, helmet_1.default)());\napp.use((0, cors_1.default)(optCors));\n// app.use(logger('combined', { stream: winstonStream }))\napp.use(express_1.default.urlencoded({\n  extended: false\n})); // TODO :  check it should be false or true\napp.use(express_1.default.json({\n  limit: '200mb',\n  type: 'application/json'\n}));\napp.use((0, cookie_parser_1.default)());\napp.use((0, compression_1.default)());\napp.use(express_1.default.static(path_1.default.join(`${__dirname}/../`, 'public')));\napp.use((0, hpp_1.default)());\napp.use(express_useragent_1.default.express());\napp.use(request_ip_1.default.mw());\n// TODO : add this later\n// Initial Route\napp.use(index_1.default);\n// app.use('/v1', handleRollbackTransaction)\napp.use('/v1', express_error_yup_1.default);\napp.use('/v1', express_error_sequelize_1.default);\napp.use('/v1', express_error_response_1.default);\napp.use(express_auto_handle_transaction_1.default);\n// catch 404 and forward to error handler\napp.use(function (req, res, next) {\n  next((0, http_errors_1.default)(404));\n});\n// error handler\napp.use(function (err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJocHBfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJjb3JzXzEiLCJwYXRoXzEiLCJoZWxtZXRfMSIsInJlcXVlc3RfaXBfMSIsImNvbXByZXNzaW9uXzEiLCJodHRwX2Vycm9yc18xIiwiY29va2llX3BhcnNlcl8xIiwiaW5kZXhfMSIsImV4cHJlc3NfdXNlcmFnZW50XzEiLCJleHByZXNzX2Vycm9yX3l1cF8xIiwiZXhwcmVzc18xIiwiY29uc3RhbnRzX2FsbG93ZWRfb3JnaW5hbF8xIiwiZXhwcmVzc19lcnJvcl9yZXNwb25zZV8xIiwiZXhwcmVzc19lcnJvcl9zZXF1ZWxpemVfMSIsImV4cHJlc3NfYXV0b19oYW5kbGVfdHJhbnNhY3Rpb25fMSIsIm9wdENvcnMiLCJvcmlnaW4iLCJkZWZhdWx0IiwiYXBwIiwic2V0Iiwiam9pbiIsIl9fZGlybmFtZSIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJsaW1pdCIsInR5cGUiLCJzdGF0aWMiLCJleHByZXNzIiwibXciLCJyZXEiLCJyZXMiLCJuZXh0IiwiZXJyIiwibG9jYWxzIiwibWVzc2FnZSIsImVycm9yIiwiZ2V0Iiwic3RhdHVzIiwicmVuZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXHJcbmltcG9ydCBocHAgZnJvbSAnaHBwJztcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgaGVsbWV0IGZyb20gJ2hlbG1ldCc7XHJcbmltcG9ydCByZXF1ZXN0SXAgZnJvbSAncmVxdWVzdC1pcCc7XHJcbmltcG9ydCBjb21wcmVzc2lvbiBmcm9tICdjb21wcmVzc2lvbic7XHJcbmltcG9ydCBjcmVhdGVFcnJvciBmcm9tICdodHRwLWVycm9ycyc7XHJcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XHJcbmltcG9ydCBpbmRleFJvdXRlciBmcm9tICcuL3JvdXRlcy9pbmRleCc7XHJcbmltcG9ydCB1c2VyQWdlbnQgZnJvbSAnZXhwcmVzcy11c2VyYWdlbnQnO1xyXG5pbXBvcnQgRXhwcmVzc0Vycm9yWXVwIGZyb20gJy4vbWlkZGxld2FyZXMvZXhwcmVzc19lcnJvcl95dXAnO1xyXG5pbXBvcnQgZXhwcmVzcywgeyBOZXh0RnVuY3Rpb24sIFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBhbGxvd2VkT3JpZ2lucyBmcm9tICcuL2NvbnN0YW50cy9jb25zdGFudHNfYWxsb3dlZF9vcmdpbmFsJztcclxuaW1wb3J0IEV4cHJlc3NFcnJvclJlc3BvbnNlIGZyb20gJy4vbWlkZGxld2FyZXMvZXhwcmVzc19lcnJvcl9yZXNwb25zZSc7XHJcbmltcG9ydCBFeHByZXNzRXJyb3JTZXF1ZWxpemUgZnJvbSAnLi9taWRkbGV3YXJlcy9leHByZXNzX2Vycm9yX3NlcXVlbGl6ZSc7XHJcbmltcG9ydCBFeHByZXNzQXV0b0hhbmRsZVRyYW5zYWN0aW9uIGZyb20gJy4vbWlkZGxld2FyZXMvZXhwcmVzc19hdXRvX2hhbmRsZV90cmFuc2FjdGlvbic7XHJcblxyXG4vLyBUT0RPOiBjaGFuZ2UgdG8gLnRzXHJcbmNvbnN0IG9wdENvcnM6IGNvcnMuQ29yc09wdGlvbnMgPSB7XHJcbiAgb3JpZ2luOiBhbGxvd2VkT3JpZ2lucyxcclxufVxyXG5jb25zdCBhcHAgPSBleHByZXNzKClcclxuXHJcbi8vIHZpZXcgZW5naW5lIHNldHVwXHJcbmFwcC5zZXQoJ3ZpZXdzJywgcGF0aC5qb2luKGAke19fZGlybmFtZX0vLi4vYCwgJ3ZpZXdzJykpXHJcbi8vIGFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ3B1ZycpXHJcblxyXG5hcHAudXNlKGhlbG1ldCgpKVxyXG5hcHAudXNlKGNvcnMob3B0Q29ycykpXHJcbi8vIGFwcC51c2UobG9nZ2VyKCdjb21iaW5lZCcsIHsgc3RyZWFtOiB3aW5zdG9uU3RyZWFtIH0pKVxyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSkgLy8gVE9ETyA6ICBjaGVjayBpdCBzaG91bGQgYmUgZmFsc2Ugb3IgdHJ1ZVxyXG5hcHAudXNlKFxyXG4gIGV4cHJlc3MuanNvbih7XHJcbiAgICBsaW1pdDogJzIwMG1iJyxcclxuICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICB9KVxyXG4pXHJcbmFwcC51c2UoY29va2llUGFyc2VyKCkpXHJcbmFwcC51c2UoY29tcHJlc3Npb24oKSlcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oYCR7X19kaXJuYW1lfS8uLi9gLCAncHVibGljJykpKVxyXG5hcHAudXNlKGhwcCgpKVxyXG5hcHAudXNlKHVzZXJBZ2VudC5leHByZXNzKCkpXHJcbmFwcC51c2UocmVxdWVzdElwLm13KCkpXHJcbi8vIFRPRE8gOiBhZGQgdGhpcyBsYXRlclxyXG5cclxuXHJcbi8vIEluaXRpYWwgUm91dGVcclxuYXBwLnVzZShpbmRleFJvdXRlcilcclxuXHJcbi8vIGFwcC51c2UoJy92MScsIGhhbmRsZVJvbGxiYWNrVHJhbnNhY3Rpb24pXHJcbmFwcC51c2UoJy92MScsIEV4cHJlc3NFcnJvcll1cClcclxuYXBwLnVzZSgnL3YxJywgRXhwcmVzc0Vycm9yU2VxdWVsaXplKVxyXG5hcHAudXNlKCcvdjEnLCBFeHByZXNzRXJyb3JSZXNwb25zZSlcclxuYXBwLnVzZShFeHByZXNzQXV0b0hhbmRsZVRyYW5zYWN0aW9uKVxyXG5cclxuLy8gY2F0Y2ggNDA0IGFuZCBmb3J3YXJkIHRvIGVycm9yIGhhbmRsZXJcclxuYXBwLnVzZShmdW5jdGlvbiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pIHtcclxuICBuZXh0KGNyZWF0ZUVycm9yKDQwNCkpXHJcbn0pXHJcblxyXG4vLyBlcnJvciBoYW5kbGVyXHJcbmFwcC51c2UoZnVuY3Rpb24gKGVycjogYW55LCByZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikge1xyXG4gIC8vIHNldCBsb2NhbHMsIG9ubHkgcHJvdmlkaW5nIGVycm9yIGluIGRldmVsb3BtZW50XHJcbiAgcmVzLmxvY2Fscy5tZXNzYWdlID0gZXJyLm1lc3NhZ2VcclxuICByZXMubG9jYWxzLmVycm9yID0gcmVxLmFwcC5nZXQoJ2VudicpID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyIDoge31cclxuXHJcbiAgLy8gcmVuZGVyIHRoZSBlcnJvciBwYWdlXHJcbiAgcmVzLnN0YXR1cyhlcnIuc3RhdHVzIHx8IDUwMClcclxuICByZXMucmVuZGVyKCdlcnJvcicpXHJcbn0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFwcFxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBLE1BQUFBLEtBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUMsTUFBQSxHQUFBRixlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBRSxNQUFBLEdBQUFILGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFHLFFBQUEsR0FBQUosZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUksWUFBQSxHQUFBTCxlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBSyxhQUFBLEdBQUFOLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFNLGFBQUEsR0FBQVAsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQU8sZUFBQSxHQUFBUixlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBUSxPQUFBLEdBQUFULGVBQUEsQ0FBQUMsT0FBQTtBQUNB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","map":{"version":3,"names":["hpp_1","__importDefault","require","cors_1","path_1","helmet_1","request_ip_1","compression_1","http_errors_1","cookie_parser_1","index_1","express_useragent_1","express_error_yup_1","express_1","constants_allowed_orginal_1","express_error_response_1","express_error_sequelize_1","express_auto_handle_transaction_1","optCors","origin","default","app","set","join","__dirname","use","urlencoded","extended","json","limit","type","static","express","mw","req","res","next","err","locals","message","error","get","status","render","module","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/app.ts"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport hpp from 'hpp';\r\nimport cors from 'cors';\r\nimport path from 'path';\r\nimport helmet from 'helmet';\r\nimport requestIp from 'request-ip';\r\nimport compression from 'compression';\r\nimport createError from 'http-errors';\r\nimport cookieParser from 'cookie-parser';\r\nimport indexRouter from './routes/index';\r\nimport userAgent from 'express-useragent';\r\nimport ExpressErrorYup from './middlewares/express_error_yup';\r\nimport express, { NextFunction, Request, Response } from 'express';\r\nimport allowedOrigins from './constants/constants_allowed_orginal';\r\nimport ExpressErrorResponse from './middlewares/express_error_response';\r\nimport ExpressErrorSequelize from './middlewares/express_error_sequelize';\r\nimport ExpressAutoHandleTransaction from './middlewares/express_auto_handle_transaction';\r\n\r\n// TODO: change to .ts\r\nconst optCors: cors.CorsOptions = {\r\n  origin: allowedOrigins,\r\n}\r\nconst app = express()\r\n\r\n// view engine setup\r\napp.set('views', path.join(`${__dirname}/../`, 'views'))\r\n// app.set('view engine', 'pug')\r\n\r\napp.use(helmet())\r\napp.use(cors(optCors))\r\n// app.use(logger('combined', { stream: winstonStream }))\r\napp.use(express.urlencoded({ extended: false })) // TODO :  check it should be false or true\r\napp.use(\r\n  express.json({\r\n    limit: '200mb',\r\n    type: 'application/json',\r\n  })\r\n)\r\napp.use(cookieParser())\r\napp.use(compression())\r\napp.use(express.static(path.join(`${__dirname}/../`, 'public')))\r\napp.use(hpp())\r\napp.use(userAgent.express())\r\napp.use(requestIp.mw())\r\n// TODO : add this later\r\n\r\n\r\n// Initial Route\r\napp.use(indexRouter)\r\n\r\n// app.use('/v1', handleRollbackTransaction)\r\napp.use('/v1', ExpressErrorYup)\r\napp.use('/v1', ExpressErrorSequelize)\r\napp.use('/v1', ExpressErrorResponse)\r\napp.use(ExpressAutoHandleTransaction)\r\n\r\n// catch 404 and forward to error handler\r\napp.use(function (req: Request, res: Response, next: NextFunction) {\r\n  next(createError(404))\r\n})\r\n\r\n// error handler\r\napp.use(function (err: any, req: Request, res: Response, next: NextFunction) {\r\n  // set locals, only providing error in development\r\n  res.locals.message = err.message\r\n  res.locals.error = req.app.get('env') === 'development' ? err : {}\r\n\r\n  // render the error page\r\n  res.status(err.status || 500)\r\n  res.render('error')\r\n})\r\n\r\nmodule.exports = app\r\n"],"mappings":";;;;;;;;;;AAAA;AACA,MAAAA,KAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,MAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,MAAA,GAAAH,eAAA,CAAAC,OAAA;AACA,MAAAG,QAAA,GAAAJ,eAAA,CAAAC,OAAA;AACA,MAAAI,YAAA,GAAAL,eAAA,CAAAC,OAAA;AACA,MAAAK,aAAA,GAAAN,eAAA,CAAAC,OAAA;AACA,MAAAM,aAAA,GAAAP,eAAA,CAAAC,OAAA;AACA,MAAAO,eAAA,GAAAR,eAAA,CAAAC,OAAA;AACA,MAAAQ,OAAA,GAAAT,eAAA,CAAAC,OAAA;AACA,MAAAS,mBAAA,GAAAV,eAAA,CAAAC,OAAA;AACA,MAAAU,mBAAA,GAAAX,eAAA,CAAAC,OAAA;AACA,MAAAW,SAAA,GAAAZ,eAAA,CAAAC,OAAA;AACA,MAAAY,2BAAA,GAAAb,eAAA,CAAAC,OAAA;AACA,MAAAa,wBAAA,GAAAd,eAAA,CAAAC,OAAA;AACA,MAAAc,yBAAA,GAAAf,eAAA,CAAAC,OAAA;AACA,MAAAe,iCAAA,GAAAhB,eAAA,CAAAC,OAAA;AAEA;AACA,MAAMgB,OAAO,GAAqB;EAChCC,MAAM,EAAEL,2BAAA,CAAAM;CACT;AACD,MAAMC,GAAG,GAAG,IAAAR,SAAA,CAAAO,OAAO,GAAE;AAErB;AACAC,GAAG,CAACC,GAAG,CAAC,OAAO,EAAElB,MAAA,CAAAgB,OAAI,CAACG,IAAI,CAAC,GAAGC,SAAS,MAAM,EAAE,OAAO,CAAC,CAAC;AACxD;AAEAH,GAAG,CAACI,GAAG,CAAC,IAAApB,QAAA,CAAAe,OAAM,GAAE,CAAC;AACjBC,GAAG,CAACI,GAAG,CAAC,IAAAtB,MAAA,CAAAiB,OAAI,EAACF,OAAO,CAAC,CAAC;AACtB;AACAG,GAAG,CAACI,GAAG,CAACZ,SAAA,CAAAO,OAAO,CAACM,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAE,CAAC,CAAC,EAAC;AACjDN,GAAG,CAACI,GAAG,CACLZ,SAAA,CAAAO,OAAO,CAACQ,IAAI,CAAC;EACXC,KAAK,EAAE,OAAO;EACdC,IAAI,EAAE;CACP,CAAC,CACH;AACDT,GAAG,CAACI,GAAG,CAAC,IAAAhB,eAAA,CAAAW,OAAY,GAAE,CAAC;AACvBC,GAAG,CAACI,GAAG,CAAC,IAAAlB,aAAA,CAAAa,OAAW,GAAE,CAAC;AACtBC,GAAG,CAACI,GAAG,CAACZ,SAAA,CAAAO,OAAO,CAACW,MAAM,CAAC3B,MAAA,CAAAgB,OAAI,CAACG,IAAI,CAAC,GAAGC,SAAS,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;AAChEH,GAAG,CAACI,GAAG,CAAC,IAAAzB,KAAA,CAAAoB,OAAG,GAAE,CAAC;AACdC,GAAG,CAACI,GAAG,CAACd,mBAAA,CAAAS,OAAS,CAACY,OAAO,EAAE,CAAC;AAC5BX,GAAG,CAACI,GAAG,CAACnB,YAAA,CAAAc,OAAS,CAACa,EAAE,EAAE,CAAC;AACvB;AAGA;AACAZ,GAAG,CAACI,GAAG,CAACf,OAAA,CAAAU,OAAW,CAAC;AAEpB;AACAC,GAAG,CAACI,GAAG,CAAC,KAAK,EAAEb,mBAAA,CAAAQ,OAAe,CAAC;AAC/BC,GAAG,CAACI,GAAG,CAAC,KAAK,EAAET,yBAAA,CAAAI,OAAqB,CAAC;AACrCC,GAAG,CAACI,GAAG,CAAC,KAAK,EAAEV,wBAAA,CAAAK,OAAoB,CAAC;AACpCC,GAAG,CAACI,GAAG,CAACR,iCAAA,CAAAG,OAA4B,CAAC;AAErC;AACAC,GAAG,CAACI,GAAG,CAAC,UAAUS,GAAY,EAAEC,GAAa,EAAEC,IAAkB;EAC/DA,IAAI,CAAC,IAAA5B,aAAA,CAAAY,OAAW,EAAC,GAAG,CAAC,CAAC;AACxB,CAAC,CAAC;AAEF;AACAC,GAAG,CAACI,GAAG,CAAC,UAAUY,GAAQ,EAAEH,GAAY,EAAEC,GAAa,EAAEC,IAAkB;EACzE;EACAD,GAAG,CAACG,MAAM,CAACC,OAAO,GAAGF,GAAG,CAACE,OAAO;EAChCJ,GAAG,CAACG,MAAM,CAACE,KAAK,GAAGN,GAAG,CAACb,GAAG,CAACoB,GAAG,CAAC,KAAK,CAAC,KAAK,aAAa,GAAGJ,GAAG,GAAG,EAAE;EAElE;EACAF,GAAG,CAACO,MAAM,CAACL,GAAG,CAACK,MAAM,IAAI,GAAG,CAAC;EAC7BP,GAAG,CAACQ,MAAM,CAAC,OAAO,CAAC;AACrB,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGxB,GAAG","ignoreList":[]}},"mtime":1714264184708},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\routes\\\\index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst express_1 = __importDefault(require(\"express\"));\nconst public_1 = __importDefault(require(\"./public\"));\nconst response_error_1 = __importDefault(require(\"../modules/error/response_error\"));\nconst router = express_1.default.Router();\n/* Home Page. */\nrouter.get('/', function (req, res, next) {\n  return res.send(`<h1>Welcome To BeED Support Center server</h1><br/><br/>\n                    <h3>Find Api docs Here :</h3>\n                    <h3><a>/v1/api-docs</a></h3>`);\n});\n/* Forbidden Page. */\nrouter.get('/v1', function (req, res, next) {\n  throw new response_error_1.default.Forbidden('forbidden, wrong access endpoint');\n});\n/* Declare Route */\nrouter.use('/v1', public_1.default);\nexports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwicHVibGljXzEiLCJyZXNwb25zZV9lcnJvcl8xIiwicm91dGVyIiwiZGVmYXVsdCIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIm5leHQiLCJzZW5kIiwiRm9yYmlkZGVuIiwidXNlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9yb3V0ZXMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgcHVibGljUm91dGUgZnJvbSAnLi9wdWJsaWMnO1xyXG5pbXBvcnQgUmVzcG9uc2VFcnJvciBmcm9tICcuLi9tb2R1bGVzL2Vycm9yL3Jlc3BvbnNlX2Vycm9yJztcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG4vKiBIb21lIFBhZ2UuICovXHJcbnJvdXRlci5nZXQoJy8nLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcclxuXHJcbiAgICByZXR1cm4gcmVzLnNlbmQoYDxoMT5XZWxjb21lIFRvIEJlRUQgU3VwcG9ydCBDZW50ZXIgc2VydmVyPC9oMT48YnIvPjxici8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzPkZpbmQgQXBpIGRvY3MgSGVyZSA6PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8aDM+PGE+L3YxL2FwaS1kb2NzPC9hPjwvaDM+YClcclxuICB9KVxyXG5cclxuLyogRm9yYmlkZGVuIFBhZ2UuICovXHJcbnJvdXRlci5nZXQoJy92MScsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCApIHtcclxuICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yLkZvcmJpZGRlbignZm9yYmlkZGVuLCB3cm9uZyBhY2Nlc3MgZW5kcG9pbnQnKVxyXG4gIH0pXHJcblxyXG4vKiBEZWNsYXJlIFJvdXRlICovXHJcbnJvdXRlci51c2UoJy92MScsIHB1YmxpY1JvdXRlKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxTQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLFFBQUEsR0FBQUYsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUUsZ0JBQUEsR0FBQUgsZUFBQSxDQUFBQyxPQUFBO0FBRUEsTUFBTUcsTUFBTSxHQUFHTCxTQUFBLENBQUFNLE9BQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRS9CO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFVQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSTtFQUVwQyxPQUFPRCxHQUFHLENBQUNFLElBQUksQ0FBQzs7aURBRTZCLENBQUM7QUFDaEQsQ0FBQyxDQUFDO0FBRUo7QUFDQVAsTUFBTSxDQUFDRyxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQVVDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0VBQ3RDLE1BQU0sSUFBSVAsZ0JBQUEsQ0FBQUUsT0FBYSxDQUFDTyxTQUFTLENBQUMsa0NBQWtDLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBRUo7QUFDQVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsS0FBSyxFQUFFWCxRQUFBLENBQUFHLE9BQVcsQ0FBQztBQUU5QlMsT0FBQSxDQUFBVCxPQUFBLEdBQWVELE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express_1","__importDefault","require","public_1","response_error_1","router","default","Router","get","req","res","next","send","Forbidden","use","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\routes\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/routes/index.ts"],"sourcesContent":["import  express from 'express';\r\nimport publicRoute from './public';\r\nimport ResponseError from '../modules/error/response_error';\r\n\r\nconst router = express.Router();\r\n\r\n/* Home Page. */\r\nrouter.get('/', function (req, res, next) {\r\n\r\n    return res.send(`<h1>Welcome To BeED Support Center server</h1><br/><br/>\r\n                    <h3>Find Api docs Here :</h3>\r\n                    <h3><a>/v1/api-docs</a></h3>`)\r\n  })\r\n\r\n/* Forbidden Page. */\r\nrouter.get('/v1', function (req, res, next ) {\r\n    throw new ResponseError.Forbidden('forbidden, wrong access endpoint')\r\n  })\r\n\r\n/* Declare Route */\r\nrouter.use('/v1', publicRoute)\r\n\r\nexport default router\r\n\r\n"],"mappings":";;;;;;;;;;AAAA,MAAAA,SAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,QAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,gBAAA,GAAAH,eAAA,CAAAC,OAAA;AAEA,MAAMG,MAAM,GAAGL,SAAA,CAAAM,OAAO,CAACC,MAAM,EAAE;AAE/B;AACAF,MAAM,CAACG,GAAG,CAAC,GAAG,EAAE,UAAUC,GAAG,EAAEC,GAAG,EAAEC,IAAI;EAEpC,OAAOD,GAAG,CAACE,IAAI,CAAC;;iDAE6B,CAAC;AAChD,CAAC,CAAC;AAEJ;AACAP,MAAM,CAACG,GAAG,CAAC,KAAK,EAAE,UAAUC,GAAG,EAAEC,GAAG,EAAEC,IAAI;EACtC,MAAM,IAAIP,gBAAA,CAAAE,OAAa,CAACO,SAAS,CAAC,kCAAkC,CAAC;AACvE,CAAC,CAAC;AAEJ;AACAR,MAAM,CAACS,GAAG,CAAC,KAAK,EAAEX,QAAA,CAAAG,OAAW,CAAC;AAE9BS,OAAA,CAAAT,OAAA,GAAeD,MAAM","ignoreList":[]}},"mtime":1714264153544},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\routes\\\\public.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst express_1 = __importDefault(require(\"express\"));\nconst router = express_1.default.Router();\nexports.default = router;\n//  APIs\nrequire(\"../controller/auth/controller\");\nrequire(\"../controller/user/controller\");\nrequire(\"../controller/nav-items/controller\");\nrequire(\"../controller/appointment/controller\");\nrequire(\"../controller/customers/controller\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwicm91dGVyIiwiZGVmYXVsdCIsIlJvdXRlciIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvcm91dGVzL3B1YmxpYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuXHJcbi8vICBBUElzXHJcbnJlcXVpcmUoXCIuLi9jb250cm9sbGVyL2F1dGgvY29udHJvbGxlclwiKTtcclxucmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvdXNlci9jb250cm9sbGVyXCIpO1xyXG5yZXF1aXJlKFwiLi4vY29udHJvbGxlci9uYXYtaXRlbXMvY29udHJvbGxlclwiKTtcclxucmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvYXBwb2ludG1lbnQvY29udHJvbGxlclwiKTtcclxucmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvY3VzdG9tZXJzL2NvbnRyb2xsZXJcIik7XHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBQUEsU0FBQSxHQUFBQyxlQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNQyxNQUFNLEdBQUdILFNBQUEsQ0FBQUksT0FBTyxDQUFDQyxNQUFNLEVBQUU7QUFFL0JDLE9BQUEsQ0FBQUYsT0FBQSxHQUFlRCxNQUFNO0FBRXJCO0FBQ0FELE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUN4Q0EsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQ3hDQSxPQUFPLENBQUMsb0NBQW9DLENBQUM7QUFDN0NBLE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQztBQUMvQ0EsT0FBTyxDQUFDLG9DQUFvQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express_1","__importDefault","require","router","default","Router","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\routes\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/routes/public.ts"],"sourcesContent":["import express from \"express\";\r\n\r\nconst router = express.Router();\r\n\r\nexport default router;\r\n\r\n//  APIs\r\nrequire(\"../controller/auth/controller\");\r\nrequire(\"../controller/user/controller\");\r\nrequire(\"../controller/nav-items/controller\");\r\nrequire(\"../controller/appointment/controller\");\r\nrequire(\"../controller/customers/controller\");\r\n\r\n\r\n"],"mappings":";;;;;;;;;;AAAA,MAAAA,SAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,MAAM,GAAGH,SAAA,CAAAI,OAAO,CAACC,MAAM,EAAE;AAE/BC,OAAA,CAAAF,OAAA,GAAeD,MAAM;AAErB;AACAD,OAAO,CAAC,+BAA+B,CAAC;AACxCA,OAAO,CAAC,+BAA+B,CAAC;AACxCA,OAAO,CAAC,oCAAoC,CAAC;AAC7CA,OAAO,CAAC,sCAAsC,CAAC;AAC/CA,OAAO,CAAC,oCAAoC,CAAC","ignoreList":[]}},"mtime":1716885091562},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\auth\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\auth\\\\controller.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\nconst public_1 = __importDefault(require(\"../../routes/public\"));\nconst service_1 = __importDefault(require(\"./service\"));\npublic_1.default.post(`/auth/sign-up`, function signUp(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.body;\n    const data = yield service_1.default.signUp(formData);\n    const buildResponse = app_response_1.default.get(data);\n    res.status(buildResponse.code).json(buildResponse);\n  });\n});\npublic_1.default.post(\"/auth/sign-in\", function signIn(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.body;\n    const data = yield service_1.default.signIn(formData);\n    const buildResponse = yield app_response_1.default.get(data);\n    if (buildResponse.statusCode === 400) {\n      res.status(buildResponse.statusCode).json(buildResponse);\n    } else {\n      res.json(buildResponse);\n    }\n  });\n});\n// routes.post(\n//   `/auth/refresh-token`,\n//   Authorization,\n//   asyncHandler(async function authRefreshToken(req: Request, res: Response) {\n//     const { email, refreshToken } = req.body();\n//   })\n// );\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHBfcmVzcG9uc2VfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJwdWJsaWNfMSIsInNlcnZpY2VfMSIsImRlZmF1bHQiLCJwb3N0Iiwic2lnblVwIiwicmVxIiwicmVzIiwiZm9ybURhdGEiLCJib2R5IiwiZGF0YSIsImJ1aWxkUmVzcG9uc2UiLCJnZXQiLCJzdGF0dXMiLCJjb2RlIiwianNvbiIsInNpZ25JbiIsInN0YXR1c0NvZGUiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxjb250cm9sbGVyXFxhdXRoXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXIvYXV0aC9jb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IEJ1aWxkUmVzcG9uc2UgZnJvbSBcIi4uLy4uL21vZHVsZXMvcmVzcG9uc2UvYXBwX3Jlc3BvbnNlXCI7XHJcbmltcG9ydCByb3V0ZXMgZnJvbSBcIi4uLy4uL3JvdXRlcy9wdWJsaWNcIjtcclxuaW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gXCIuL3NlcnZpY2VcIjtcclxuXHJcbnJvdXRlcy5wb3N0KFxyXG4gIGAvYXV0aC9zaWduLXVwYCxcclxuICBhc3luYyBmdW5jdGlvbiBzaWduVXAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IEF1dGhTZXJ2aWNlLnNpZ25VcChmb3JtRGF0YSk7XHJcbiAgICBjb25zdCBidWlsZFJlc3BvbnNlID0gQnVpbGRSZXNwb25zZS5nZXQoZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKGJ1aWxkUmVzcG9uc2UuY29kZSkuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICB9XHJcbik7XHJcblxyXG5yb3V0ZXMucG9zdChcclxuICBcIi9hdXRoL3NpZ24taW5cIixcclxuICBhc3luYyBmdW5jdGlvbiBzaWduSW4ocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IEF1dGhTZXJ2aWNlLnNpZ25Jbihmb3JtRGF0YSk7XHJcbiAgICBjb25zdCBidWlsZFJlc3BvbnNlID0gYXdhaXQgQnVpbGRSZXNwb25zZS5nZXQoZGF0YSk7XHJcbiAgICBpZiAoYnVpbGRSZXNwb25zZS5zdGF0dXNDb2RlID09PSA0MDApIHtcclxuICAgICAgcmVzLnN0YXR1cyhidWlsZFJlc3BvbnNlLnN0YXR1c0NvZGUpLmpzb24oYnVpbGRSZXNwb25zZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9XHJcbik7XHJcblxyXG4vLyByb3V0ZXMucG9zdChcclxuLy8gICBgL2F1dGgvcmVmcmVzaC10b2tlbmAsXHJcbi8vICAgQXV0aG9yaXphdGlvbixcclxuLy8gICBhc3luY0hhbmRsZXIoYXN5bmMgZnVuY3Rpb24gYXV0aFJlZnJlc2hUb2tlbihyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuLy8gICAgIGNvbnN0IHsgZW1haWwsIHJlZnJlc2hUb2tlbiB9ID0gcmVxLmJvZHkoKTtcclxuLy8gICB9KVxyXG4vLyApO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUFBQSxjQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLFFBQUEsR0FBQUYsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUUsU0FBQSxHQUFBSCxlQUFBLENBQUFDLE9BQUE7QUFFQUMsUUFBQSxDQUFBRSxPQUFNLENBQUNDLElBQUksQ0FDVCxlQUFlLEVBQ2YsU0FBZUMsTUFBTUEsQ0FBQ0MsR0FBWSxFQUFFQyxHQUFhOztJQUMvQyxNQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtJQUN6QixNQUFNQyxJQUFJLEdBQUcsTUFBTVIsU0FBQSxDQUFBQyxPQUFXLENBQUNFLE1BQU0sQ0FBQ0csUUFBUSxDQUFDO0lBQy9DLE1BQU1HLGFBQWEsR0FBR2IsY0FBQSxDQUFBSyxPQUFhLENBQUNTLEdBQUcsQ0FBQ0YsSUFBSSxDQUFDO0lBQzdDSCxHQUFHLENBQUNNLE1BQU0sQ0FBQ0YsYUFBYSxDQUFDRyxJQUFJLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSixhQUFhLENBQUM7RUFDcEQsQ0FBQztDQUFBLENBQ0Y7QUFFRFYsUUFBQSxDQUFBRSxPQUFNLENBQUNDLElBQUksQ0FDVCxlQUFlLEVBQ2YsU0FBZVksTUFBTUEsQ0FBQ1YsR0FBWSxFQUFFQyxHQUFhOztJQUMvQyxNQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtJQUN6QixNQUFNQyxJQUFJLEdBQUcsTUFBTVIsU0FBQSxDQUFBQyxPQUFXLENBQUNhLE1BQU0sQ0FBQ1IsUUFBUSxDQUFDO0lBQy9DLE1BQU1HLGFBQWEsR0FBRyxNQUFNYixjQUFBLENBQUFLLE9BQWEsQ0FBQ1MsR0FBRyxDQUFDRixJQUFJLENBQUM7SUFDbkQsSUFBSUMsYUFBYSxDQUFDTSxVQUFVLEtBQUssR0FBRyxFQUFFO01BQ3BDVixHQUFHLENBQUNNLE1BQU0sQ0FBQ0YsYUFBYSxDQUFDTSxVQUFVLENBQUMsQ0FBQ0YsSUFBSSxDQUFDSixhQUFhLENBQUM7SUFDMUQsQ0FBQyxNQUFNO01BQ0xKLEdBQUcsQ0FBQ1EsSUFBSSxDQUFDSixhQUFhLENBQUM7SUFDekI7RUFDRixDQUFDO0NBQUEsQ0FDRjtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["app_response_1","__importDefault","require","public_1","service_1","default","post","signUp","req","res","formData","body","data","buildResponse","get","status","code","json","signIn","statusCode"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\auth\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/auth/controller.ts"],"sourcesContent":["import { Request, Response } from \"express\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport routes from \"../../routes/public\";\r\nimport AuthService from \"./service\";\r\n\r\nroutes.post(\r\n  `/auth/sign-up`,\r\n  async function signUp(req: Request, res: Response) {\r\n    const formData = req.body;\r\n    const data = await AuthService.signUp(formData);\r\n    const buildResponse = BuildResponse.get(data);\r\n    res.status(buildResponse.code).json(buildResponse);\r\n  }\r\n);\r\n\r\nroutes.post(\r\n  \"/auth/sign-in\",\r\n  async function signIn(req: Request, res: Response) {\r\n    const formData = req.body;\r\n    const data = await AuthService.signIn(formData);\r\n    const buildResponse = await BuildResponse.get(data);\r\n    if (buildResponse.statusCode === 400) {\r\n      res.status(buildResponse.statusCode).json(buildResponse);\r\n    } else {\r\n      res.json(buildResponse);\r\n    }\r\n  }\r\n);\r\n\r\n// routes.post(\r\n//   `/auth/refresh-token`,\r\n//   Authorization,\r\n//   asyncHandler(async function authRefreshToken(req: Request, res: Response) {\r\n//     const { email, refreshToken } = req.body();\r\n//   })\r\n// );\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAAA,cAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,QAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,SAAA,GAAAH,eAAA,CAAAC,OAAA;AAEAC,QAAA,CAAAE,OAAM,CAACC,IAAI,CACT,eAAe,EACf,SAAeC,MAAMA,CAACC,GAAY,EAAEC,GAAa;;IAC/C,MAAMC,QAAQ,GAAGF,GAAG,CAACG,IAAI;IACzB,MAAMC,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAW,CAACE,MAAM,CAACG,QAAQ,CAAC;IAC/C,MAAMG,aAAa,GAAGb,cAAA,CAAAK,OAAa,CAACS,GAAG,CAACF,IAAI,CAAC;IAC7CH,GAAG,CAACM,MAAM,CAACF,aAAa,CAACG,IAAI,CAAC,CAACC,IAAI,CAACJ,aAAa,CAAC;EACpD,CAAC;CAAA,CACF;AAEDV,QAAA,CAAAE,OAAM,CAACC,IAAI,CACT,eAAe,EACf,SAAeY,MAAMA,CAACV,GAAY,EAAEC,GAAa;;IAC/C,MAAMC,QAAQ,GAAGF,GAAG,CAACG,IAAI;IACzB,MAAMC,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAW,CAACa,MAAM,CAACR,QAAQ,CAAC;IAC/C,MAAMG,aAAa,GAAG,MAAMb,cAAA,CAAAK,OAAa,CAACS,GAAG,CAACF,IAAI,CAAC;IACnD,IAAIC,aAAa,CAACM,UAAU,KAAK,GAAG,EAAE;MACpCV,GAAG,CAACM,MAAM,CAACF,aAAa,CAACM,UAAU,CAAC,CAACF,IAAI,CAACJ,aAAa,CAAC;IAC1D,CAAC,MAAM;MACLJ,GAAG,CAACQ,IAAI,CAACJ,aAAa,CAAC;IACzB;EACF,CAAC;CAAA,CACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]}},"mtime":1719362386840},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\auth\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\auth\\\\service.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst jsonwebtoken_1 = __importDefault(require(\"jsonwebtoken\"));\nconst ms_1 = __importDefault(require(\"ms\"));\nconst db_1 = require(\"../../bin/db\");\nconst common_1 = require(\"../../helper/common\");\nconst send_email_1 = __importDefault(require(\"../../helper/send_email\"));\nconst use_validation_1 = __importDefault(require(\"../../helper/use_validation\"));\nconst response_error_1 = __importDefault(require(\"../../modules/error/response_error\"));\nconst schema_1 = __importDefault(require(\"./schema\"));\nconst sercvice_1 = __importDefault(require(\"../user/sercvice\"));\nconst {\n  JWT_SECRET_ACCESS_TOKEN,\n  JWT_SECRET_REFRESH_TOKEN\n} = process.env;\nconst JWT_ACCESS_TOKEN_EXPIRED = process.env.JWT_ACCESS_TOKEN_EXPIRED || \"1d\"; // 1 Days\nconst JWT_REFRESH_TOKEN_EXPIRED = process.env.JWT_REFRESH_TOKEN_EXPIRED || \"30d\"; // 30 Days\nconst expiresIn = (0, ms_1.default)(JWT_ACCESS_TOKEN_EXPIRED) / 1000;\nclass AuthService {\n  static signUp(formData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const currentUser = yield sercvice_1.default.validateUserEmail(formData.email);\n      if (currentUser) {\n        return {\n          message: \"the user already exist !\",\n          code: 400,\n          currentUser\n        };\n      }\n      // const getNickName = await UserService.checkNickName(formData.email);\n      // if (getNickName === formData.email) {\n      //   return {\n      //     message: \"the nickname is already exist!\",\n      //     code: 400,\n      //     getNickName,\n      //   };\n      // }\n      const generateToken = {\n        code: (0, common_1.getUniqueCodev2)()\n      };\n      const tokenVerify = jsonwebtoken_1.default.sign(JSON.parse(JSON.stringify(generateToken)), JWT_SECRET_ACCESS_TOKEN, {\n        expiresIn\n      });\n      formData.verify_code = (0, common_1.getUniqueCodev3)();\n      formData.tokenVerify = tokenVerify;\n      (0, use_validation_1.default)(schema_1.default.register, formData);\n      const newUserId = yield (0, db_1.createUser)(formData);\n      if (!newUserId) throw new response_error_1.default.BadRequest(\"Cannot add user in the database !\");\n      send_email_1.default.AccountRegister(formData);\n      return {\n        message: null,\n        newUser: {\n          user_id: newUserId,\n          email: formData.email\n        }\n      };\n    });\n  }\n  static signIn(formData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const checkValidation = (0, use_validation_1.default)(schema_1.default.login, formData);\n        const userData = yield (0, db_1.getUserByPassword)(checkValidation.email, checkValidation.password);\n        if (!userData) {\n          throw new response_error_1.default.BadRequest(\"account not found or has been deleted\");\n        } else if (userData.emailConfirmed === 0) {\n          throw new response_error_1.default.BadRequest(\"email is not confirm\");\n        }\n        const comparePassword = true;\n        if (comparePassword) {\n          const payloadToken = {\n            user_id: userData === null || userData === void 0 ? void 0 : userData.user_id,\n            email: userData === null || userData === void 0 ? void 0 : userData.email,\n            firstName: userData.firstName,\n            lastName: userData.lastName\n          };\n          return {\n            message: \"Login successfully\",\n            token_type: \"Bearer\",\n            payloadToken: payloadToken\n          };\n        } else {\n          throw new response_error_1.default.Unauthorized(\"Invalid password\");\n        }\n      } catch (error) {\n        console.error(\"Error during sign-in\", error);\n        return error;\n      }\n    });\n  }\n}\nexports.default = AuthService;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqc29ud2VidG9rZW5fMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJtc18xIiwiZGJfMSIsImNvbW1vbl8xIiwic2VuZF9lbWFpbF8xIiwidXNlX3ZhbGlkYXRpb25fMSIsInJlc3BvbnNlX2Vycm9yXzEiLCJzY2hlbWFfMSIsInNlcmN2aWNlXzEiLCJKV1RfU0VDUkVUX0FDQ0VTU19UT0tFTiIsIkpXVF9TRUNSRVRfUkVGUkVTSF9UT0tFTiIsInByb2Nlc3MiLCJlbnYiLCJKV1RfQUNDRVNTX1RPS0VOX0VYUElSRUQiLCJKV1RfUkVGUkVTSF9UT0tFTl9FWFBJUkVEIiwiZXhwaXJlc0luIiwiZGVmYXVsdCIsIkF1dGhTZXJ2aWNlIiwic2lnblVwIiwiZm9ybURhdGEiLCJjdXJyZW50VXNlciIsInZhbGlkYXRlVXNlckVtYWlsIiwiZW1haWwiLCJtZXNzYWdlIiwiY29kZSIsImdlbmVyYXRlVG9rZW4iLCJnZXRVbmlxdWVDb2RldjIiLCJ0b2tlblZlcmlmeSIsInNpZ24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ2ZXJpZnlfY29kZSIsImdldFVuaXF1ZUNvZGV2MyIsInJlZ2lzdGVyIiwibmV3VXNlcklkIiwiY3JlYXRlVXNlciIsIkJhZFJlcXVlc3QiLCJBY2NvdW50UmVnaXN0ZXIiLCJuZXdVc2VyIiwidXNlcl9pZCIsInNpZ25JbiIsImNoZWNrVmFsaWRhdGlvbiIsImxvZ2luIiwidXNlckRhdGEiLCJnZXRVc2VyQnlQYXNzd29yZCIsInBhc3N3b3JkIiwiZW1haWxDb25maXJtZWQiLCJjb21wYXJlUGFzc3dvcmQiLCJwYXlsb2FkVG9rZW4iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInRva2VuX3R5cGUiLCJVbmF1dGhvcml6ZWQiLCJlcnJvciIsImNvbnNvbGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29udHJvbGxlclxcYXV0aFxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVyL2F1dGgvc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuaW1wb3J0IG1zIGZyb20gXCJtc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVVc2VyLCBnZXRVc2VyQnlQYXNzd29yZCB9IGZyb20gXCIuLi8uLi9iaW4vZGJcIjtcclxuaW1wb3J0IHsgZ2V0VW5pcXVlQ29kZXYyLCBnZXRVbmlxdWVDb2RldjMgfSBmcm9tIFwiLi4vLi4vaGVscGVyL2NvbW1vblwiO1xyXG5pbXBvcnQgU2VuZE1haWwgZnJvbSBcIi4uLy4uL2hlbHBlci9zZW5kX2VtYWlsXCI7XHJcbmltcG9ydCB1c2VWYWxpZGF0aW9uIGZyb20gXCIuLi8uLi9oZWxwZXIvdXNlX3ZhbGlkYXRpb25cIjtcclxuaW1wb3J0IFJlc3BvbnNlRXJyb3IgZnJvbSBcIi4uLy4uL21vZHVsZXMvZXJyb3IvcmVzcG9uc2VfZXJyb3JcIjtcclxuaW1wb3J0IHsgQ3JlYXRlVXNlciwgVXNlciB9IGZyb20gXCIuLi8uLi90eXBlcy91c2VyXCI7XHJcbmltcG9ydCBzY2hlbWFBdXRoIGZyb20gXCIuL3NjaGVtYVwiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4uL3VzZXIvc2VyY3ZpY2VcIjtcclxuXHJcbmNvbnN0IHsgSldUX1NFQ1JFVF9BQ0NFU1NfVE9LRU4sIEpXVF9TRUNSRVRfUkVGUkVTSF9UT0tFTiB9OiBhbnkgPSBwcm9jZXNzLmVudjtcclxuXHJcbmNvbnN0IEpXVF9BQ0NFU1NfVE9LRU5fRVhQSVJFRCA9IHByb2Nlc3MuZW52LkpXVF9BQ0NFU1NfVE9LRU5fRVhQSVJFRCB8fCBcIjFkXCI7IC8vIDEgRGF5c1xyXG5jb25zdCBKV1RfUkVGUkVTSF9UT0tFTl9FWFBJUkVEID1cclxuICBwcm9jZXNzLmVudi5KV1RfUkVGUkVTSF9UT0tFTl9FWFBJUkVEIHx8IFwiMzBkXCI7IC8vIDMwIERheXNcclxuXHJcbmNvbnN0IGV4cGlyZXNJbiA9IG1zKEpXVF9BQ0NFU1NfVE9LRU5fRVhQSVJFRCkgLyAxMDAwO1xyXG5cclxuY2xhc3MgQXV0aFNlcnZpY2Uge1xyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgc2lnblVwKGZvcm1EYXRhOiBDcmVhdGVVc2VyKSB7XHJcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGF3YWl0IFVzZXJTZXJ2aWNlLnZhbGlkYXRlVXNlckVtYWlsKGZvcm1EYXRhLmVtYWlsKTtcclxuICAgIGlmIChjdXJyZW50VXNlcikge1xyXG4gICAgICByZXR1cm4geyBtZXNzYWdlOiBcInRoZSB1c2VyIGFscmVhZHkgZXhpc3QgIVwiLCBjb2RlOiA0MDAsIGN1cnJlbnRVc2VyIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc3QgZ2V0Tmlja05hbWUgPSBhd2FpdCBVc2VyU2VydmljZS5jaGVja05pY2tOYW1lKGZvcm1EYXRhLmVtYWlsKTtcclxuICAgIC8vIGlmIChnZXROaWNrTmFtZSA9PT0gZm9ybURhdGEuZW1haWwpIHtcclxuICAgIC8vICAgcmV0dXJuIHtcclxuICAgIC8vICAgICBtZXNzYWdlOiBcInRoZSBuaWNrbmFtZSBpcyBhbHJlYWR5IGV4aXN0IVwiLFxyXG4gICAgLy8gICAgIGNvZGU6IDQwMCxcclxuICAgIC8vICAgICBnZXROaWNrTmFtZSxcclxuICAgIC8vICAgfTtcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IGdlbmVyYXRlVG9rZW4gPSB7XHJcbiAgICAgIGNvZGU6IGdldFVuaXF1ZUNvZGV2MigpLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHRva2VuVmVyaWZ5ID0gand0LnNpZ24oXHJcbiAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGVUb2tlbikpLFxyXG4gICAgICBKV1RfU0VDUkVUX0FDQ0VTU19UT0tFTixcclxuICAgICAge1xyXG4gICAgICAgIGV4cGlyZXNJbixcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBmb3JtRGF0YS52ZXJpZnlfY29kZSA9IGdldFVuaXF1ZUNvZGV2MygpO1xyXG4gICAgZm9ybURhdGEudG9rZW5WZXJpZnkgPSB0b2tlblZlcmlmeTtcclxuICAgIHVzZVZhbGlkYXRpb24oc2NoZW1hQXV0aC5yZWdpc3RlciwgZm9ybURhdGEpO1xyXG4gICAgY29uc3QgbmV3VXNlcklkID0gYXdhaXQgY3JlYXRlVXNlcihmb3JtRGF0YSk7XHJcbiAgICBpZiAoIW5ld1VzZXJJZClcclxuICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IuQmFkUmVxdWVzdChcIkNhbm5vdCBhZGQgdXNlciBpbiB0aGUgZGF0YWJhc2UgIVwiKTtcclxuICAgIFNlbmRNYWlsLkFjY291bnRSZWdpc3Rlcihmb3JtRGF0YSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBtZXNzYWdlOiBudWxsLFxyXG4gICAgICBuZXdVc2VyOiB7XHJcbiAgICAgICAgdXNlcl9pZDogbmV3VXNlcklkLFxyXG4gICAgICAgIGVtYWlsOiBmb3JtRGF0YS5lbWFpbCxcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIHNpZ25Jbihmb3JtRGF0YTogVXNlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2hlY2tWYWxpZGF0aW9uID0gdXNlVmFsaWRhdGlvbihzY2hlbWFBdXRoLmxvZ2luLCBmb3JtRGF0YSk7XHJcblxyXG4gICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IGdldFVzZXJCeVBhc3N3b3JkKFxyXG4gICAgICAgIGNoZWNrVmFsaWRhdGlvbi5lbWFpbCxcclxuICAgICAgICBjaGVja1ZhbGlkYXRpb24ucGFzc3dvcmRcclxuICAgICAgKTtcclxuICAgICAgaWYgKCF1c2VyRGF0YSkge1xyXG4gICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yLkJhZFJlcXVlc3QoXHJcbiAgICAgICAgICBcImFjY291bnQgbm90IGZvdW5kIG9yIGhhcyBiZWVuIGRlbGV0ZWRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSBpZiAodXNlckRhdGEuZW1haWxDb25maXJtZWQgPT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2VFcnJvci5CYWRSZXF1ZXN0KFwiZW1haWwgaXMgbm90IGNvbmZpcm1cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNvbXBhcmVQYXNzd29yZCA9IHRydWU7XHJcbiAgICAgIGlmIChjb21wYXJlUGFzc3dvcmQpIHtcclxuICAgICAgICBjb25zdCBwYXlsb2FkVG9rZW4gPSB7XHJcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyRGF0YT8udXNlcl9pZCxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyRGF0YT8uZW1haWwsXHJcbiAgICAgICAgICBmaXJzdE5hbWU6IHVzZXJEYXRhLmZpcnN0TmFtZSxcclxuICAgICAgICAgIGxhc3ROYW1lOiB1c2VyRGF0YS5sYXN0TmFtZSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgbWVzc2FnZTogXCJMb2dpbiBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgICAgIHRva2VuX3R5cGU6IFwiQmVhcmVyXCIsXHJcbiAgICAgICAgICBwYXlsb2FkVG9rZW46IHBheWxvYWRUb2tlbixcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yLlVuYXV0aG9yaXplZChcIkludmFsaWQgcGFzc3dvcmRcIik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgc2lnbi1pblwiLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEF1dGhTZXJ2aWNlO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxjQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLElBQUEsR0FBQUYsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUUsSUFBQSxHQUFBRixPQUFBO0FBQ0EsTUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBQ0EsTUFBQUksWUFBQSxHQUFBTCxlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBSyxnQkFBQSxHQUFBTixlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBTSxnQkFBQSxHQUFBUCxlQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFBTyxRQUFBLEdBQUFSLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFRLFVBQUEsR0FBQVQsZUFBQSxDQUFBQyxPQUFBO0FBRUEsTUFBTTtFQUFFUyx1QkFBdUI7RUFBRUM7QUFBd0IsQ0FBRSxHQUFRQyxPQUFPLENBQUNDLEdBQUc7QUFFOUUsTUFBTUMsd0JBQXdCLEdBQUdGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSSxJQUFJLENBQUMsQ0FBQztBQUMvRSxNQUFNQyx5QkFBeUIsR0FDN0JILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSx5QkFBeUIsSUFBSSxLQUFLLENBQUMsQ0FBQztBQUVsRCxNQUFNQyxTQUFTLEdBQUcsSUFBQWQsSUFBQSxDQUFBZSxPQUFFLEVBQUNILHdCQUF3QixDQUFDLEdBQUcsSUFBSTtBQUVyRCxNQUFNSSxXQUFXO0VBQ1IsT0FBYUMsTUFBTUEsQ0FBQ0MsUUFBb0I7O01BQzdDLE1BQU1DLFdBQVcsR0FBRyxNQUFNWixVQUFBLENBQUFRLE9BQVcsQ0FBQ0ssaUJBQWlCLENBQUNGLFFBQVEsQ0FBQ0csS0FBSyxDQUFDO01BQ3ZFLElBQUlGLFdBQVcsRUFBRTtRQUNmLE9BQU87VUFBRUcsT0FBTyxFQUFFLDBCQUEwQjtVQUFFQyxJQUFJLEVBQUUsR0FBRztVQUFFSjtRQUFXLENBQUU7TUFDeEU7TUFFQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0EsTUFBTUssYUFBYSxHQUFHO1FBQ3BCRCxJQUFJLEVBQUUsSUFBQXJCLFFBQUEsQ0FBQXVCLGVBQWU7T0FDdEI7TUFDRCxNQUFNQyxXQUFXLEdBQUc3QixjQUFBLENBQUFrQixPQUFHLENBQUNZLElBQUksQ0FDMUJDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLFNBQVMsQ0FBQ04sYUFBYSxDQUFDLENBQUMsRUFDekNoQix1QkFBdUIsRUFDdkI7UUFDRU07T0FDRCxDQUNGO01BRURJLFFBQVEsQ0FBQ2EsV0FBVyxHQUFHLElBQUE3QixRQUFBLENBQUE4QixlQUFlLEdBQUU7TUFDeENkLFFBQVEsQ0FBQ1EsV0FBVyxHQUFHQSxXQUFXO01BQ2xDLElBQUF0QixnQkFBQSxDQUFBVyxPQUFhLEVBQUNULFFBQUEsQ0FBQVMsT0FBVSxDQUFDa0IsUUFBUSxFQUFFZixRQUFRLENBQUM7TUFDNUMsTUFBTWdCLFNBQVMsR0FBRyxNQUFNLElBQUFqQyxJQUFBLENBQUFrQyxVQUFVLEVBQUNqQixRQUFRLENBQUM7TUFDNUMsSUFBSSxDQUFDZ0IsU0FBUyxFQUNaLE1BQU0sSUFBSTdCLGdCQUFBLENBQUFVLE9BQWEsQ0FBQ3FCLFVBQVUsQ0FBQyxtQ0FBbUMsQ0FBQztNQUN6RWpDLFlBQUEsQ0FBQVksT0FBUSxDQUFDc0IsZUFBZSxDQUFDbkIsUUFBUSxDQUFDO01BQ2xDLE9BQU87UUFDTEksT0FBTyxFQUFFLElBQUk7UUFDYmdCLE9BQU8sRUFBRTtVQUNQQyxPQUFPLEVBQUVMLFNBQVM7VUFDbEJiLEtBQUssRUFBRUgsUUFBUSxDQUFDRzs7T0FFbkI7SUFDSCxDQUFDOztFQUVNLE9BQWFtQixNQUFNQSxDQUFDdEIsUUFBYzs7TUFDdkMsSUFBSTtRQUNGLE1BQU11QixlQUFlLEdBQUcsSUFBQXJDLGdCQUFBLENBQUFXLE9BQWEsRUFBQ1QsUUFBQSxDQUFBUyxPQUFVLENBQUMyQixLQUFLLEVBQUV4QixRQUFRLENBQUM7UUFFakUsTUFBTXlCLFFBQVEsR0FBRyxNQUFNLElBQUExQyxJQUFBLENBQUEyQyxpQkFBaUIsRUFDdENILGVBQWUsQ0FBQ3BCLEtBQUssRUFDckJvQixlQUFlLENBQUNJLFFBQVEsQ0FDekI7UUFDRCxJQUFJLENBQUNGLFFBQVEsRUFBRTtVQUNiLE1BQU0sSUFBSXRDLGdCQUFBLENBQUFVLE9BQWEsQ0FBQ3FCLFVBQVUsQ0FDaEMsdUNBQXVDLENBQ3hDO1FBQ0gsQ0FBQyxNQUFNLElBQUlPLFFBQVEsQ0FBQ0csY0FBYyxLQUFLLENBQUMsRUFBRTtVQUN4QyxNQUFNLElBQUl6QyxnQkFBQSxDQUFBVSxPQUFhLENBQUNxQixVQUFVLENBQUMsc0JBQXNCLENBQUM7UUFDNUQ7UUFFQSxNQUFNVyxlQUFlLEdBQUcsSUFBSTtRQUM1QixJQUFJQSxlQUFlLEVBQUU7VUFDbkIsTUFBTUMsWUFBWSxHQUFHO1lBQ25CVCxPQUFPLEVBQUVJLFFBQVEsYUFBUkEsUUFBUSx1QkFBUkEsUUFBUSxDQUFFSixPQUFPO1lBQzFCbEIsS0FBSyxFQUFFc0IsUUFBUSxhQUFSQSxRQUFRLHVCQUFSQSxRQUFRLENBQUV0QixLQUFLO1lBQ3RCNEIsU0FBUyxFQUFFTixRQUFRLENBQUNNLFNBQVM7WUFDN0JDLFFBQVEsRUFBRVAsUUFBUSxDQUFDTztXQUNwQjtVQUVELE9BQU87WUFDTDVCLE9BQU8sRUFBRSxvQkFBb0I7WUFDN0I2QixVQUFVLEVBQUUsUUFBUTtZQUNwQkgsWUFBWSxFQUFFQTtXQUNmO1FBQ0gsQ0FBQyxNQUFNO1VBQ0wsTUFBTSxJQUFJM0MsZ0JBQUEsQ0FBQVUsT0FBYSxDQUFDcUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDO1FBQzFEO01BQ0YsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtRQUNkQyxPQUFPLENBQUNELEtBQUssQ0FBQyxzQkFBc0IsRUFBRUEsS0FBSyxDQUFDO1FBQzVDLE9BQU9BLEtBQUs7TUFDZDtJQUNGLENBQUM7OztBQUdIRSxPQUFBLENBQUF4QyxPQUFBLEdBQWVDLFdBQVciLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["jsonwebtoken_1","__importDefault","require","ms_1","db_1","common_1","send_email_1","use_validation_1","response_error_1","schema_1","sercvice_1","JWT_SECRET_ACCESS_TOKEN","JWT_SECRET_REFRESH_TOKEN","process","env","JWT_ACCESS_TOKEN_EXPIRED","JWT_REFRESH_TOKEN_EXPIRED","expiresIn","default","AuthService","signUp","formData","currentUser","validateUserEmail","email","message","code","generateToken","getUniqueCodev2","tokenVerify","sign","JSON","parse","stringify","verify_code","getUniqueCodev3","register","newUserId","createUser","BadRequest","AccountRegister","newUser","user_id","signIn","checkValidation","login","userData","getUserByPassword","password","emailConfirmed","comparePassword","payloadToken","firstName","lastName","token_type","Unauthorized","error","console","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\auth\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/auth/service.ts"],"sourcesContent":["import jwt from \"jsonwebtoken\";\r\nimport ms from \"ms\";\r\nimport { createUser, getUserByPassword } from \"../../bin/db\";\r\nimport { getUniqueCodev2, getUniqueCodev3 } from \"../../helper/common\";\r\nimport SendMail from \"../../helper/send_email\";\r\nimport useValidation from \"../../helper/use_validation\";\r\nimport ResponseError from \"../../modules/error/response_error\";\r\nimport { CreateUser, User } from \"../../types/user\";\r\nimport schemaAuth from \"./schema\";\r\nimport UserService from \"../user/sercvice\";\r\n\r\nconst { JWT_SECRET_ACCESS_TOKEN, JWT_SECRET_REFRESH_TOKEN }: any = process.env;\r\n\r\nconst JWT_ACCESS_TOKEN_EXPIRED = process.env.JWT_ACCESS_TOKEN_EXPIRED || \"1d\"; // 1 Days\r\nconst JWT_REFRESH_TOKEN_EXPIRED =\r\n  process.env.JWT_REFRESH_TOKEN_EXPIRED || \"30d\"; // 30 Days\r\n\r\nconst expiresIn = ms(JWT_ACCESS_TOKEN_EXPIRED) / 1000;\r\n\r\nclass AuthService {\r\n  public static async signUp(formData: CreateUser) {\r\n    const currentUser = await UserService.validateUserEmail(formData.email);\r\n    if (currentUser) {\r\n      return { message: \"the user already exist !\", code: 400, currentUser };\r\n    }\r\n\r\n    // const getNickName = await UserService.checkNickName(formData.email);\r\n    // if (getNickName === formData.email) {\r\n    //   return {\r\n    //     message: \"the nickname is already exist!\",\r\n    //     code: 400,\r\n    //     getNickName,\r\n    //   };\r\n    // }\r\n    const generateToken = {\r\n      code: getUniqueCodev2(),\r\n    };\r\n    const tokenVerify = jwt.sign(\r\n      JSON.parse(JSON.stringify(generateToken)),\r\n      JWT_SECRET_ACCESS_TOKEN,\r\n      {\r\n        expiresIn,\r\n      }\r\n    );\r\n\r\n    formData.verify_code = getUniqueCodev3();\r\n    formData.tokenVerify = tokenVerify;\r\n    useValidation(schemaAuth.register, formData);\r\n    const newUserId = await createUser(formData);\r\n    if (!newUserId)\r\n      throw new ResponseError.BadRequest(\"Cannot add user in the database !\");\r\n    SendMail.AccountRegister(formData);\r\n    return {\r\n      message: null,\r\n      newUser: {\r\n        user_id: newUserId,\r\n        email: formData.email,\r\n      },\r\n    };\r\n  }\r\n\r\n  public static async signIn(formData: User) {\r\n    try {\r\n      const checkValidation = useValidation(schemaAuth.login, formData);\r\n\r\n      const userData = await getUserByPassword(\r\n        checkValidation.email,\r\n        checkValidation.password\r\n      );\r\n      if (!userData) {\r\n        throw new ResponseError.BadRequest(\r\n          \"account not found or has been deleted\"\r\n        );\r\n      } else if (userData.emailConfirmed === 0) {\r\n        throw new ResponseError.BadRequest(\"email is not confirm\");\r\n      }\r\n\r\n      const comparePassword = true;\r\n      if (comparePassword) {\r\n        const payloadToken = {\r\n          user_id: userData?.user_id,\r\n          email: userData?.email,\r\n          firstName: userData.firstName,\r\n          lastName: userData.lastName,\r\n        };\r\n\r\n        return {\r\n          message: \"Login successfully\",\r\n          token_type: \"Bearer\",\r\n          payloadToken: payloadToken,\r\n        };\r\n      } else {\r\n        throw new ResponseError.Unauthorized(\"Invalid password\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during sign-in\", error);\r\n      return error;\r\n    }\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,cAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,IAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,IAAA,GAAAF,OAAA;AACA,MAAAG,QAAA,GAAAH,OAAA;AACA,MAAAI,YAAA,GAAAL,eAAA,CAAAC,OAAA;AACA,MAAAK,gBAAA,GAAAN,eAAA,CAAAC,OAAA;AACA,MAAAM,gBAAA,GAAAP,eAAA,CAAAC,OAAA;AAEA,MAAAO,QAAA,GAAAR,eAAA,CAAAC,OAAA;AACA,MAAAQ,UAAA,GAAAT,eAAA,CAAAC,OAAA;AAEA,MAAM;EAAES,uBAAuB;EAAEC;AAAwB,CAAE,GAAQC,OAAO,CAACC,GAAG;AAE9E,MAAMC,wBAAwB,GAAGF,OAAO,CAACC,GAAG,CAACC,wBAAwB,IAAI,IAAI,CAAC,CAAC;AAC/E,MAAMC,yBAAyB,GAC7BH,OAAO,CAACC,GAAG,CAACE,yBAAyB,IAAI,KAAK,CAAC,CAAC;AAElD,MAAMC,SAAS,GAAG,IAAAd,IAAA,CAAAe,OAAE,EAACH,wBAAwB,CAAC,GAAG,IAAI;AAErD,MAAMI,WAAW;EACR,OAAaC,MAAMA,CAACC,QAAoB;;MAC7C,MAAMC,WAAW,GAAG,MAAMZ,UAAA,CAAAQ,OAAW,CAACK,iBAAiB,CAACF,QAAQ,CAACG,KAAK,CAAC;MACvE,IAAIF,WAAW,EAAE;QACf,OAAO;UAAEG,OAAO,EAAE,0BAA0B;UAAEC,IAAI,EAAE,GAAG;UAAEJ;QAAW,CAAE;MACxE;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,MAAMK,aAAa,GAAG;QACpBD,IAAI,EAAE,IAAArB,QAAA,CAAAuB,eAAe;OACtB;MACD,MAAMC,WAAW,GAAG7B,cAAA,CAAAkB,OAAG,CAACY,IAAI,CAC1BC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACN,aAAa,CAAC,CAAC,EACzChB,uBAAuB,EACvB;QACEM;OACD,CACF;MAEDI,QAAQ,CAACa,WAAW,GAAG,IAAA7B,QAAA,CAAA8B,eAAe,GAAE;MACxCd,QAAQ,CAACQ,WAAW,GAAGA,WAAW;MAClC,IAAAtB,gBAAA,CAAAW,OAAa,EAACT,QAAA,CAAAS,OAAU,CAACkB,QAAQ,EAAEf,QAAQ,CAAC;MAC5C,MAAMgB,SAAS,GAAG,MAAM,IAAAjC,IAAA,CAAAkC,UAAU,EAACjB,QAAQ,CAAC;MAC5C,IAAI,CAACgB,SAAS,EACZ,MAAM,IAAI7B,gBAAA,CAAAU,OAAa,CAACqB,UAAU,CAAC,mCAAmC,CAAC;MACzEjC,YAAA,CAAAY,OAAQ,CAACsB,eAAe,CAACnB,QAAQ,CAAC;MAClC,OAAO;QACLI,OAAO,EAAE,IAAI;QACbgB,OAAO,EAAE;UACPC,OAAO,EAAEL,SAAS;UAClBb,KAAK,EAAEH,QAAQ,CAACG;;OAEnB;IACH,CAAC;;EAEM,OAAamB,MAAMA,CAACtB,QAAc;;MACvC,IAAI;QACF,MAAMuB,eAAe,GAAG,IAAArC,gBAAA,CAAAW,OAAa,EAACT,QAAA,CAAAS,OAAU,CAAC2B,KAAK,EAAExB,QAAQ,CAAC;QAEjE,MAAMyB,QAAQ,GAAG,MAAM,IAAA1C,IAAA,CAAA2C,iBAAiB,EACtCH,eAAe,CAACpB,KAAK,EACrBoB,eAAe,CAACI,QAAQ,CACzB;QACD,IAAI,CAACF,QAAQ,EAAE;UACb,MAAM,IAAItC,gBAAA,CAAAU,OAAa,CAACqB,UAAU,CAChC,uCAAuC,CACxC;QACH,CAAC,MAAM,IAAIO,QAAQ,CAACG,cAAc,KAAK,CAAC,EAAE;UACxC,MAAM,IAAIzC,gBAAA,CAAAU,OAAa,CAACqB,UAAU,CAAC,sBAAsB,CAAC;QAC5D;QAEA,MAAMW,eAAe,GAAG,IAAI;QAC5B,IAAIA,eAAe,EAAE;UACnB,MAAMC,YAAY,GAAG;YACnBT,OAAO,EAAEI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEJ,OAAO;YAC1BlB,KAAK,EAAEsB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEtB,KAAK;YACtB4B,SAAS,EAAEN,QAAQ,CAACM,SAAS;YAC7BC,QAAQ,EAAEP,QAAQ,CAACO;WACpB;UAED,OAAO;YACL5B,OAAO,EAAE,oBAAoB;YAC7B6B,UAAU,EAAE,QAAQ;YACpBH,YAAY,EAAEA;WACf;QACH,CAAC,MAAM;UACL,MAAM,IAAI3C,gBAAA,CAAAU,OAAa,CAACqC,YAAY,CAAC,kBAAkB,CAAC;QAC1D;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C,OAAOA,KAAK;MACd;IACF,CAAC;;;AAGHE,OAAA,CAAAxC,OAAA,GAAeC,WAAW","ignoreList":[]}},"mtime":1719368467826},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\auth\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\auth\\\\schema.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst yup = __importStar(require(\"yup\"));\nconst register = yup.object().shape({\n  firstName: yup.string().required('firstname is required'),\n  lastName: yup.string().required('lastName is required'),\n  nickName: yup.string().required('nickName is required'),\n  email: yup.string().email('invalid email').required('email is required'),\n  phoneNumber: yup.string().nullable(),\n  tokenVerify: yup.string().nullable(),\n  password: yup.string().min(8, 'at least 8 charecters').oneOf([yup.ref('confirmPassword')], 'password are not the same'),\n  confirmPassword: yup.string().min(8, 'at least 8 charecters').oneOf([yup.ref('password')], 'password are not the same')\n});\nconst login = yup.object().shape({\n  email: yup.string().required('email is required'),\n  password: yup.string().required('password is required')\n}).required();\nexports.default = {\n  register,\n  login\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ5dXAiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwicmVnaXN0ZXIiLCJvYmplY3QiLCJzaGFwZSIsImZpcnN0TmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibGFzdE5hbWUiLCJuaWNrTmFtZSIsImVtYWlsIiwicGhvbmVOdW1iZXIiLCJudWxsYWJsZSIsInRva2VuVmVyaWZ5IiwicGFzc3dvcmQiLCJtaW4iLCJvbmVPZiIsInJlZiIsImNvbmZpcm1QYXNzd29yZCIsImxvZ2luIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxjb250cm9sbGVyXFxhdXRoXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXIvYXV0aC9zY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgeXVwIGZyb20gJ3l1cCc7XHJcblxyXG5jb25zdCByZWdpc3RlciA9IHl1cC5vYmplY3QoKS5zaGFwZSh7XHJcbiAgICBmaXJzdE5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgnZmlyc3RuYW1lIGlzIHJlcXVpcmVkJyksXHJcbiAgICBsYXN0TmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCdsYXN0TmFtZSBpcyByZXF1aXJlZCcpLFxyXG4gICAgbmlja05hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgnbmlja05hbWUgaXMgcmVxdWlyZWQnKSxcclxuICAgIGVtYWlsOiB5dXAuc3RyaW5nKCkuZW1haWwoJ2ludmFsaWQgZW1haWwnKS5yZXF1aXJlZCgnZW1haWwgaXMgcmVxdWlyZWQnKSxcclxuICAgIHBob25lTnVtYmVyOiB5dXAuc3RyaW5nKCkubnVsbGFibGUoKSxcclxuICAgIHRva2VuVmVyaWZ5OiB5dXAuc3RyaW5nKCkubnVsbGFibGUoKSxcclxuICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkubWluKDgsICdhdCBsZWFzdCA4IGNoYXJlY3RlcnMnKVxyXG4gICAgICAgIC5vbmVPZihbeXVwLnJlZignY29uZmlybVBhc3N3b3JkJyldLCAncGFzc3dvcmQgYXJlIG5vdCB0aGUgc2FtZScpLFxyXG4gICAgY29uZmlybVBhc3N3b3JkOiB5dXAuc3RyaW5nKCkubWluKDgsICdhdCBsZWFzdCA4IGNoYXJlY3RlcnMnKVxyXG4gICAgICAgIC5vbmVPZihbeXVwLnJlZigncGFzc3dvcmQnKV0sICdwYXNzd29yZCBhcmUgbm90IHRoZSBzYW1lJylcclxufSk7XHJcblxyXG5jb25zdCBsb2dpbiA9IHl1cC5vYmplY3QoKVxyXG4gICAgLnNoYXBlKHtcclxuICAgICAgICBlbWFpbDogeXVwLnN0cmluZygpLnJlcXVpcmVkKCdlbWFpbCBpcyByZXF1aXJlZCcpLFxyXG4gICAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoJ3Bhc3N3b3JkIGlzIHJlcXVpcmVkJyksXHJcbiAgICB9KS5yZXF1aXJlZCgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyByZWdpc3RlciwgbG9naW4gfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBQUEsR0FBQSxHQUFBQyxZQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0ksTUFBTSxFQUFFLENBQUNDLEtBQUssQ0FBQztFQUNoQ0MsU0FBUyxFQUFFTixHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDQyxRQUFRLENBQUMsdUJBQXVCLENBQUM7RUFDekRDLFFBQVEsRUFBRVQsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDLHNCQUFzQixDQUFDO0VBQ3ZERSxRQUFRLEVBQUVWLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUNDLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQztFQUN2REcsS0FBSyxFQUFFWCxHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDSSxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUNILFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztFQUN4RUksV0FBVyxFQUFFWixHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDTSxRQUFRLEVBQUU7RUFDcENDLFdBQVcsRUFBRWQsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ00sUUFBUSxFQUFFO0VBQ3BDRSxRQUFRLEVBQUVmLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUNTLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FDakRDLEtBQUssQ0FBQyxDQUFDakIsR0FBRyxDQUFDa0IsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsRUFBRSwyQkFBMkIsQ0FBQztFQUNyRUMsZUFBZSxFQUFFbkIsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ1MsR0FBRyxDQUFDLENBQUMsRUFBRSx1QkFBdUIsQ0FBQyxDQUN4REMsS0FBSyxDQUFDLENBQUNqQixHQUFHLENBQUNrQixHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSwyQkFBMkI7Q0FDaEUsQ0FBQztBQUVGLE1BQU1FLEtBQUssR0FBR3BCLEdBQUcsQ0FBQ0ksTUFBTSxFQUFFLENBQ3JCQyxLQUFLLENBQUM7RUFDSE0sS0FBSyxFQUFFWCxHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDQyxRQUFRLENBQUMsbUJBQW1CLENBQUM7RUFDakRPLFFBQVEsRUFBRWYsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDLHNCQUFzQjtDQUN6RCxDQUFDLENBQUNBLFFBQVEsRUFBRTtBQUVqQmEsT0FBQSxDQUFBQyxPQUFBLEdBQWU7RUFBRW5CLFFBQVE7RUFBRWlCO0FBQUssQ0FBRSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["yup","__importStar","require","register","object","shape","firstName","string","required","lastName","nickName","email","phoneNumber","nullable","tokenVerify","password","min","oneOf","ref","confirmPassword","login","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\auth\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/auth/schema.ts"],"sourcesContent":["import * as yup from 'yup';\r\n\r\nconst register = yup.object().shape({\r\n    firstName: yup.string().required('firstname is required'),\r\n    lastName: yup.string().required('lastName is required'),\r\n    nickName: yup.string().required('nickName is required'),\r\n    email: yup.string().email('invalid email').required('email is required'),\r\n    phoneNumber: yup.string().nullable(),\r\n    tokenVerify: yup.string().nullable(),\r\n    password: yup.string().min(8, 'at least 8 charecters')\r\n        .oneOf([yup.ref('confirmPassword')], 'password are not the same'),\r\n    confirmPassword: yup.string().min(8, 'at least 8 charecters')\r\n        .oneOf([yup.ref('password')], 'password are not the same')\r\n});\r\n\r\nconst login = yup.object()\r\n    .shape({\r\n        email: yup.string().required('email is required'),\r\n        password: yup.string().required('password is required'),\r\n    }).required();\r\n\r\nexport default { register, login }"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,GAAA,GAAAC,YAAA,CAAAC,OAAA;AAEA,MAAMC,QAAQ,GAAGH,GAAG,CAACI,MAAM,EAAE,CAACC,KAAK,CAAC;EAChCC,SAAS,EAAEN,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,uBAAuB,CAAC;EACzDC,QAAQ,EAAET,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,sBAAsB,CAAC;EACvDE,QAAQ,EAAEV,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,sBAAsB,CAAC;EACvDG,KAAK,EAAEX,GAAG,CAACO,MAAM,EAAE,CAACI,KAAK,CAAC,eAAe,CAAC,CAACH,QAAQ,CAAC,mBAAmB,CAAC;EACxEI,WAAW,EAAEZ,GAAG,CAACO,MAAM,EAAE,CAACM,QAAQ,EAAE;EACpCC,WAAW,EAAEd,GAAG,CAACO,MAAM,EAAE,CAACM,QAAQ,EAAE;EACpCE,QAAQ,EAAEf,GAAG,CAACO,MAAM,EAAE,CAACS,GAAG,CAAC,CAAC,EAAE,uBAAuB,CAAC,CACjDC,KAAK,CAAC,CAACjB,GAAG,CAACkB,GAAG,CAAC,iBAAiB,CAAC,CAAC,EAAE,2BAA2B,CAAC;EACrEC,eAAe,EAAEnB,GAAG,CAACO,MAAM,EAAE,CAACS,GAAG,CAAC,CAAC,EAAE,uBAAuB,CAAC,CACxDC,KAAK,CAAC,CAACjB,GAAG,CAACkB,GAAG,CAAC,UAAU,CAAC,CAAC,EAAE,2BAA2B;CAChE,CAAC;AAEF,MAAME,KAAK,GAAGpB,GAAG,CAACI,MAAM,EAAE,CACrBC,KAAK,CAAC;EACHM,KAAK,EAAEX,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,mBAAmB,CAAC;EACjDO,QAAQ,EAAEf,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,sBAAsB;CACzD,CAAC,CAACA,QAAQ,EAAE;AAEjBa,OAAA,CAAAC,OAAA,GAAe;EAAEnB,QAAQ;EAAEiB;AAAK,CAAE","ignoreList":[]}},"mtime":1718328869449},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\bin\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\bin\\\\db.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserSkills = exports.getCustomers = exports.deleteAppointment = exports.updateAppointment = exports.getAppointment = exports.saveAppointment = exports.getUserInfo = exports.getNavItems = exports.updateProfileUser = exports.getOTP = exports.getUserByPassword = exports.confirmEmail = exports.createUser = exports.checkNickName = exports.checkUserExist = void 0;\nconst bcrypt_1 = __importDefault(require(\"bcrypt\"));\nconst uuid_1 = require(\"uuid\");\nconst schema_1 = __importDefault(require(\"../controller/user/schema\"));\nconst mysql_1 = require(\"./mysql\");\n// Users\nfunction checkUserExist(email) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const user = yield (0, mysql_1.query)(`SELECT user_id,email FROM  ${mysql_1.coreSchema}.users\n      WHERE email=?`, {\n      values: [email]\n    });\n    return user;\n  });\n}\nexports.checkUserExist = checkUserExist;\nfunction checkNickName() {\n  return __awaiter(this, void 0, void 0, function* () {\n    const getData = yield (0, mysql_1.query)(`SELECT * FROM Ali_DB.users`);\n    return getData;\n  });\n}\nexports.checkNickName = checkNickName;\nfunction createUser(data) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const {\n      password\n    } = data;\n    const {\n      confirmPassword\n    } = data;\n    const fdPassword = {\n      password,\n      confirmPassword\n    };\n    const validPassword = schema_1.default.createPassword.validateSyncAt(\"confirmPassword\", fdPassword);\n    const saltRounds = 10;\n    const hash = bcrypt_1.default.hashSync(validPassword, saltRounds);\n    const newId = (0, uuid_1.v4)();\n    const result = yield (0, mysql_1.query)(`INSERT INTO ${mysql_1.coreSchema}.users\n    (user_id,firstName,lastName,nickName,gender,birthDay,email,phoneNumber,password,signupStatus,verify_code,createdAt,updatedAt,tokenVerify)\n    VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?)`, {\n      values: [newId, data.firstName, data.lastName, data.nickName, data.gender, data.birthDay, data.email, data.phoneNumber, hash, 0, data.verify_code, new Date(), new Date(), data.tokenVerify]\n    });\n    return result;\n  });\n}\nexports.createUser = createUser;\nfunction confirmEmail(data) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const result = yield (0, mysql_1.query)(`\n    SELECT * \n    FROM ${mysql_1.coreSchema}.users\n    WHERE email=? AND deletedAt IS NULL\n    `, {\n      values: [data.email]\n    });\n    if (result.length < 1) return {\n      isSuccessfull: false,\n      status: 1,\n      message: \"user not found!\"\n    };\n    const user = result[0];\n    if (user.email !== data.email) return {\n      isSuccessfull: false,\n      status: 1,\n      message: \"email is not correct\"\n    };\n    if (user.emailConfirmed) {\n      if (user.signupStatus === 1) {\n        const result = yield (0, mysql_1.query)(`\n        UPDATE ${mysql_1.coreSchema}.users\n        SET signupStatus=?,emailConfirmed=?,updatedAt=?\n        WHERE email =?\n        `, {\n          values: [1, 1, new Date(), data.email]\n        });\n      }\n      return {\n        isSuccessfull: true,\n        message: \"email already confirmed\"\n      };\n    }\n    if (user.verify_code !== data.verify_code) return {\n      status: false,\n      message: \"code is not correct\",\n      code: 400\n    };\n    yield (0, mysql_1.query)(`\n    UPDATE ${mysql_1.coreSchema}.users\n    SET emailConfirmed=1, signupStatus=2,updatedAt=?\n    WHERE email=?\n  `, {\n      values: [new Date(), data.email]\n    });\n    return {\n      isSuccessfull: true,\n      showToUser: true,\n      messageCode: \"MSG_01\",\n      messageKind: 1,\n      message: \"email confirmed successfully\"\n    };\n  });\n}\nexports.confirmEmail = confirmEmail;\nfunction getUserByPassword(email, password) {\n  return __awaiter(this, void 0, void 0, function* () {\n    try {\n      const user = yield (0, mysql_1.query)(`SELECT * FROM ${mysql_1.coreSchema}.users WHERE email=?`, {\n        values: [email]\n      });\n      if (user.length < 1) return null;\n      const match = yield new Promise((resolve, reject) => {\n        bcrypt_1.default.compare(password, user[0].password, (err, isMatch) => {\n          if (err) reject(err);\n          resolve(isMatch);\n        });\n      });\n      if (!match) return null;\n      return user[0];\n    } catch (error) {\n      console.error(\"Error fetching user by password:\", error);\n      throw new Error(\"Could not fetch user\");\n    }\n  });\n}\nexports.getUserByPassword = getUserByPassword;\nfunction getOTP(email, tokenVerify) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const updateData = yield (0, mysql_1.query)(`UPDATE  ${mysql_1.coreSchema}.users SET verify_code=? WHERE email = ?`, {\n      values: [tokenVerify, email]\n    });\n    const result = yield (0, mysql_1.query)(`SELECT * FROM ${mysql_1.coreSchema}.users WHERE email = ?`, {\n      values: [email]\n    });\n    return result[0];\n  });\n}\nexports.getOTP = getOTP;\nfunction updateProfileUser(data) {\n  return __awaiter(this, void 0, void 0, function* () {\n    try {\n      const updateUsersql = `\n      UPDATE ${mysql_1.coreSchema}.users SET\n        firstName = ?,\n        lastName = ?,\n        email = ?,\n        address = ?,\n        country = ?,\n        city = ?,\n        state = ?,\n        zipcode = ?,\n      \n    `;\n      const updateUservalues = [data.firstName, data.lastName, data.email, data.address, data.country, data.city, data.state, data.zipcode];\n      const result = yield (0, mysql_1.query)(updateUsersql, updateUservalues);\n      const insertSkillSql = `INSERT INTO ${mysql_1.coreSchema}.user_skill (user_id, skill_name) VALUES (?, ?)`;\n      for (const skill of data.skills) {\n        yield (0, mysql_1.query)(insertSkillSql, [data.user_id, skill]);\n      }\n      return {\n        message: \"User profile and skills updated successfully\"\n      };\n    } catch (error) {\n      console.error(\"Error updating user profile:\", error);\n      throw new Error(\"Could not update user profile\");\n    }\n  });\n}\nexports.updateProfileUser = updateProfileUser;\nfunction getNavItems() {\n  return __awaiter(this, void 0, void 0, function* () {\n    const getManu = yield (0, mysql_1.query)(`\n  SELECT\n  m.menu_id, \n  m.icon, \n  m.menu_name, \n  m.path, \n  s.submenu_id, \n  s.submenu_name, \n  s.url\nFROM \n  ${mysql_1.coreSchema}.menu m\nLEFT JOIN \n  ${mysql_1.coreSchema}.submenu s ON m.menu_id = s.menu_id\nORDER BY \n  m.menu_id, s.submenu_id;\n  `);\n    try {\n      const menuMap = new Map();\n      getManu.forEach(row => {\n        var _a;\n        const menuId = row.menu_id;\n        if (!menuMap.has(menuId)) {\n          menuMap.set(menuId, {\n            menu_id: row.menu_id,\n            icon: row.icon,\n            menu_name: row.menu_name,\n            path: row.path,\n            submenus: []\n          });\n        }\n        if (row.submenu_id) {\n          const submenu = {\n            submenu_id: row.submenu_id,\n            submenu_name: row.submenu_name,\n            url: row.url\n          };\n          (_a = menuMap.get(menuId)) === null || _a === void 0 ? void 0 : _a.submenus.push(submenu);\n        }\n      });\n      return Array.from(menuMap.values());\n    } catch (error) {\n      console.error(\"Error fetching navigation items:\", error);\n      throw error;\n    }\n  });\n}\nexports.getNavItems = getNavItems;\nfunction getUserInfo(email) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const data = yield (0, mysql_1.query)(`SELECT * FROM ${mysql_1.coreSchema}.user_info WHERE email=?`, {\n      values: [email]\n    });\n    if (data) return data;\n  });\n}\nexports.getUserInfo = getUserInfo;\nfunction saveAppointment(eventData) {\n  return __awaiter(this, void 0, void 0, function* () {\n    try {\n      const insertEvent = yield (0, mysql_1.query)(`INSERT INTO ${mysql_1.coreSchema}.calendar_events \n      (event_title, color, date, event_description)\n       VALUES (?, ?, ?, ?)`, {\n        values: [eventData.event_title, eventData.color, eventData.date, eventData.event_description]\n      });\n      return insertEvent;\n    } catch (error) {\n      throw new Error(`Error inserting event: ${error}`);\n    }\n  });\n}\nexports.saveAppointment = saveAppointment;\nfunction getAppointment() {\n  return __awaiter(this, void 0, void 0, function* () {\n    const getEventData = yield (0, mysql_1.query)(`SELECT * FROM ${mysql_1.coreSchema}.calendar_events`);\n    return getEventData;\n  });\n}\nexports.getAppointment = getAppointment;\nfunction updateAppointment(data) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const result = yield (0, mysql_1.query)(`UPDATE ${mysql_1.coreSchema}.calendar_events\n    SET date = ?, updated_at = ?\n    WHERE event_id = ?`, {\n      values: [data.date, new Date(), data.event_id]\n    });\n    if (result) {\n      return result;\n    }\n  });\n}\nexports.updateAppointment = updateAppointment;\nfunction deleteAppointment(event_id) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const result = yield (0, mysql_1.query)(`DELETE FROM ${mysql_1.coreSchema}.calendar_events\n      WHERE event_id=?`, {\n      values: [event_id]\n    });\n    return result;\n  });\n}\nexports.deleteAppointment = deleteAppointment;\nfunction getCustomers() {\n  return __awaiter(this, void 0, void 0, function* () {\n    const customers = yield (0, mysql_1.query)(`\n  SELECT * FROM ${mysql_1.coreSchema}.user_info\n  `);\n    return customers;\n  });\n}\nexports.getCustomers = getCustomers;\nfunction getUserSkills() {\n  return __awaiter(this, void 0, void 0, function* () {\n    const skills = yield (0, mysql_1.query)(`\n    SELECT * FROM ${mysql_1.coreSchema}.user_skill\n    `);\n    return skills;\n  });\n}\nexports.getUserSkills = getUserSkills;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiY3J5cHRfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJ1dWlkXzEiLCJzY2hlbWFfMSIsIm15c3FsXzEiLCJjaGVja1VzZXJFeGlzdCIsImVtYWlsIiwidXNlciIsInF1ZXJ5IiwiY29yZVNjaGVtYSIsInZhbHVlcyIsImV4cG9ydHMiLCJjaGVja05pY2tOYW1lIiwiZ2V0RGF0YSIsImNyZWF0ZVVzZXIiLCJkYXRhIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJmZFBhc3N3b3JkIiwidmFsaWRQYXNzd29yZCIsImRlZmF1bHQiLCJjcmVhdGVQYXNzd29yZCIsInZhbGlkYXRlU3luY0F0Iiwic2FsdFJvdW5kcyIsImhhc2giLCJoYXNoU3luYyIsIm5ld0lkIiwidjQiLCJyZXN1bHQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm5pY2tOYW1lIiwiZ2VuZGVyIiwiYmlydGhEYXkiLCJwaG9uZU51bWJlciIsInZlcmlmeV9jb2RlIiwiRGF0ZSIsInRva2VuVmVyaWZ5IiwiY29uZmlybUVtYWlsIiwibGVuZ3RoIiwiaXNTdWNjZXNzZnVsbCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJlbWFpbENvbmZpcm1lZCIsInNpZ251cFN0YXR1cyIsImNvZGUiLCJzaG93VG9Vc2VyIiwibWVzc2FnZUNvZGUiLCJtZXNzYWdlS2luZCIsImdldFVzZXJCeVBhc3N3b3JkIiwibWF0Y2giLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNvbXBhcmUiLCJlcnIiLCJpc01hdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJnZXRPVFAiLCJ1cGRhdGVEYXRhIiwidXBkYXRlUHJvZmlsZVVzZXIiLCJ1cGRhdGVVc2Vyc3FsIiwidXBkYXRlVXNlcnZhbHVlcyIsImFkZHJlc3MiLCJjb3VudHJ5IiwiY2l0eSIsInN0YXRlIiwiemlwY29kZSIsImluc2VydFNraWxsU3FsIiwic2tpbGwiLCJza2lsbHMiLCJ1c2VyX2lkIiwiZ2V0TmF2SXRlbXMiLCJnZXRNYW51IiwibWVudU1hcCIsIk1hcCIsImZvckVhY2giLCJyb3ciLCJtZW51SWQiLCJtZW51X2lkIiwiaGFzIiwic2V0IiwiaWNvbiIsIm1lbnVfbmFtZSIsInBhdGgiLCJzdWJtZW51cyIsInN1Ym1lbnVfaWQiLCJzdWJtZW51Iiwic3VibWVudV9uYW1lIiwidXJsIiwiX2EiLCJnZXQiLCJwdXNoIiwiQXJyYXkiLCJmcm9tIiwiZ2V0VXNlckluZm8iLCJzYXZlQXBwb2ludG1lbnQiLCJldmVudERhdGEiLCJpbnNlcnRFdmVudCIsImV2ZW50X3RpdGxlIiwiY29sb3IiLCJkYXRlIiwiZXZlbnRfZGVzY3JpcHRpb24iLCJnZXRBcHBvaW50bWVudCIsImdldEV2ZW50RGF0YSIsInVwZGF0ZUFwcG9pbnRtZW50IiwiZXZlbnRfaWQiLCJkZWxldGVBcHBvaW50bWVudCIsImdldEN1c3RvbWVycyIsImN1c3RvbWVycyIsImdldFVzZXJTa2lsbHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxiaW5cXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvYmluL2RiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5pbXBvcnQgc2NoZW1hVXNlciBmcm9tIFwiLi4vY29udHJvbGxlci91c2VyL3NjaGVtYVwiO1xyXG5pbXBvcnQgeyBJQXBwb2ludG1lbnQgfSBmcm9tIFwiLi4vdHlwZXMvYXBwb2ludG1lbnQuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1lbnUsIFN1Ym1lbnUgfSBmcm9tIFwiLi4vdHlwZXMvbmF2SXRlbVwiO1xyXG5pbXBvcnQgeyBBcHBSZXNwb25zZSB9IGZyb20gXCIuLi90eXBlcy9yZXNwb25zZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ29uZmlybUVtYWlsLCBVc2VyIH0gZnJvbSBcIi4uL3R5cGVzL3VzZXJcIjtcclxuaW1wb3J0IHsgUm93RGF0YVBhY2tldCwgY29yZVNjaGVtYSwgcXVlcnkgfSBmcm9tIFwiLi9teXNxbFwiO1xyXG5cclxuLy8gVXNlcnNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrVXNlckV4aXN0KGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFJvd0RhdGFQYWNrZXRbXT4ge1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBxdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVCB1c2VyX2lkLGVtYWlsIEZST00gICR7Y29yZVNjaGVtYX0udXNlcnNcclxuICAgICAgV0hFUkUgZW1haWw9P2AsXHJcbiAgICB7XHJcbiAgICAgIHZhbHVlczogW2VtYWlsXSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiB1c2VyO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tOaWNrTmFtZSgpOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IGdldERhdGEgPSBhd2FpdCBxdWVyeTxSb3dEYXRhUGFja2V0PihcclxuICAgIGBTRUxFQ1QgKiBGUk9NIEFsaV9EQi51c2Vyc2BcclxuICApO1xyXG4gIHJldHVybiBnZXREYXRhO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcihkYXRhOiBhbnkpIHtcclxuICBjb25zdCB7IHBhc3N3b3JkIH0gPSBkYXRhO1xyXG4gIGNvbnN0IHsgY29uZmlybVBhc3N3b3JkIH0gPSBkYXRhO1xyXG4gIGNvbnN0IGZkUGFzc3dvcmQgPSB7IHBhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfTtcclxuICBjb25zdCB2YWxpZFBhc3N3b3JkID0gc2NoZW1hVXNlci5jcmVhdGVQYXNzd29yZC52YWxpZGF0ZVN5bmNBdChcclxuICAgIFwiY29uZmlybVBhc3N3b3JkXCIsXHJcbiAgICBmZFBhc3N3b3JkXHJcbiAgKTtcclxuICBjb25zdCBzYWx0Um91bmRzID0gMTA7XHJcbiAgY29uc3QgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyh2YWxpZFBhc3N3b3JkLCBzYWx0Um91bmRzKTtcclxuICBjb25zdCBuZXdJZCA9IHV1aWR2NCgpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeTxSb3dEYXRhUGFja2V0PihcclxuICAgIGBJTlNFUlQgSU5UTyAke2NvcmVTY2hlbWF9LnVzZXJzXHJcbiAgICAodXNlcl9pZCxmaXJzdE5hbWUsbGFzdE5hbWUsbmlja05hbWUsZ2VuZGVyLGJpcnRoRGF5LGVtYWlsLHBob25lTnVtYmVyLHBhc3N3b3JkLHNpZ251cFN0YXR1cyx2ZXJpZnlfY29kZSxjcmVhdGVkQXQsdXBkYXRlZEF0LHRva2VuVmVyaWZ5KVxyXG4gICAgVkFMVUVTKD8sPyw/LD8sPyw/LD8sPyw/LD8sPyw/LD8sPylgLFxyXG4gICAge1xyXG4gICAgICB2YWx1ZXM6IFtcclxuICAgICAgICBuZXdJZCxcclxuICAgICAgICBkYXRhLmZpcnN0TmFtZSxcclxuICAgICAgICBkYXRhLmxhc3ROYW1lLFxyXG4gICAgICAgIGRhdGEubmlja05hbWUsXHJcbiAgICAgICAgZGF0YS5nZW5kZXIsXHJcbiAgICAgICAgZGF0YS5iaXJ0aERheSxcclxuICAgICAgICBkYXRhLmVtYWlsLFxyXG4gICAgICAgIGRhdGEucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgaGFzaCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIGRhdGEudmVyaWZ5X2NvZGUsXHJcbiAgICAgICAgbmV3IERhdGUoKSxcclxuICAgICAgICBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGRhdGEudG9rZW5WZXJpZnksXHJcbiAgICAgIF0sXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29uZmlybUVtYWlsKGRhdGE6IENvbmZpcm1FbWFpbCkge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgXHJcbiAgICBTRUxFQ1QgKiBcclxuICAgIEZST00gJHtjb3JlU2NoZW1hfS51c2Vyc1xyXG4gICAgV0hFUkUgZW1haWw9PyBBTkQgZGVsZXRlZEF0IElTIE5VTExcclxuICAgIGAsXHJcbiAgICB7XHJcbiAgICAgIHZhbHVlczogW2RhdGEuZW1haWxdLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgaWYgKHJlc3VsdC5sZW5ndGggPCAxKVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNTdWNjZXNzZnVsbDogZmFsc2UsXHJcbiAgICAgIHN0YXR1czogMSxcclxuICAgICAgbWVzc2FnZTogXCJ1c2VyIG5vdCBmb3VuZCFcIixcclxuICAgIH0gYXMgQXBwUmVzcG9uc2U7XHJcbiAgY29uc3QgdXNlciA9IHJlc3VsdFswXSBhcyBVc2VyO1xyXG4gIGlmICh1c2VyLmVtYWlsICE9PSBkYXRhLmVtYWlsKVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNTdWNjZXNzZnVsbDogZmFsc2UsXHJcbiAgICAgIHN0YXR1czogMSxcclxuICAgICAgbWVzc2FnZTogXCJlbWFpbCBpcyBub3QgY29ycmVjdFwiLFxyXG4gICAgfSBhcyBBcHBSZXNwb25zZTtcclxuICBpZiAodXNlci5lbWFpbENvbmZpcm1lZCkge1xyXG4gICAgaWYgKHVzZXIuc2lnbnVwU3RhdHVzID09PSAxKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICAgICAgYFxyXG4gICAgICAgIFVQREFURSAke2NvcmVTY2hlbWF9LnVzZXJzXHJcbiAgICAgICAgU0VUIHNpZ251cFN0YXR1cz0/LGVtYWlsQ29uZmlybWVkPT8sdXBkYXRlZEF0PT9cclxuICAgICAgICBXSEVSRSBlbWFpbCA9P1xyXG4gICAgICAgIGAsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWVzOiBbMSwgMSwgbmV3IERhdGUoKSwgZGF0YS5lbWFpbF0sXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNTdWNjZXNzZnVsbDogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJlbWFpbCBhbHJlYWR5IGNvbmZpcm1lZFwiLFxyXG4gICAgfSBhcyBBcHBSZXNwb25zZTtcclxuICB9XHJcbiAgaWYgKHVzZXIudmVyaWZ5X2NvZGUgIT09IGRhdGEudmVyaWZ5X2NvZGUpXHJcbiAgICByZXR1cm4geyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiBcImNvZGUgaXMgbm90IGNvcnJlY3RcIiwgY29kZTogNDAwIH07XHJcbiAgYXdhaXQgcXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBcclxuICAgIFVQREFURSAke2NvcmVTY2hlbWF9LnVzZXJzXHJcbiAgICBTRVQgZW1haWxDb25maXJtZWQ9MSwgc2lnbnVwU3RhdHVzPTIsdXBkYXRlZEF0PT9cclxuICAgIFdIRVJFIGVtYWlsPT9cclxuICBgLFxyXG4gICAge1xyXG4gICAgICB2YWx1ZXM6IFtuZXcgRGF0ZSgpLCBkYXRhLmVtYWlsXSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiB7XHJcbiAgICBpc1N1Y2Nlc3NmdWxsOiB0cnVlLFxyXG4gICAgc2hvd1RvVXNlcjogdHJ1ZSxcclxuICAgIG1lc3NhZ2VDb2RlOiBcIk1TR18wMVwiLFxyXG4gICAgbWVzc2FnZUtpbmQ6IDEsXHJcbiAgICBtZXNzYWdlOiBcImVtYWlsIGNvbmZpcm1lZCBzdWNjZXNzZnVsbHlcIixcclxuICB9IGFzIEFwcFJlc3BvbnNlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5UGFzc3dvcmQoXHJcbiAgZW1haWw6IHN0cmluZyxcclxuICBwYXNzd29yZDogc3RyaW5nXHJcbik6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICAgIGBTRUxFQ1QgKiBGUk9NICR7Y29yZVNjaGVtYX0udXNlcnMgV0hFUkUgZW1haWw9P2AsXHJcbiAgICAgIHtcclxuICAgICAgICB2YWx1ZXM6IFtlbWFpbF0sXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBpZiAodXNlci5sZW5ndGggPCAxKSByZXR1cm4gbnVsbDtcclxuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlclswXS5wYXNzd29yZCwgKGVyciwgaXNNYXRjaCkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpO1xyXG4gICAgICAgIHJlc29sdmUoaXNNYXRjaCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcclxuICAgIHJldHVybiB1c2VyWzBdIGFzIFVzZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIGJ5IHBhc3N3b3JkOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmV0Y2ggdXNlclwiKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9UUChlbWFpbDogYW55LCB0b2tlblZlcmlmeTogYW55KSB7XHJcbiAgY29uc3QgdXBkYXRlRGF0YSA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgVVBEQVRFICAke2NvcmVTY2hlbWF9LnVzZXJzIFNFVCB2ZXJpZnlfY29kZT0/IFdIRVJFIGVtYWlsID0gP2AsXHJcbiAgICB7XHJcbiAgICAgIHZhbHVlczogW3Rva2VuVmVyaWZ5LCBlbWFpbF0sXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgKiBGUk9NICR7Y29yZVNjaGVtYX0udXNlcnMgV0hFUkUgZW1haWwgPSA/YCxcclxuICAgIHtcclxuICAgICAgdmFsdWVzOiBbZW1haWxdLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIHJlc3VsdFswXSBhcyBVc2VyO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZmlsZVVzZXIoZGF0YTogVXNlcik6IFByb21pc2U8YW55PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVwZGF0ZVVzZXJzcWwgPSBgXHJcbiAgICAgIFVQREFURSAke2NvcmVTY2hlbWF9LnVzZXJzIFNFVFxyXG4gICAgICAgIGZpcnN0TmFtZSA9ID8sXHJcbiAgICAgICAgbGFzdE5hbWUgPSA/LFxyXG4gICAgICAgIGVtYWlsID0gPyxcclxuICAgICAgICBhZGRyZXNzID0gPyxcclxuICAgICAgICBjb3VudHJ5ID0gPyxcclxuICAgICAgICBjaXR5ID0gPyxcclxuICAgICAgICBzdGF0ZSA9ID8sXHJcbiAgICAgICAgemlwY29kZSA9ID8sXHJcbiAgICAgIFxyXG4gICAgYDtcclxuICAgIGNvbnN0IHVwZGF0ZVVzZXJ2YWx1ZXMgPSBbXHJcbiAgICAgIGRhdGEuZmlyc3ROYW1lLFxyXG4gICAgICBkYXRhLmxhc3ROYW1lLFxyXG4gICAgICBkYXRhLmVtYWlsLFxyXG4gICAgICBkYXRhLmFkZHJlc3MsXHJcbiAgICAgIGRhdGEuY291bnRyeSxcclxuICAgICAgZGF0YS5jaXR5LFxyXG4gICAgICBkYXRhLnN0YXRlLFxyXG4gICAgICBkYXRhLnppcGNvZGUsXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgICAgdXBkYXRlVXNlcnNxbCxcclxuICAgICAgdXBkYXRlVXNlcnZhbHVlc1xyXG4gICAgKTtcclxuICAgIGNvbnN0IGluc2VydFNraWxsU3FsID0gYElOU0VSVCBJTlRPICR7Y29yZVNjaGVtYX0udXNlcl9za2lsbCAodXNlcl9pZCwgc2tpbGxfbmFtZSkgVkFMVUVTICg/LCA/KWA7XHJcbiAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGRhdGEuc2tpbGxzKSB7XHJcbiAgICAgIGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oaW5zZXJ0U2tpbGxTcWwsIFtkYXRhLnVzZXJfaWQsIHNraWxsXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBtZXNzYWdlOiBcIlVzZXIgcHJvZmlsZSBhbmQgc2tpbGxzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHVzZXIgcHJvZmlsZTpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHVwZGF0ZSB1c2VyIHByb2ZpbGVcIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmF2SXRlbXMoKSB7XHJcbiAgY29uc3QgZ2V0TWFudSA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oYFxyXG4gIFNFTEVDVFxyXG4gIG0ubWVudV9pZCwgXHJcbiAgbS5pY29uLCBcclxuICBtLm1lbnVfbmFtZSwgXHJcbiAgbS5wYXRoLCBcclxuICBzLnN1Ym1lbnVfaWQsIFxyXG4gIHMuc3VibWVudV9uYW1lLCBcclxuICBzLnVybFxyXG5GUk9NIFxyXG4gICR7Y29yZVNjaGVtYX0ubWVudSBtXHJcbkxFRlQgSk9JTiBcclxuICAke2NvcmVTY2hlbWF9LnN1Ym1lbnUgcyBPTiBtLm1lbnVfaWQgPSBzLm1lbnVfaWRcclxuT1JERVIgQlkgXHJcbiAgbS5tZW51X2lkLCBzLnN1Ym1lbnVfaWQ7XHJcbiAgYCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZW51TWFwID0gbmV3IE1hcDxudW1iZXIsIE1lbnU+KCk7XHJcblxyXG4gICAgZ2V0TWFudS5mb3JFYWNoKChyb3cpID0+IHtcclxuICAgICAgY29uc3QgbWVudUlkID0gcm93Lm1lbnVfaWQ7XHJcbiAgICAgIGlmICghbWVudU1hcC5oYXMobWVudUlkKSkge1xyXG4gICAgICAgIG1lbnVNYXAuc2V0KG1lbnVJZCwge1xyXG4gICAgICAgICAgbWVudV9pZDogcm93Lm1lbnVfaWQsXHJcbiAgICAgICAgICBpY29uOiByb3cuaWNvbixcclxuICAgICAgICAgIG1lbnVfbmFtZTogcm93Lm1lbnVfbmFtZSxcclxuICAgICAgICAgIHBhdGg6IHJvdy5wYXRoLFxyXG4gICAgICAgICAgc3VibWVudXM6IFtdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocm93LnN1Ym1lbnVfaWQpIHtcclxuICAgICAgICBjb25zdCBzdWJtZW51OiBTdWJtZW51ID0ge1xyXG4gICAgICAgICAgc3VibWVudV9pZDogcm93LnN1Ym1lbnVfaWQsXHJcbiAgICAgICAgICBzdWJtZW51X25hbWU6IHJvdy5zdWJtZW51X25hbWUsXHJcbiAgICAgICAgICB1cmw6IHJvdy51cmwsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBtZW51TWFwLmdldChtZW51SWQpPy5zdWJtZW51cy5wdXNoKHN1Ym1lbnUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShtZW51TWFwLnZhbHVlcygpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIG5hdmlnYXRpb24gaXRlbXM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJJbmZvKGVtYWlsOiBzdHJpbmcpIHtcclxuICBjb25zdCBkYXRhID0gYXdhaXQgcXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgKiBGUk9NICR7Y29yZVNjaGVtYX0udXNlcl9pbmZvIFdIRVJFIGVtYWlsPT9gLFxyXG4gICAge1xyXG4gICAgICB2YWx1ZXM6IFtlbWFpbF0sXHJcbiAgICB9XHJcbiAgKTtcclxuICBpZiAoZGF0YSkgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlQXBwb2ludG1lbnQoZXZlbnREYXRhOiBJQXBwb2ludG1lbnQpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW5zZXJ0RXZlbnQgPSBhd2FpdCBxdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgICBgSU5TRVJUIElOVE8gJHtjb3JlU2NoZW1hfS5jYWxlbmRhcl9ldmVudHMgXHJcbiAgICAgIChldmVudF90aXRsZSwgY29sb3IsIGRhdGUsIGV2ZW50X2Rlc2NyaXB0aW9uKVxyXG4gICAgICAgVkFMVUVTICg/LCA/LCA/LCA/KWAsXHJcbiAgICAgIHtcclxuICAgICAgICB2YWx1ZXM6IFtcclxuICAgICAgICAgIGV2ZW50RGF0YS5ldmVudF90aXRsZSxcclxuICAgICAgICAgIGV2ZW50RGF0YS5jb2xvcixcclxuICAgICAgICAgIGV2ZW50RGF0YS5kYXRlLFxyXG4gICAgICAgICAgZXZlbnREYXRhLmV2ZW50X2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIGluc2VydEV2ZW50O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGluc2VydGluZyBldmVudDogJHtlcnJvcn1gKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBvaW50bWVudCgpIHtcclxuICBjb25zdCBnZXRFdmVudERhdGEgPSBhd2FpdCBxdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVCAqIEZST00gJHtjb3JlU2NoZW1hfS5jYWxlbmRhcl9ldmVudHNgXHJcbiAgKTtcclxuICByZXR1cm4gZ2V0RXZlbnREYXRhO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQXBwb2ludG1lbnQoXHJcbiAgZGF0YTogSUFwcG9pbnRtZW50XHJcbik6IFByb21pc2U8SUFwcG9pbnRtZW50W10gfCB1bmRlZmluZWQ+IHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFVQREFURSAke2NvcmVTY2hlbWF9LmNhbGVuZGFyX2V2ZW50c1xyXG4gICAgU0VUIGRhdGUgPSA/LCB1cGRhdGVkX2F0ID0gP1xyXG4gICAgV0hFUkUgZXZlbnRfaWQgPSA/YCxcclxuICAgIHtcclxuICAgICAgdmFsdWVzOiBbZGF0YS5kYXRlLCBuZXcgRGF0ZSgpLCBkYXRhLmV2ZW50X2lkXSxcclxuICAgIH1cclxuICApO1xyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiByZXN1bHQgYXMgSUFwcG9pbnRtZW50W107XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQXBwb2ludG1lbnQoZXZlbnRfaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgREVMRVRFIEZST00gJHtjb3JlU2NoZW1hfS5jYWxlbmRhcl9ldmVudHNcclxuICAgICAgV0hFUkUgZXZlbnRfaWQ9P2AsXHJcbiAgICB7XHJcbiAgICAgIHZhbHVlczogW2V2ZW50X2lkXSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXN0b21lcnMoKSB7XHJcbiAgY29uc3QgY3VzdG9tZXJzID0gYXdhaXQgcXVlcnk8Um93RGF0YVBhY2tldFtdPihgXHJcbiAgU0VMRUNUICogRlJPTSAke2NvcmVTY2hlbWF9LnVzZXJfaW5mb1xyXG4gIGApO1xyXG4gIHJldHVybiBjdXN0b21lcnM7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyU2tpbGxzKCkge1xyXG4gIGNvbnN0IHNraWxscyA9IGF3YWl0IHF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oYFxyXG4gICAgU0VMRUNUICogRlJPTSAke2NvcmVTY2hlbWF9LnVzZXJfc2tpbGxcclxuICAgIGApO1xyXG4gIHJldHVybiBza2lsbHM7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQUFBLFFBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBQ0EsTUFBQUUsUUFBQSxHQUFBSCxlQUFBLENBQUFDLE9BQUE7QUFLQSxNQUFBRyxPQUFBLEdBQUFILE9BQUE7QUFFQTtBQUNBLFNBQXNCSSxjQUFjQSxDQUFDQyxLQUFhOztJQUNoRCxNQUFNQyxJQUFJLEdBQUcsTUFBTSxJQUFBSCxPQUFBLENBQUFJLEtBQUssRUFDdEIsOEJBQThCSixPQUFBLENBQUFLLFVBQVU7b0JBQ3hCLEVBQ2hCO01BQ0VDLE1BQU0sRUFBRSxDQUFDSixLQUFLO0tBQ2YsQ0FDRjtJQUNELE9BQU9DLElBQUk7RUFDYixDQUFDOztBQVRESSxPQUFBLENBQUFOLGNBQUEsR0FBQUEsY0FBQTtBQVdBLFNBQXNCTyxhQUFhQSxDQUFBOztJQUNqQyxNQUFNQyxPQUFPLEdBQUcsTUFBTSxJQUFBVCxPQUFBLENBQUFJLEtBQUssRUFDekIsNEJBQTRCLENBQzdCO0lBQ0QsT0FBT0ssT0FBTztFQUNoQixDQUFDOztBQUxERixPQUFBLENBQUFDLGFBQUEsR0FBQUEsYUFBQTtBQU9BLFNBQXNCRSxVQUFVQSxDQUFDQyxJQUFTOztJQUN4QyxNQUFNO01BQUVDO0lBQVEsQ0FBRSxHQUFHRCxJQUFJO0lBQ3pCLE1BQU07TUFBRUU7SUFBZSxDQUFFLEdBQUdGLElBQUk7SUFDaEMsTUFBTUcsVUFBVSxHQUFH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","map":{"version":3,"names":["bcrypt_1","__importDefault","require","uuid_1","schema_1","mysql_1","checkUserExist","email","user","query","coreSchema","values","exports","checkNickName","getData","createUser","data","password","confirmPassword","fdPassword","validPassword","default","createPassword","validateSyncAt","saltRounds","hash","hashSync","newId","v4","result","firstName","lastName","nickName","gender","birthDay","phoneNumber","verify_code","Date","tokenVerify","confirmEmail","length","isSuccessfull","status","message","emailConfirmed","signupStatus","code","showToUser","messageCode","messageKind","getUserByPassword","match","Promise","resolve","reject","compare","err","isMatch","error","console","Error","getOTP","updateData","updateProfileUser","updateUsersql","updateUservalues","address","country","city","state","zipcode","insertSkillSql","skill","skills","user_id","getNavItems","getManu","menuMap","Map","forEach","row","menuId","menu_id","has","set","icon","menu_name","path","submenus","submenu_id","submenu","submenu_name","url","_a","get","push","Array","from","getUserInfo","saveAppointment","eventData","insertEvent","event_title","color","date","event_description","getAppointment","getEventData","updateAppointment","event_id","deleteAppointment","getCustomers","customers","getUserSkills"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\bin\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/bin/db.ts"],"sourcesContent":["import bcrypt from \"bcrypt\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport schemaUser from \"../controller/user/schema\";\r\nimport { IAppointment } from \"../types/appointment.interface\";\r\nimport { Menu, Submenu } from \"../types/navItem\";\r\nimport { AppResponse } from \"../types/response.interface\";\r\nimport { ConfirmEmail, User } from \"../types/user\";\r\nimport { RowDataPacket, coreSchema, query } from \"./mysql\";\r\n\r\n// Users\r\nexport async function checkUserExist(email: string): Promise<RowDataPacket[]> {\r\n  const user = await query<RowDataPacket[]>(\r\n    `SELECT user_id,email FROM  ${coreSchema}.users\r\n      WHERE email=?`,\r\n    {\r\n      values: [email],\r\n    }\r\n  );\r\n  return user;\r\n}\r\n\r\nexport async function checkNickName(): Promise<any> {\r\n  const getData = await query<RowDataPacket>(\r\n    `SELECT * FROM Ali_DB.users`\r\n  );\r\n  return getData;\r\n}\r\n\r\nexport async function createUser(data: any) {\r\n  const { password } = data;\r\n  const { confirmPassword } = data;\r\n  const fdPassword = { password, confirmPassword };\r\n  const validPassword = schemaUser.createPassword.validateSyncAt(\r\n    \"confirmPassword\",\r\n    fdPassword\r\n  );\r\n  const saltRounds = 10;\r\n  const hash = bcrypt.hashSync(validPassword, saltRounds);\r\n  const newId = uuidv4();\r\n\r\n  const result = await query<RowDataPacket>(\r\n    `INSERT INTO ${coreSchema}.users\r\n    (user_id,firstName,lastName,nickName,gender,birthDay,email,phoneNumber,password,signupStatus,verify_code,createdAt,updatedAt,tokenVerify)\r\n    VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?)`,\r\n    {\r\n      values: [\r\n        newId,\r\n        data.firstName,\r\n        data.lastName,\r\n        data.nickName,\r\n        data.gender,\r\n        data.birthDay,\r\n        data.email,\r\n        data.phoneNumber,\r\n        hash,\r\n        0,\r\n        data.verify_code,\r\n        new Date(),\r\n        new Date(),\r\n        data.tokenVerify,\r\n      ],\r\n    }\r\n  );\r\n  return result;\r\n}\r\n\r\nexport async function confirmEmail(data: ConfirmEmail) {\r\n  const result = await query<RowDataPacket[]>(\r\n    `\r\n    SELECT * \r\n    FROM ${coreSchema}.users\r\n    WHERE email=? AND deletedAt IS NULL\r\n    `,\r\n    {\r\n      values: [data.email],\r\n    }\r\n  );\r\n  if (result.length < 1)\r\n    return {\r\n      isSuccessfull: false,\r\n      status: 1,\r\n      message: \"user not found!\",\r\n    } as AppResponse;\r\n  const user = result[0] as User;\r\n  if (user.email !== data.email)\r\n    return {\r\n      isSuccessfull: false,\r\n      status: 1,\r\n      message: \"email is not correct\",\r\n    } as AppResponse;\r\n  if (user.emailConfirmed) {\r\n    if (user.signupStatus === 1) {\r\n      const result = await query<RowDataPacket[]>(\r\n        `\r\n        UPDATE ${coreSchema}.users\r\n        SET signupStatus=?,emailConfirmed=?,updatedAt=?\r\n        WHERE email =?\r\n        `,\r\n        {\r\n          values: [1, 1, new Date(), data.email],\r\n        }\r\n      );\r\n    }\r\n    return {\r\n      isSuccessfull: true,\r\n      message: \"email already confirmed\",\r\n    } as AppResponse;\r\n  }\r\n  if (user.verify_code !== data.verify_code)\r\n    return { status: false, message: \"code is not correct\", code: 400 };\r\n  await query<RowDataPacket[]>(\r\n    `\r\n    UPDATE ${coreSchema}.users\r\n    SET emailConfirmed=1, signupStatus=2,updatedAt=?\r\n    WHERE email=?\r\n  `,\r\n    {\r\n      values: [new Date(), data.email],\r\n    }\r\n  );\r\n  return {\r\n    isSuccessfull: true,\r\n    showToUser: true,\r\n    messageCode: \"MSG_01\",\r\n    messageKind: 1,\r\n    message: \"email confirmed successfully\",\r\n  } as AppResponse;\r\n}\r\n\r\nexport async function getUserByPassword(\r\n  email: string,\r\n  password: string\r\n): Promise<User | null> {\r\n  try {\r\n    const user = await query<RowDataPacket[]>(\r\n      `SELECT * FROM ${coreSchema}.users WHERE email=?`,\r\n      {\r\n        values: [email],\r\n      }\r\n    );\r\n    if (user.length < 1) return null;\r\n    const match = await new Promise<boolean>((resolve, reject) => {\r\n      bcrypt.compare(password, user[0].password, (err, isMatch) => {\r\n        if (err) reject(err);\r\n        resolve(isMatch);\r\n      });\r\n    });\r\n    if (!match) return null;\r\n    return user[0] as User;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user by password:\", error);\r\n    throw new Error(\"Could not fetch user\");\r\n  }\r\n}\r\nexport async function getOTP(email: any, tokenVerify: any) {\r\n  const updateData = await query<RowDataPacket[]>(\r\n    `UPDATE  ${coreSchema}.users SET verify_code=? WHERE email = ?`,\r\n    {\r\n      values: [tokenVerify, email],\r\n    }\r\n  );\r\n\r\n  const result = await query<RowDataPacket[]>(\r\n    `SELECT * FROM ${coreSchema}.users WHERE email = ?`,\r\n    {\r\n      values: [email],\r\n    }\r\n  );\r\n  return result[0] as User;\r\n}\r\n\r\nexport async function updateProfileUser(data: User): Promise<any> {\r\n  try {\r\n    const updateUsersql = `\r\n      UPDATE ${coreSchema}.users SET\r\n        firstName = ?,\r\n        lastName = ?,\r\n        email = ?,\r\n        address = ?,\r\n        country = ?,\r\n        city = ?,\r\n        state = ?,\r\n        zipcode = ?,\r\n      \r\n    `;\r\n    const updateUservalues = [\r\n      data.firstName,\r\n      data.lastName,\r\n      data.email,\r\n      data.address,\r\n      data.country,\r\n      data.city,\r\n      data.state,\r\n      data.zipcode,\r\n    ];\r\n    const result = await query<RowDataPacket[]>(\r\n      updateUsersql,\r\n      updateUservalues\r\n    );\r\n    const insertSkillSql = `INSERT INTO ${coreSchema}.user_skill (user_id, skill_name) VALUES (?, ?)`;\r\n    for (const skill of data.skills) {\r\n      await query<RowDataPacket[]>(insertSkillSql, [data.user_id, skill]);\r\n    }\r\n    return { message: \"User profile and skills updated successfully\" };\r\n  } catch (error) {\r\n    console.error(\"Error updating user profile:\", error);\r\n    throw new Error(\"Could not update user profile\");\r\n  }\r\n}\r\n\r\nexport async function getNavItems() {\r\n  const getManu = await query<RowDataPacket[]>(`\r\n  SELECT\r\n  m.menu_id, \r\n  m.icon, \r\n  m.menu_name, \r\n  m.path, \r\n  s.submenu_id, \r\n  s.submenu_name, \r\n  s.url\r\nFROM \r\n  ${coreSchema}.menu m\r\nLEFT JOIN \r\n  ${coreSchema}.submenu s ON m.menu_id = s.menu_id\r\nORDER BY \r\n  m.menu_id, s.submenu_id;\r\n  `);\r\n\r\n  try {\r\n    const menuMap = new Map<number, Menu>();\r\n\r\n    getManu.forEach((row) => {\r\n      const menuId = row.menu_id;\r\n      if (!menuMap.has(menuId)) {\r\n        menuMap.set(menuId, {\r\n          menu_id: row.menu_id,\r\n          icon: row.icon,\r\n          menu_name: row.menu_name,\r\n          path: row.path,\r\n          submenus: [],\r\n        });\r\n      }\r\n\r\n      if (row.submenu_id) {\r\n        const submenu: Submenu = {\r\n          submenu_id: row.submenu_id,\r\n          submenu_name: row.submenu_name,\r\n          url: row.url,\r\n        };\r\n        menuMap.get(menuId)?.submenus.push(submenu);\r\n      }\r\n    });\r\n\r\n    return Array.from(menuMap.values());\r\n  } catch (error) {\r\n    console.error(\"Error fetching navigation items:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getUserInfo(email: string) {\r\n  const data = await query<RowDataPacket[]>(\r\n    `SELECT * FROM ${coreSchema}.user_info WHERE email=?`,\r\n    {\r\n      values: [email],\r\n    }\r\n  );\r\n  if (data) return data;\r\n}\r\n\r\nexport async function saveAppointment(eventData: IAppointment) {\r\n  try {\r\n    const insertEvent = await query<RowDataPacket[]>(\r\n      `INSERT INTO ${coreSchema}.calendar_events \r\n      (event_title, color, date, event_description)\r\n       VALUES (?, ?, ?, ?)`,\r\n      {\r\n        values: [\r\n          eventData.event_title,\r\n          eventData.color,\r\n          eventData.date,\r\n          eventData.event_description,\r\n        ],\r\n      }\r\n    );\r\n\r\n    return insertEvent;\r\n  } catch (error) {\r\n    throw new Error(`Error inserting event: ${error}`);\r\n  }\r\n}\r\n\r\nexport async function getAppointment() {\r\n  const getEventData = await query<RowDataPacket[]>(\r\n    `SELECT * FROM ${coreSchema}.calendar_events`\r\n  );\r\n  return getEventData;\r\n}\r\n\r\nexport async function updateAppointment(\r\n  data: IAppointment\r\n): Promise<IAppointment[] | undefined> {\r\n  const result = await query<RowDataPacket[]>(\r\n    `UPDATE ${coreSchema}.calendar_events\r\n    SET date = ?, updated_at = ?\r\n    WHERE event_id = ?`,\r\n    {\r\n      values: [data.date, new Date(), data.event_id],\r\n    }\r\n  );\r\n  if (result) {\r\n    return result as IAppointment[];\r\n  }\r\n}\r\n\r\nexport async function deleteAppointment(event_id: string) {\r\n  const result = await query<RowDataPacket[]>(\r\n    `DELETE FROM ${coreSchema}.calendar_events\r\n      WHERE event_id=?`,\r\n    {\r\n      values: [event_id],\r\n    }\r\n  );\r\n  return result;\r\n}\r\n\r\nexport async function getCustomers() {\r\n  const customers = await query<RowDataPacket[]>(`\r\n  SELECT * FROM ${coreSchema}.user_info\r\n  `);\r\n  return customers;\r\n}\r\n\r\nexport async function getUserSkills() {\r\n  const skills = await query<RowDataPacket[]>(`\r\n    SELECT * FROM ${coreSchema}.user_skill\r\n    `);\r\n  return skills;\r\n}\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1719368285976},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\bin\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\bin\\\\mysql.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.query = exports.mysql = exports.pool = exports.coreSchema = void 0;\nconst dotenv = __importStar(require(\"dotenv\"));\nconst mysql = __importStar(require(\"mysql2/promise\"));\nexports.mysql = mysql;\ndotenv.config();\nconst coreSchema = process.env.DB_DATABASE;\nexports.coreSchema = coreSchema;\nconst pool = mysql.createPool({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_DATABASE,\n  connectionLimit: 20,\n  queueLimit: 0,\n  charset: \"utf8\",\n  timezone: process.env.DB_TIMEZONE\n});\nexports.pool = pool;\npool.on(\"connection\", connection => {\n  connection.config.namedPlaceholders = true;\n});\nfunction query(sql_1) {\n  return __awaiter(this, arguments, void 0, function* (sql, options = {}, attempt = 0) {\n    const useExternalConnection = Boolean(options.connection);\n    const connection = options.connection || (yield pool.getConnection());\n    let result;\n    let sqlQuery = sql;\n    try {\n      sqlQuery = connection.format(sql, options.values);\n      [result] = yield connection.query({\n        sql,\n        values: options.values,\n        nestTables: options.nestTables\n      });\n      if (!result) {\n        result = [];\n      }\n    } catch (e) {\n      e.message = `${e.code}\\nsql: ${sqlQuery}\\nerror: ${e.message}\\ntime: }`;\n      throw e;\n    } finally {\n      if (!useExternalConnection) {\n        connection.release();\n      }\n    }\n    return result;\n  });\n}\nexports.query = query;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwibXlzcWwiLCJleHBvcnRzIiwiY29uZmlnIiwiY29yZVNjaGVtYSIsInByb2Nlc3MiLCJlbnYiLCJEQl9EQVRBQkFTRSIsInBvb2wiLCJjcmVhdGVQb29sIiwiaG9zdCIsIkRCX0hPU1QiLCJ1c2VyIiwiREJfVVNFUk5BTUUiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJjb25uZWN0aW9uTGltaXQiLCJxdWV1ZUxpbWl0IiwiY2hhcnNldCIsInRpbWV6b25lIiwiREJfVElNRVpPTkUiLCJvbiIsImNvbm5lY3Rpb24iLCJuYW1lZFBsYWNlaG9sZGVycyIsInF1ZXJ5Iiwic3FsXzEiLCJzcWwiLCJvcHRpb25zIiwiYXR0ZW1wdCIsInVzZUV4dGVybmFsQ29ubmVjdGlvbiIsIkJvb2xlYW4iLCJnZXRDb25uZWN0aW9uIiwicmVzdWx0Iiwic3FsUXVlcnkiLCJmb3JtYXQiLCJ2YWx1ZXMiLCJuZXN0VGFibGVzIiwiZSIsIm1lc3NhZ2UiLCJjb2RlIiwicmVsZWFzZSJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXGJpblxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9iaW4vbXlzcWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcclxuaW1wb3J0IHsgUmVzdWx0U2V0SGVhZGVyLCBSb3dEYXRhUGFja2V0IH0gZnJvbSBcIm15c3FsMlwiO1xyXG5pbXBvcnQgKiBhcyBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIjtcclxuaW1wb3J0IHsgUG9vbENvbm5lY3Rpb24gfSBmcm9tIFwibXlzcWwyL3Byb21pc2VcIjtcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuY29uc3QgY29yZVNjaGVtYSA9IHByb2Nlc3MuZW52LkRCX0RBVEFCQVNFO1xyXG5cclxuZXhwb3J0IHsgUmVzdWx0U2V0SGVhZGVyLCBSb3dEYXRhUGFja2V0LCBjb3JlU2NoZW1hIH07XHJcblxyXG5jb25zdCBwb29sID0gbXlzcWwuY3JlYXRlUG9vbCh7XHJcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcclxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXHJcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX0RBVEFCQVNFLFxyXG4gIGNvbm5lY3Rpb25MaW1pdDogMjAsXHJcbiAgcXVldWVMaW1pdDogMCxcclxuICBjaGFyc2V0OiBcInV0ZjhcIixcclxuICB0aW1lem9uZTogcHJvY2Vzcy5lbnYuREJfVElNRVpPTkUsXHJcbn0pO1xyXG5cclxucG9vbC5vbihcImNvbm5lY3Rpb25cIiwgKGNvbm5lY3Rpb246IFBvb2xDb25uZWN0aW9uKTogdm9pZCA9PiB7XHJcbiAgY29ubmVjdGlvbi5jb25maWcubmFtZWRQbGFjZWhvbGRlcnMgPSB0cnVlO1xyXG59KTtcclxuXHJcbmV4cG9ydCB7IHBvb2wsIG15c3FsIH07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcXVlcnk8VCBleHRlbmRzIFJvd0RhdGFQYWNrZXRbXSB8IFJlc3VsdFNldEhlYWRlciB8IGFueT4oXHJcbiAgc3FsOiBzdHJpbmcsXHJcbiAgb3B0aW9uczoge1xyXG4gICAgY29ubmVjdGlvbj86IFBvb2xDb25uZWN0aW9uO1xyXG4gICAgbmVzdFRhYmxlcz86IGJvb2xlYW47XHJcbiAgICB2YWx1ZXM/OiBhbnlbXSB8IGFueTtcclxuICB9ID0ge30sXHJcbiAgYXR0ZW1wdDogbnVtYmVyID0gMFxyXG4pOiBQcm9taXNlPFQ+IHtcclxuICBjb25zdCB1c2VFeHRlcm5hbENvbm5lY3Rpb24gPSBCb29sZWFuKG9wdGlvbnMuY29ubmVjdGlvbik7XHJcbiAgY29uc3QgY29ubmVjdGlvbjogUG9vbENvbm5lY3Rpb24gPVxyXG4gICAgb3B0aW9ucy5jb25uZWN0aW9uIHx8IChhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKSk7XHJcblxyXG4gIGxldCByZXN1bHQ7XHJcbiAgbGV0IHNxbFF1ZXJ5ID0gc3FsO1xyXG5cclxuICB0cnkge1xyXG4gICAgc3FsUXVlcnkgPSBjb25uZWN0aW9uLmZvcm1hdChzcWwsIG9wdGlvbnMudmFsdWVzKTtcclxuICAgIFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5xdWVyeSh7XHJcbiAgICAgIHNxbCxcclxuICAgICAgdmFsdWVzOiBvcHRpb25zLnZhbHVlcyxcclxuICAgICAgbmVzdFRhYmxlczogb3B0aW9ucy5uZXN0VGFibGVzLFxyXG4gICAgfSk7XHJcbiAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICByZXN1bHQgPSBbXTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgIGUubWVzc2FnZSA9IGAke2UuY29kZX1cXG5zcWw6ICR7c3FsUXVlcnl9XFxuZXJyb3I6ICR7ZS5tZXNzYWdlfVxcbnRpbWU6IH1gO1xyXG5cclxuICAgIHRocm93IGU7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIGlmICghdXNlRXh0ZXJuYWxDb25uZWN0aW9uKSB7XHJcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0IGFzIFQ7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBQUEsTUFBQSxHQUFBQyxZQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFBQyxLQUFBLEdBQUFGLFlBQUEsQ0FBQUMsT0FBQTtBQXVCZUUsT0FBQSxDQUFBRCxLQUFBLEdBQUFBLEtBQUE7QUFwQmZILE1BQU0sQ0FBQ0ssTUFBTSxFQUFFO0FBQ2YsTUFBTUMsVUFBVSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVztBQUVETCxPQUFBLENBQUFFLFVBQUEsR0FBQUEsVUFBQTtBQUV6QyxNQUFNSSxJQUFJLEdBQUdQLEtBQUssQ0FBQ1EsVUFBVSxDQUFDO0VBQzVCQyxJQUFJLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxPQUFPO0VBQ3pCQyxJQUFJLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTyxXQUFXO0VBQzdCQyxRQUFRLEVBQUVULE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUyxXQUFXO0VBQ2pDQyxRQUFRLEVBQUVYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXO0VBQ2pDVSxlQUFlLEVBQUUsRUFBRTtFQUNuQkMsVUFBVSxFQUFFLENBQUM7RUFDYkMsT0FBTyxFQUFFLE1BQU07RUFDZkMsUUFBUSxFQUFFZixPQUFPLENBQUNDLEdBQUcsQ0FBQ2U7Q0FDdkIsQ0FBQztBQU1PbkIsT0FBQSxDQUFBTSxJQUFBLEdBQUFBLElBQUE7QUFKVEEsSUFBSSxDQUFDYyxFQUFFLENBQUMsWUFBWSxFQUFHQyxVQUEwQixJQUFVO0VBQ3pEQSxVQUFVLENBQUNwQixNQUFNLENBQUNxQixpQkFBaUIsR0FBRyxJQUFJO0FBQzVDLENBQUMsQ0FBQztBQUlGLFNBQXNCQyxLQUFLQSxDQUFBQyxLQUFBO3VEQUN6QkMsR0FBVyxFQUNYQyxPQUFBLEdBSUksRUFBRSxFQUNOQyxPQUFBLEdBQWtCLENBQUM7SUFFbkIsTUFBTUMscUJBQXFCLEdBQUdDLE9BQU8sQ0FBQ0gsT0FBTyxDQUFDTCxVQUFVLENBQUM7SUFDekQsTUFBTUEsVUFBVSxHQUNkSyxPQUFPLENBQUNMLFVBQVUsS0FBSyxNQUFNZixJQUFJLENBQUN3QixhQUFhLEVBQUUsQ0FBQztJQUVwRCxJQUFJQyxNQUFNO0lBQ1YsSUFBSUMsUUFBUSxHQUFHUCxHQUFHO0lBRWxCLElBQUk7TUFDRk8sUUFBUSxHQUFHWCxVQUFVLENBQUNZLE1BQU0sQ0FBQ1IsR0FBRyxFQUFFQyxPQUFPLENBQUNRLE1BQU0sQ0FBQztNQUNqRCxDQUFDSCxNQUFNLENBQUMsR0FBRyxNQUFNVixVQUFVLENBQUNFLEtBQUssQ0FBQztRQUNoQ0UsR0FBRztRQUNIUyxNQUFNLEVBQUVSLE9BQU8sQ0FBQ1EsTUFBTTtRQUN0QkMsVUFBVSxFQUFFVCxPQUFPLENBQUNTO09BQ3JCLENBQUM7TUFDRixJQUFJLENBQUNKLE1BQU0sRUFBRTtRQUNYQSxNQUFNLEdBQUcsRUFBRTtNQUNiO0lBQ0YsQ0FBQyxDQUFDLE9BQU9LLENBQU0sRUFBRTtNQUNmQSxDQUFDLENBQUNDLE9BQU8sR0FBRyxHQUFHRCxDQUFDLENBQUNFLElBQUksVUFBVU4sUUFBUSxZQUFZSSxDQUFDLENBQUNDLE9BQU8sV0FBVztNQUV2RSxNQUFNRCxDQUFDO0lBQ1QsQ0FBQyxTQUFTO01BQ1IsSUFBSSxDQUFDUixxQkFBcUIsRUFBRTtRQUMxQlAsVUFBVSxDQUFDa0IsT0FBTyxFQUFFO01BQ3RCO0lBQ0Y7SUFDQSxPQUFPUixNQUFXO0VBQ3BCLENBQUM7O0FBcENEL0IsT0FBQSxDQUFBdUIsS0FBQSxHQUFBQSxLQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["dotenv","__importStar","require","mysql","exports","config","coreSchema","process","env","DB_DATABASE","pool","createPool","host","DB_HOST","user","DB_USERNAME","password","DB_PASSWORD","database","connectionLimit","queueLimit","charset","timezone","DB_TIMEZONE","on","connection","namedPlaceholders","query","sql_1","sql","options","attempt","useExternalConnection","Boolean","getConnection","result","sqlQuery","format","values","nestTables","e","message","code","release"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\bin\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/bin/mysql.ts"],"sourcesContent":["import * as dotenv from \"dotenv\";\r\nimport { ResultSetHeader, RowDataPacket } from \"mysql2\";\r\nimport * as mysql from \"mysql2/promise\";\r\nimport { PoolConnection } from \"mysql2/promise\";\r\n\r\ndotenv.config();\r\nconst coreSchema = process.env.DB_DATABASE;\r\n\r\nexport { ResultSetHeader, RowDataPacket, coreSchema };\r\n\r\nconst pool = mysql.createPool({\r\n  host: process.env.DB_HOST,\r\n  user: process.env.DB_USERNAME,\r\n  password: process.env.DB_PASSWORD,\r\n  database: process.env.DB_DATABASE,\r\n  connectionLimit: 20,\r\n  queueLimit: 0,\r\n  charset: \"utf8\",\r\n  timezone: process.env.DB_TIMEZONE,\r\n});\r\n\r\npool.on(\"connection\", (connection: PoolConnection): void => {\r\n  connection.config.namedPlaceholders = true;\r\n});\r\n\r\nexport { pool, mysql };\r\n\r\nexport async function query<T extends RowDataPacket[] | ResultSetHeader | any>(\r\n  sql: string,\r\n  options: {\r\n    connection?: PoolConnection;\r\n    nestTables?: boolean;\r\n    values?: any[] | any;\r\n  } = {},\r\n  attempt: number = 0\r\n): Promise<T> {\r\n  const useExternalConnection = Boolean(options.connection);\r\n  const connection: PoolConnection =\r\n    options.connection || (await pool.getConnection());\r\n\r\n  let result;\r\n  let sqlQuery = sql;\r\n\r\n  try {\r\n    sqlQuery = connection.format(sql, options.values);\r\n    [result] = await connection.query({\r\n      sql,\r\n      values: options.values,\r\n      nestTables: options.nestTables,\r\n    });\r\n    if (!result) {\r\n      result = [];\r\n    }\r\n  } catch (e: any) {\r\n    e.message = `${e.code}\\nsql: ${sqlQuery}\\nerror: ${e.message}\\ntime: }`;\r\n\r\n    throw e;\r\n  } finally {\r\n    if (!useExternalConnection) {\r\n      connection.release();\r\n    }\r\n  }\r\n  return result as T;\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,MAAA,GAAAC,YAAA,CAAAC,OAAA;AAEA,MAAAC,KAAA,GAAAF,YAAA,CAAAC,OAAA;AAuBeE,OAAA,CAAAD,KAAA,GAAAA,KAAA;AApBfH,MAAM,CAACK,MAAM,EAAE;AACf,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW;AAEDL,OAAA,CAAAE,UAAA,GAAAA,UAAA;AAEzC,MAAMI,IAAI,GAAGP,KAAK,CAACQ,UAAU,CAAC;EAC5BC,IAAI,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;EACzBC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,WAAW;EAC7BC,QAAQ,EAAET,OAAO,CAACC,GAAG,CAACS,WAAW;EACjCC,QAAQ,EAAEX,OAAO,CAACC,GAAG,CAACC,WAAW;EACjCU,eAAe,EAAE,EAAE;EACnBC,UAAU,EAAE,CAAC;EACbC,OAAO,EAAE,MAAM;EACfC,QAAQ,EAAEf,OAAO,CAACC,GAAG,CAACe;CACvB,CAAC;AAMOnB,OAAA,CAAAM,IAAA,GAAAA,IAAA;AAJTA,IAAI,CAACc,EAAE,CAAC,YAAY,EAAGC,UAA0B,IAAU;EACzDA,UAAU,CAACpB,MAAM,CAACqB,iBAAiB,GAAG,IAAI;AAC5C,CAAC,CAAC;AAIF,SAAsBC,KAAKA,CAAAC,KAAA;uDACzBC,GAAW,EACXC,OAAA,GAII,EAAE,EACNC,OAAA,GAAkB,CAAC;IAEnB,MAAMC,qBAAqB,GAAGC,OAAO,CAACH,OAAO,CAACL,UAAU,CAAC;IACzD,MAAMA,UAAU,GACdK,OAAO,CAACL,UAAU,KAAK,MAAMf,IAAI,CAACwB,aAAa,EAAE,CAAC;IAEpD,IAAIC,MAAM;IACV,IAAIC,QAAQ,GAAGP,GAAG;IAElB,IAAI;MACFO,QAAQ,GAAGX,UAAU,CAACY,MAAM,CAACR,GAAG,EAAEC,OAAO,CAACQ,MAAM,CAAC;MACjD,CAACH,MAAM,CAAC,GAAG,MAAMV,UAAU,CAACE,KAAK,CAAC;QAChCE,GAAG;QACHS,MAAM,EAAER,OAAO,CAACQ,MAAM;QACtBC,UAAU,EAAET,OAAO,CAACS;OACrB,CAAC;MACF,IAAI,CAACJ,MAAM,EAAE;QACXA,MAAM,GAAG,EAAE;MACb;IACF,CAAC,CAAC,OAAOK,CAAM,EAAE;MACfA,CAAC,CAACC,OAAO,GAAG,GAAGD,CAAC,CAACE,IAAI,UAAUN,QAAQ,YAAYI,CAAC,CAACC,OAAO,WAAW;MAEvE,MAAMD,CAAC;IACT,CAAC,SAAS;MACR,IAAI,CAACR,qBAAqB,EAAE;QAC1BP,UAAU,CAACkB,OAAO,EAAE;MACtB;IACF;IACA,OAAOR,MAAW;EACpB,CAAC;;AApCD/B,OAAA,CAAAuB,KAAA,GAAAA,KAAA","ignoreList":[]}},"mtime":1718437323304},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\use_validation.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction useValidation(schema, value, options) {\n  return schema.validateSync(value, Object.assign({\n    abortEarly: false,\n    stripUnknown: true\n  }, options));\n}\nexports.default = useValidation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VWYWxpZGF0aW9uIiwic2NoZW1hIiwidmFsdWUiLCJvcHRpb25zIiwidmFsaWRhdGVTeW5jIiwiT2JqZWN0IiwiYXNzaWduIiwiYWJvcnRFYXJseSIsInN0cmlwVW5rbm93biIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcaGVscGVyXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2hlbHBlci91c2VfdmFsaWRhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgU2NoZW1hLCBWYWxpZGF0ZU9wdGlvbnMgfSBmcm9tICd5dXAnXHJcblxyXG5cclxuZnVuY3Rpb24gdXNlVmFsaWRhdGlvbjxUPihcclxuICBzY2hlbWE6IFNjaGVtYTxUPixcclxuICB2YWx1ZTogVCB8IGFueSxcclxuICBvcHRpb25zPzogVmFsaWRhdGVPcHRpb25zXHJcbik6IFQge1xyXG4gIHJldHVybiBzY2hlbWEudmFsaWRhdGVTeW5jKHZhbHVlLCB7XHJcbiAgICBhYm9ydEVhcmx5OiBmYWxzZSxcclxuICAgIHN0cmlwVW5rbm93bjogdHJ1ZSxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlVmFsaWRhdGlvblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBSUEsU0FBU0EsYUFBYUEsQ0FDcEJDLE1BQWlCLEVBQ2pCQyxLQUFjLEVBQ2RDLE9BQXlCO0VBRXpCLE9BQU9GLE1BQU0sQ0FBQ0csWUFBWSxDQUFDRixLQUFLLEVBQUFHLE1BQUEsQ0FBQUMsTUFBQTtJQUM5QkMsVUFBVSxFQUFFLEtBQUs7SUFDakJDLFlBQVksRUFBRTtFQUFJLEdBQ2ZMLE9BQU8sRUFDVjtBQUNKO0FBRUFNLE9BQUEsQ0FBQUMsT0FBQSxHQUFlVixhQUFhIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["useValidation","schema","value","options","validateSync","Object","assign","abortEarly","stripUnknown","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\helper\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/helper/use_validation.ts"],"sourcesContent":["\r\nimport { Schema, ValidateOptions } from 'yup'\r\n\r\n\r\nfunction useValidation<T>(\r\n  schema: Schema<T>,\r\n  value: T | any,\r\n  options?: ValidateOptions\r\n): T {\r\n  return schema.validateSync(value, {\r\n    abortEarly: false,\r\n    stripUnknown: true,\r\n    ...options,\r\n  })\r\n}\r\n\r\nexport default useValidation\r\n"],"mappings":";;;;;AAIA,SAASA,aAAaA,CACpBC,MAAiB,EACjBC,KAAc,EACdC,OAAyB;EAEzB,OAAOF,MAAM,CAACG,YAAY,CAACF,KAAK,EAAAG,MAAA,CAAAC,MAAA;IAC9BC,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAAI,GACfL,OAAO,EACV;AACJ;AAEAM,OAAA,CAAAC,OAAA,GAAeV,aAAa","ignoreList":[]}},"mtime":1714182593644},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\response_error.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst base_response_1 = __importDefault(require(\"./base_response\"));\nconst internal_server_1 = __importDefault(require(\"./internal_server\"));\nconst unauthorized_1 = __importDefault(require(\"./unauthorized\"));\nconst forbidden_1 = __importDefault(require(\"./forbidden\"));\nconst not_found_1 = __importDefault(require(\"./not_found\"));\nconst bad_request_1 = __importDefault(require(\"./bad_request\"));\nconst ResponseError = {\n  BaseResponse: base_response_1.default,\n  BadRequest: bad_request_1.default,\n  NotFound: not_found_1.default,\n  Forbidden: forbidden_1.default,\n  Unauthorized: unauthorized_1.default,\n  InternalServer: internal_server_1.default\n};\nexports.default = ResponseError;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlX3Jlc3BvbnNlXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiaW50ZXJuYWxfc2VydmVyXzEiLCJ1bmF1dGhvcml6ZWRfMSIsImZvcmJpZGRlbl8xIiwibm90X2ZvdW5kXzEiLCJiYWRfcmVxdWVzdF8xIiwiUmVzcG9uc2VFcnJvciIsIkJhc2VSZXNwb25zZSIsImRlZmF1bHQiLCJCYWRSZXF1ZXN0IiwiTm90Rm91bmQiLCJGb3JiaWRkZW4iLCJVbmF1dGhvcml6ZWQiLCJJbnRlcm5hbFNlcnZlciIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxtb2R1bGVzXFxlcnJvclxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9tb2R1bGVzL2Vycm9yL3Jlc3BvbnNlX2Vycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlUmVzcG9uc2UgZnJvbSAnLi9iYXNlX3Jlc3BvbnNlJztcclxuaW1wb3J0IEludGVybmFsU2VydmVyIGZyb20gJy4vaW50ZXJuYWxfc2VydmVyJztcclxuaW1wb3J0IFVuYXV0aG9yaXplZCBmcm9tICcuL3VuYXV0aG9yaXplZCc7XHJcbmltcG9ydCBGb3JiaWRkZW4gZnJvbSAnLi9mb3JiaWRkZW4nO1xyXG5pbXBvcnQgTm90Rm91bmQgZnJvbSAnLi9ub3RfZm91bmQnO1xyXG5pbXBvcnQgQmFkUmVxdWVzdCBmcm9tICcuL2JhZF9yZXF1ZXN0JztcclxuXHJcbmNvbnN0IFJlc3BvbnNlRXJyb3IgPSB7XHJcbiAgICBCYXNlUmVzcG9uc2UsXHJcbiAgICBCYWRSZXF1ZXN0LFxyXG4gICAgTm90Rm91bmQsXHJcbiAgICBGb3JiaWRkZW4sXHJcbiAgICBVbmF1dGhvcml6ZWQsXHJcbiAgICBJbnRlcm5hbFNlcnZlcixcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVzcG9uc2VFcnJvclxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxlQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLGlCQUFBLEdBQUFGLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFFLGNBQUEsR0FBQUgsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUcsV0FBQSxHQUFBSixlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBSSxXQUFBLEdBQUFMLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFLLGFBQUEsR0FBQU4sZUFBQSxDQUFBQyxPQUFBO0FBRUEsTUFBTU0sYUFBYSxHQUFHO0VBQ2xCQyxZQUFZLEVBQVpULGVBQUEsQ0FBQVUsT0FBWTtFQUNaQyxVQUFVLEVBQVZKLGFBQUEsQ0FBQUcsT0FBVTtFQUNWRSxRQUFRLEVBQVJOLFdBQUEsQ0FBQUksT0FBUTtFQUNSRyxTQUFTLEVBQVRSLFdBQUEsQ0FBQUssT0FBUztFQUNUSSxZQUFZLEVBQVpWLGNBQUEsQ0FBQU0sT0FBWTtFQUNaSyxjQUFjLEVBQWRaLGlCQUFBLENBQUFPO0NBQ0g7QUFFRE0sT0FBQSxDQUFBTixPQUFBLEdBQWVGLGFBQWEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["base_response_1","__importDefault","require","internal_server_1","unauthorized_1","forbidden_1","not_found_1","bad_request_1","ResponseError","BaseResponse","default","BadRequest","NotFound","Forbidden","Unauthorized","InternalServer","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/response_error.ts"],"sourcesContent":["import BaseResponse from './base_response';\r\nimport InternalServer from './internal_server';\r\nimport Unauthorized from './unauthorized';\r\nimport Forbidden from './forbidden';\r\nimport NotFound from './not_found';\r\nimport BadRequest from './bad_request';\r\n\r\nconst ResponseError = {\r\n    BaseResponse,\r\n    BadRequest,\r\n    NotFound,\r\n    Forbidden,\r\n    Unauthorized,\r\n    InternalServer,\r\n}\r\n\r\nexport default ResponseError\r\n"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,iBAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,cAAA,GAAAH,eAAA,CAAAC,OAAA;AACA,MAAAG,WAAA,GAAAJ,eAAA,CAAAC,OAAA;AACA,MAAAI,WAAA,GAAAL,eAAA,CAAAC,OAAA;AACA,MAAAK,aAAA,GAAAN,eAAA,CAAAC,OAAA;AAEA,MAAMM,aAAa,GAAG;EAClBC,YAAY,EAAZT,eAAA,CAAAU,OAAY;EACZC,UAAU,EAAVJ,aAAA,CAAAG,OAAU;EACVE,QAAQ,EAARN,WAAA,CAAAI,OAAQ;EACRG,SAAS,EAATR,WAAA,CAAAK,OAAS;EACTI,YAAY,EAAZV,cAAA,CAAAM,OAAY;EACZK,cAAc,EAAdZ,iBAAA,CAAAO;CACH;AAEDM,OAAA,CAAAN,OAAA,GAAeF,aAAa","ignoreList":[]}},"mtime":1714184184393},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\base_response.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass BaseResponse extends Error {\n  constructor(message, starusCode = 500) {\n    super(message);\n    this.message = message;\n    this.statusCode = starusCode;\n    Object.setPrototypeOf(this, BaseResponse.prototype);\n  }\n}\nexports.default = BaseResponse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYXNlUmVzcG9uc2UiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInN0YXJ1c0NvZGUiLCJzdGF0dXNDb2RlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXG1vZHVsZXNcXGVycm9yXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL21vZHVsZXMvZXJyb3IvYmFzZV9yZXNwb25zZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCYXNlUmVzcG9uc2UgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBwdWJsaWMgc3RhdHVzQ29kZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgc3RhcnVzQ29kZSA9IDUwMCkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGFydXNDb2RlO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBCYXNlUmVzcG9uc2UucHJvdG90eXBlKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCYXNlUmVzcG9uc2U7Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLFlBQWEsU0FBUUMsS0FBSztFQUc1QkMsWUFBWUMsT0FBZSxFQUFFQyxVQUFVLEdBQUcsR0FBRztJQUN6QyxLQUFLLENBQUNELE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0EsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ0UsVUFBVSxHQUFHRCxVQUFVO0lBQzVCRSxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVQLFlBQVksQ0FBQ1EsU0FBUyxDQUFDO0VBQ3ZEOztBQUdKQyxPQUFBLENBQUFDLE9BQUEsR0FBZVYsWUFBWSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["BaseResponse","Error","constructor","message","starusCode","statusCode","Object","setPrototypeOf","prototype","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/base_response.ts"],"sourcesContent":["class BaseResponse extends Error {\r\n    public statusCode: number;\r\n\r\n    constructor(message: string, starusCode = 500) {\r\n        super(message)\r\n        this.message = message;\r\n        this.statusCode = starusCode;\r\n        Object.setPrototypeOf(this, BaseResponse.prototype)\r\n    }\r\n}\r\n\r\nexport default BaseResponse;"],"mappings":";;;;;AAAA,MAAMA,YAAa,SAAQC,KAAK;EAG5BC,YAAYC,OAAe,EAAEC,UAAU,GAAG,GAAG;IACzC,KAAK,CAACD,OAAO,CAAC;IACd,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACE,UAAU,GAAGD,UAAU;IAC5BE,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEP,YAAY,CAACQ,SAAS,CAAC;EACvD;;AAGJC,OAAA,CAAAC,OAAA,GAAeV,YAAY","ignoreList":[]}},"mtime":1714093870920},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\internal_server.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst base_response_1 = __importDefault(require(\"./base_response\"));\nclass InternalServer extends base_response_1.default {\n  constructor(message) {\n    super(message, 500);\n    Object.setPrototypeOf(this, InternalServer.prototype);\n  }\n}\nexports.default = InternalServer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlX3Jlc3BvbnNlXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiSW50ZXJuYWxTZXJ2ZXIiLCJkZWZhdWx0IiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcbW9kdWxlc1xcZXJyb3JcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvbW9kdWxlcy9lcnJvci9pbnRlcm5hbF9zZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VSZXNwb25zZSBmcm9tIFwiLi9iYXNlX3Jlc3BvbnNlXCI7XHJcblxyXG5jbGFzcyBJbnRlcm5hbFNlcnZlciBleHRlbmRzIEJhc2VSZXNwb25zZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlLCA1MDApO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnRlcm5hbFNlcnZlci5wcm90b3R5cGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnRlcm5hbFNlcnZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE1BQUFBLGVBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBRUEsTUFBTUMsY0FBZSxTQUFRSCxlQUFBLENBQUFJLE9BQVk7RUFDckNDLFlBQVlDLE9BQWU7SUFDdkIsS0FBSyxDQUFDQSxPQUFPLEVBQUUsR0FBRyxDQUFDO0lBQ25CQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLGNBQWMsQ0FBQ00sU0FBUyxDQUFDO0VBQ3pEOztBQUdKQyxPQUFBLENBQUFOLE9BQUEsR0FBZUQsY0FBYyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["base_response_1","__importDefault","require","InternalServer","default","constructor","message","Object","setPrototypeOf","prototype","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/internal_server.ts"],"sourcesContent":["import BaseResponse from \"./base_response\";\r\n\r\nclass InternalServer extends BaseResponse {\r\n    constructor(message: string) {\r\n        super(message, 500);\r\n        Object.setPrototypeOf(this, InternalServer.prototype);\r\n    }\r\n}\r\n\r\nexport default InternalServer"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,cAAe,SAAQH,eAAA,CAAAI,OAAY;EACrCC,YAAYC,OAAe;IACvB,KAAK,CAACA,OAAO,EAAE,GAAG,CAAC;IACnBC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEL,cAAc,CAACM,SAAS,CAAC;EACzD;;AAGJC,OAAA,CAAAN,OAAA,GAAeD,cAAc","ignoreList":[]}},"mtime":1714093877683},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\unauthorized.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst base_response_1 = __importDefault(require(\"./base_response\"));\nclass Unauthorized extends base_response_1.default {\n  constructor(message) {\n    super(message, 401);\n    Object.setPrototypeOf(this, Unauthorized.prototype);\n  }\n}\nexports.default = Unauthorized;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlX3Jlc3BvbnNlXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiVW5hdXRob3JpemVkIiwiZGVmYXVsdCIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXG1vZHVsZXNcXGVycm9yXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL21vZHVsZXMvZXJyb3IvdW5hdXRob3JpemVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlUmVzcG9uc2UgZnJvbSBcIi4vYmFzZV9yZXNwb25zZVwiXHJcblxyXG5jbGFzcyBVbmF1dGhvcml6ZWQgZXh0ZW5kcyBCYXNlUmVzcG9uc2Uge1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgNDAxKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5hdXRob3JpemVkLnByb3RvdHlwZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVuYXV0aG9yaXplZDsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxlQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUVBLE1BQU1DLFlBQWEsU0FBUUgsZUFBQSxDQUFBSSxPQUFZO0VBQ25DQyxZQUFZQyxPQUFlO0lBQ3ZCLEtBQUssQ0FBQ0EsT0FBTyxFQUFFLEdBQUcsQ0FBQztJQUNuQkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxZQUFZLENBQUNNLFNBQVMsQ0FBQztFQUN2RDs7QUFHSkMsT0FBQSxDQUFBTixPQUFBLEdBQWVELFlBQVkiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["base_response_1","__importDefault","require","Unauthorized","default","constructor","message","Object","setPrototypeOf","prototype","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/unauthorized.ts"],"sourcesContent":["import BaseResponse from \"./base_response\"\r\n\r\nclass Unauthorized extends BaseResponse {\r\n    constructor(message: string) {\r\n        super(message, 401);\r\n        Object.setPrototypeOf(this, Unauthorized.prototype);\r\n    }\r\n}\r\n\r\nexport default Unauthorized;"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,YAAa,SAAQH,eAAA,CAAAI,OAAY;EACnCC,YAAYC,OAAe;IACvB,KAAK,CAACA,OAAO,EAAE,GAAG,CAAC;IACnBC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEL,YAAY,CAACM,SAAS,CAAC;EACvD;;AAGJC,OAAA,CAAAN,OAAA,GAAeD,YAAY","ignoreList":[]}},"mtime":1714094003417},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\forbidden.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst base_response_1 = __importDefault(require(\"./base_response\"));\nclass Forbidden extends base_response_1.default {\n  constructor(messsage) {\n    super(messsage, 403);\n    Object.setPrototypeOf(this, Forbidden.prototype);\n  }\n}\nexports.default = Forbidden;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlX3Jlc3BvbnNlXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiRm9yYmlkZGVuIiwiZGVmYXVsdCIsImNvbnN0cnVjdG9yIiwibWVzc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxtb2R1bGVzXFxlcnJvclxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9tb2R1bGVzL2Vycm9yL2ZvcmJpZGRlbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVJlc3BvbnNlIGZyb20gXCIuL2Jhc2VfcmVzcG9uc2VcIlxyXG5cclxuY2xhc3MgRm9yYmlkZGVuIGV4dGVuZHMgQmFzZVJlc3BvbnNlIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihtZXNzc2FnZSwgNDAzKVxyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBGb3JiaWRkZW4ucHJvdG90eXBlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9yYmlkZGVuOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE1BQUFBLGVBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBRUEsTUFBTUMsU0FBVSxTQUFRSCxlQUFBLENBQUFJLE9BQVk7RUFDaENDLFlBQVlDLFFBQWdCO0lBQ3hCLEtBQUssQ0FBQ0EsUUFBUSxFQUFFLEdBQUcsQ0FBQztJQUNwQkMsTUFBTSxDQUFDQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxTQUFTLENBQUNNLFNBQVMsQ0FBQztFQUNwRDs7QUFHSkMsT0FBQSxDQUFBTixPQUFBLEdBQWVELFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["base_response_1","__importDefault","require","Forbidden","default","constructor","messsage","Object","setPrototypeOf","prototype","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/forbidden.ts"],"sourcesContent":["import BaseResponse from \"./base_response\"\r\n\r\nclass Forbidden extends BaseResponse {\r\n    constructor(messsage: string) {\r\n        super(messsage, 403)\r\n        Object.setPrototypeOf(this, Forbidden.prototype);\r\n    }\r\n}\r\n\r\nexport default Forbidden;"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,SAAU,SAAQH,eAAA,CAAAI,OAAY;EAChCC,YAAYC,QAAgB;IACxB,KAAK,CAACA,QAAQ,EAAE,GAAG,CAAC;IACpBC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEL,SAAS,CAACM,SAAS,CAAC;EACpD;;AAGJC,OAAA,CAAAN,OAAA,GAAeD,SAAS","ignoreList":[]}},"mtime":1714094115013},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\not_found.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst base_response_1 = __importDefault(require(\"./base_response\"));\nclass NotFound extends base_response_1.default {\n  constructor(message) {\n    super(message, 404);\n    Object.setPrototypeOf(this, NotFound.prototype);\n  }\n}\nexports.default = NotFound;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlX3Jlc3BvbnNlXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiTm90Rm91bmQiLCJkZWZhdWx0IiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcbW9kdWxlc1xcZXJyb3JcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvbW9kdWxlcy9lcnJvci9ub3RfZm91bmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VSZXNwb25zZSBmcm9tIFwiLi9iYXNlX3Jlc3BvbnNlXCI7XHJcblxyXG5jbGFzcyBOb3RGb3VuZCBleHRlbmRzIEJhc2VSZXNwb25zZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlLCA0MDQpO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RGb3VuZC5wcm90b3R5cGUpXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgTm90Rm91bmQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBQUEsZUFBQSxHQUFBQyxlQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNQyxRQUFTLFNBQVFILGVBQUEsQ0FBQUksT0FBWTtFQUMvQkMsWUFBWUMsT0FBZTtJQUN2QixLQUFLLENBQUNBLE9BQU8sRUFBRSxHQUFHLENBQUM7SUFDbkJDLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDLElBQUksRUFBRUwsUUFBUSxDQUFDTSxTQUFTLENBQUM7RUFDbkQ7O0FBRUpDLE9BQUEsQ0FBQU4sT0FBQSxHQUFlRCxRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["base_response_1","__importDefault","require","NotFound","default","constructor","message","Object","setPrototypeOf","prototype","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/not_found.ts"],"sourcesContent":["import BaseResponse from \"./base_response\";\r\n\r\nclass NotFound extends BaseResponse {\r\n    constructor(message: string) {\r\n        super(message, 404);\r\n        Object.setPrototypeOf(this, NotFound.prototype)\r\n    }\r\n}\r\nexport default NotFound;"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,QAAS,SAAQH,eAAA,CAAAI,OAAY;EAC/BC,YAAYC,OAAe;IACvB,KAAK,CAACA,OAAO,EAAE,GAAG,CAAC;IACnBC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEL,QAAQ,CAACM,SAAS,CAAC;EACnD;;AAEJC,OAAA,CAAAN,OAAA,GAAeD,QAAQ","ignoreList":[]}},"mtime":1714094218575},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\error\\\\bad_request.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst base_response_1 = __importDefault(require(\"./base_response\"));\nclass BadRequest extends base_response_1.default {\n  constructor(message) {\n    super(message, 400);\n    Object.setPrototypeOf(this, BadRequest.prototype);\n  }\n}\nexports.default = BadRequest;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlX3Jlc3BvbnNlXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiQmFkUmVxdWVzdCIsImRlZmF1bHQiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxtb2R1bGVzXFxlcnJvclxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9tb2R1bGVzL2Vycm9yL2JhZF9yZXF1ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlUmVzcG9uc2UgZnJvbSBcIi4vYmFzZV9yZXNwb25zZVwiO1xyXG5cclxuY2xhc3MgQmFkUmVxdWVzdCBleHRlbmRzIEJhc2VSZXNwb25zZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlLCA0MDApXHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEJhZFJlcXVlc3QucHJvdG90eXBlKVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEJhZFJlcXVlc3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBQUEsZUFBQSxHQUFBQyxlQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNQyxVQUFXLFNBQVFILGVBQUEsQ0FBQUksT0FBWTtFQUNqQ0MsWUFBWUMsT0FBZTtJQUN2QixLQUFLLENBQUNBLE9BQU8sRUFBRSxHQUFHLENBQUM7SUFDbkJDLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDLElBQUksRUFBRUwsVUFBVSxDQUFDTSxTQUFTLENBQUM7RUFDckQ7O0FBRUpDLE9BQUEsQ0FBQU4sT0FBQSxHQUFlRCxVQUFVIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["base_response_1","__importDefault","require","BadRequest","default","constructor","message","Object","setPrototypeOf","prototype","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\error\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/error/bad_request.ts"],"sourcesContent":["import BaseResponse from \"./base_response\";\r\n\r\nclass BadRequest extends BaseResponse {\r\n    constructor(message: string) {\r\n        super(message, 400)\r\n        Object.setPrototypeOf(this, BadRequest.prototype)\r\n    }\r\n}\r\nexport default BadRequest;"],"mappings":";;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,UAAW,SAAQH,eAAA,CAAAI,OAAY;EACjCC,YAAYC,OAAe;IACvB,KAAK,CAACA,OAAO,EAAE,GAAG,CAAC;IACnBC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEL,UAAU,CAACM,SAAS,CAAC;EACrD;;AAEJC,OAAA,CAAAN,OAAA,GAAeD,UAAU","ignoreList":[]}},"mtime":1714094297197},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\response\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\modules\\\\response\\\\app_response.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass BuildResponse {\n  static baseResponse(dataResponse) {\n    const {\n        message = \"data has been received!\",\n        code = 200\n      } = dataResponse,\n      rest = __rest(dataResponse, [\"message\", \"code\"]);\n    return Object.assign({\n      code,\n      message\n    }, rest);\n  }\n  /**\n   * Response Success\n   */\n  static get(dataResponse) {\n    return this.baseResponse(dataResponse);\n  }\n  /**\n   * Response Create\n   */\n  static created(dataResponse) {\n    return this.baseResponse(Object.assign({\n      codde: 201,\n      message: \"data has beed added\"\n    }, dataResponse));\n  }\n  /**\n   * Response Update\n   */\n  static updated(dataResponse) {\n    return this.baseResponse(Object.assign({\n      message: \"the data has beed updated\"\n    }, dataResponse));\n  }\n  /**\n   * Response Delete\n   */\n  static deleted(dataResponse) {\n    return this.baseResponse(Object.assign({\n      message: \"data has been deleted\"\n    }, dataResponse));\n  }\n  static appResponse(data) {\n    return {\n      code: data.code ? data.code : 200,\n      message: data.message ? data.message : \"\",\n      status: data.status ? data.status : 0,\n      showToUser: data.showToUser ? data.showToUser : false,\n      messageCode: data.messageCode ? data.messageCode : \"\",\n      messageKind: data.messageKind ? data.messageKind : null,\n      isSuccessfull: data.isSuccessfull ? data.isSuccessfull : false,\n      data: data.data ? data.data : null\n    };\n  }\n}\nexports.default = BuildResponse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCdWlsZFJlc3BvbnNlIiwiYmFzZVJlc3BvbnNlIiwiZGF0YVJlc3BvbnNlIiwibWVzc2FnZSIsImNvZGUiLCJyZXN0IiwiX19yZXN0IiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0IiwiY3JlYXRlZCIsImNvZGRlIiwidXBkYXRlZCIsImRlbGV0ZWQiLCJhcHBSZXNwb25zZSIsImRhdGEiLCJzdGF0dXMiLCJzaG93VG9Vc2VyIiwibWVzc2FnZUNvZGUiLCJtZXNzYWdlS2luZCIsImlzU3VjY2Vzc2Z1bGwiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXG1vZHVsZXNcXHJlc3BvbnNlXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL21vZHVsZXMvcmVzcG9uc2UvYXBwX3Jlc3BvbnNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL3R5cGVzL3Jlc3BvbnNlLmludGVyZmFjZVwiO1xyXG5cclxudHlwZSBEYXRhUmVzcG9uc2UgPVxyXG4gIHwge1xyXG4gICAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICAgIGNvZGU/OiBudW1iZXI7XHJcbiAgICB9XHJcbiAgfCBhbnk7XHJcblxyXG5jbGFzcyBCdWlsZFJlc3BvbnNlIHtcclxuICBwcml2YXRlIHN0YXRpYyBiYXNlUmVzcG9uc2UoZGF0YVJlc3BvbnNlOiBEYXRhUmVzcG9uc2UpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbWVzc2FnZSA9IFwiZGF0YSBoYXMgYmVlbiByZWNlaXZlZCFcIixcclxuICAgICAgY29kZSA9IDIwMCxcclxuICAgICAgLi4ucmVzdFxyXG4gICAgfSA9IGRhdGFSZXNwb25zZTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZGUsXHJcbiAgICAgIG1lc3NhZ2UsXHJcbiAgICAgIC4uLnJlc3QsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzcG9uc2UgU3VjY2Vzc1xyXG4gICAqL1xyXG5cclxuICBwdWJsaWMgc3RhdGljIGdldChkYXRhUmVzcG9uc2U6IERhdGFSZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuYmFzZVJlc3BvbnNlKGRhdGFSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNwb25zZSBDcmVhdGVcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZWQoZGF0YVJlc3BvbnNlOiBEYXRhUmVzcG9uc2UpIHtcclxuICAgIHJldHVybiB0aGlzLmJhc2VSZXNwb25zZSh7XHJcbiAgICAgIGNvZGRlOiAyMDEsXHJcbiAgICAgIG1lc3NhZ2U6IFwiZGF0YSBoYXMgYmVlZCBhZGRlZFwiLFxyXG4gICAgICAuLi5kYXRhUmVzcG9uc2UsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc3BvbnNlIFVwZGF0ZVxyXG4gICAqL1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHVwZGF0ZWQoZGF0YVJlc3BvbnNlOiBEYXRhUmVzcG9uc2UpIHtcclxuICAgIHJldHVybiB0aGlzLmJhc2VSZXNwb25zZSh7XHJcbiAgICAgIG1lc3NhZ2U6IFwidGhlIGRhdGEgaGFzIGJlZWQgdXBkYXRlZFwiLFxyXG4gICAgICAuLi5kYXRhUmVzcG9uc2UsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc3BvbnNlIERlbGV0ZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZGVsZXRlZChkYXRhUmVzcG9uc2U6IERhdGFSZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuYmFzZVJlc3BvbnNlKHtcclxuICAgICAgbWVzc2FnZTogXCJkYXRhIGhhcyBiZWVuIGRlbGV0ZWRcIixcclxuICAgICAgLi4uZGF0YVJlc3BvbnNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFwcFJlc3BvbnNlKGRhdGE6IGFueSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29kZTogZGF0YS5jb2RlID8gZGF0YS5jb2RlIDogMjAwLFxyXG4gICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UgPyBkYXRhLm1lc3NhZ2UgOiBcIlwiLFxyXG4gICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzID8gZGF0YS5zdGF0dXMgOiAwLFxyXG4gICAgICBzaG93VG9Vc2VyOiBkYXRhLnNob3dUb1VzZXIgPyBkYXRhLnNob3dUb1VzZXIgOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZUNvZGU6IGRhdGEubWVzc2FnZUNvZGUgPyBkYXRhLm1lc3NhZ2VDb2RlIDogXCJcIixcclxuICAgICAgbWVzc2FnZUtpbmQ6IGRhdGEubWVzc2FnZUtpbmQgPyBkYXRhLm1lc3NhZ2VLaW5kIDogbnVsbCxcclxuICAgICAgaXNTdWNjZXNzZnVsbDogZGF0YS5pc1N1Y2Nlc3NmdWxsID8gZGF0YS5pc1N1Y2Nlc3NmdWxsIDogZmFsc2UsXHJcbiAgICAgIGRhdGE6IGRhdGEuZGF0YSA/IGRhdGEuZGF0YSA6IG51bGwsXHJcbiAgICB9IGFzIEFwcFJlc3BvbnNlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnVpbGRSZXNwb25zZTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBU0EsTUFBTUEsYUFBYTtFQUNULE9BQU9DLFlBQVlBLENBQUNDLFlBQTBCO0lBQ3BELE1BQU07UUFDSkMsT0FBTyxHQUFHLHlCQUF5QjtRQUNuQ0MsSUFBSSxHQUFHO01BQUcsSUFFUkYsWUFBWTtNQURYRyxJQUFJLEdBQUFDLE1BQUEsQ0FDTEosWUFBWSxFQUpWLG1CQUlMLENBQWU7SUFDaEIsT0FBQUssTUFBQSxDQUFBQyxNQUFBO01BQ0VKLElBQUk7TUFDSkQ7SUFBTyxHQUNKRSxJQUFJO0VBRVg7RUFFQTs7O0VBSU8sT0FBT0ksR0FBR0EsQ0FBQ1AsWUFBMEI7SUFDMUMsT0FBTyxJQUFJLENBQUNELFlBQVksQ0FBQ0MsWUFBWSxDQUFDO0VBQ3hDO0VBRUE7OztFQUdPLE9BQU9RLE9BQU9BLENBQUNSLFlBQTBCO0lBQzlDLE9BQU8sSUFBSSxDQUFDRCxZQUFZLENBQUFNLE1BQUEsQ0FBQUMsTUFBQTtNQUN0QkcsS0FBSyxFQUFFLEdBQUc7TUFDVlIsT0FBTyxFQUFFO0lBQXFCLEdBQzNCRCxZQUFZLEVBQ2Y7RUFDSjtFQUVBOzs7RUFJTyxPQUFPVSxPQUFPQSxDQUFDVixZQUEwQjtJQUM5QyxPQUFPLElBQUksQ0FBQ0QsWUFBWSxDQUFBTSxNQUFBLENBQUFDLE1BQUE7TUFDdEJMLE9BQU8sRUFBRTtJQUEyQixHQUNqQ0QsWUFBWSxFQUNmO0VBQ0o7RUFFQTs7O0VBR08sT0FBT1csT0FBT0EsQ0FBQ1gsWUFBMEI7SUFDOUMsT0FBTyxJQUFJLENBQUNELFlBQVksQ0FBQU0sTUFBQSxDQUFBQyxNQUFBO01BQ3RCTCxPQUFPLEVBQUU7SUFBdUIsR0FDN0JELFlBQVksRUFDZjtFQUNKO0VBRU8sT0FBT1ksV0FBV0EsQ0FBQ0MsSUFBUztJQUNqQyxPQUFPO01BQ0xYLElBQUksRUFBRVcsSUFBSSxDQUFDWCxJQUFJLEdBQUdXLElBQUksQ0FBQ1gsSUFBSSxHQUFHLEdBQUc7TUFDakNELE9BQU8sRUFBRVksSUFBSSxDQUFDWixPQUFPLEdBQUdZLElBQUksQ0FBQ1osT0FBTyxHQUFHLEVBQUU7TUFDekNhLE1BQU0sRUFBRUQsSUFBSSxDQUFDQyxNQUFNLEdBQUdELElBQUksQ0FBQ0MsTUFBTSxHQUFHLENBQUM7TUFDckNDLFVBQVUsRUFBRUYsSUFBSSxDQUFDRSxVQUFVLEdBQUdGLElBQUksQ0FBQ0UsVUFBVSxHQUFHLEtBQUs7TUFDckRDLFdBQVcsRUFBRUgsSUFBSSxDQUFDRyxXQUFXLEdBQUdILElBQUksQ0FBQ0csV0FBVyxHQUFHLEVBQUU7TUFDckRDLFdBQVcsRUFBRUosSUFBSSxDQUFDSSxXQUFXLEdBQUdKLElBQUksQ0FBQ0ksV0FBVyxHQUFHLElBQUk7TUFDdkRDLGFBQWEsRUFBRUwsSUFBSSxDQUFDSyxhQUFhLEdBQUdMLElBQUksQ0FBQ0ssYUFBYSxHQUFHLEtBQUs7TUFDOURMLElBQUksRUFBRUEsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUksQ0FBQ0EsSUFBSSxHQUFHO0tBQ2hCO0VBQ2xCOztBQUdGTSxPQUFBLENBQUFDLE9BQUEsR0FBZXRCLGFBQWEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["BuildResponse","baseResponse","dataResponse","message","code","rest","__rest","Object","assign","get","created","codde","updated","deleted","appResponse","data","status","showToUser","messageCode","messageKind","isSuccessfull","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\modules\\response\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/modules/response/app_response.ts"],"sourcesContent":["import { AppResponse } from \"../../types/response.interface\";\r\n\r\ntype DataResponse =\r\n  | {\r\n      message: string;\r\n      code?: number;\r\n    }\r\n  | any;\r\n\r\nclass BuildResponse {\r\n  private static baseResponse(dataResponse: DataResponse) {\r\n    const {\r\n      message = \"data has been received!\",\r\n      code = 200,\r\n      ...rest\r\n    } = dataResponse;\r\n    return {\r\n      code,\r\n      message,\r\n      ...rest,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Response Success\r\n   */\r\n\r\n  public static get(dataResponse: DataResponse) {\r\n    return this.baseResponse(dataResponse);\r\n  }\r\n\r\n  /**\r\n   * Response Create\r\n   */\r\n  public static created(dataResponse: DataResponse) {\r\n    return this.baseResponse({\r\n      codde: 201,\r\n      message: \"data has beed added\",\r\n      ...dataResponse,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Response Update\r\n   */\r\n\r\n  public static updated(dataResponse: DataResponse) {\r\n    return this.baseResponse({\r\n      message: \"the data has beed updated\",\r\n      ...dataResponse,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Response Delete\r\n   */\r\n  public static deleted(dataResponse: DataResponse) {\r\n    return this.baseResponse({\r\n      message: \"data has been deleted\",\r\n      ...dataResponse,\r\n    });\r\n  }\r\n\r\n  public static appResponse(data: any) {\r\n    return {\r\n      code: data.code ? data.code : 200,\r\n      message: data.message ? data.message : \"\",\r\n      status: data.status ? data.status : 0,\r\n      showToUser: data.showToUser ? data.showToUser : false,\r\n      messageCode: data.messageCode ? data.messageCode : \"\",\r\n      messageKind: data.messageKind ? data.messageKind : null,\r\n      isSuccessfull: data.isSuccessfull ? data.isSuccessfull : false,\r\n      data: data.data ? data.data : null,\r\n    } as AppResponse;\r\n  }\r\n}\r\n\r\nexport default BuildResponse;\r\n"],"mappings":";;;;;;;;;;;;;AASA,MAAMA,aAAa;EACT,OAAOC,YAAYA,CAACC,YAA0B;IACpD,MAAM;QACJC,OAAO,GAAG,yBAAyB;QACnCC,IAAI,GAAG;MAAG,IAERF,YAAY;MADXG,IAAI,GAAAC,MAAA,CACLJ,YAAY,EAJV,mBAIL,CAAe;IAChB,OAAAK,MAAA,CAAAC,MAAA;MACEJ,IAAI;MACJD;IAAO,GACJE,IAAI;EAEX;EAEA;;;EAIO,OAAOI,GAAGA,CAACP,YAA0B;IAC1C,OAAO,IAAI,CAACD,YAAY,CAACC,YAAY,CAAC;EACxC;EAEA;;;EAGO,OAAOQ,OAAOA,CAACR,YAA0B;IAC9C,OAAO,IAAI,CAACD,YAAY,CAAAM,MAAA,CAAAC,MAAA;MACtBG,KAAK,EAAE,GAAG;MACVR,OAAO,EAAE;IAAqB,GAC3BD,YAAY,EACf;EACJ;EAEA;;;EAIO,OAAOU,OAAOA,CAACV,YAA0B;IAC9C,OAAO,IAAI,CAACD,YAAY,CAAAM,MAAA,CAAAC,MAAA;MACtBL,OAAO,EAAE;IAA2B,GACjCD,YAAY,EACf;EACJ;EAEA;;;EAGO,OAAOW,OAAOA,CAACX,YAA0B;IAC9C,OAAO,IAAI,CAACD,YAAY,CAAAM,MAAA,CAAAC,MAAA;MACtBL,OAAO,EAAE;IAAuB,GAC7BD,YAAY,EACf;EACJ;EAEO,OAAOY,WAAWA,CAACC,IAAS;IACjC,OAAO;MACLX,IAAI,EAAEW,IAAI,CAACX,IAAI,GAAGW,IAAI,CAACX,IAAI,GAAG,GAAG;MACjCD,OAAO,EAAEY,IAAI,CAACZ,OAAO,GAAGY,IAAI,CAACZ,OAAO,GAAG,EAAE;MACzCa,MAAM,EAAED,IAAI,CAACC,MAAM,GAAGD,IAAI,CAACC,MAAM,GAAG,CAAC;MACrCC,UAAU,EAAEF,IAAI,CAACE,UAAU,GAAGF,IAAI,CAACE,UAAU,GAAG,KAAK;MACrDC,WAAW,EAAEH,IAAI,CAACG,WAAW,GAAGH,IAAI,CAACG,WAAW,GAAG,EAAE;MACrDC,WAAW,EAAEJ,IAAI,CAACI,WAAW,GAAGJ,IAAI,CAACI,WAAW,GAAG,IAAI;MACvDC,aAAa,EAAEL,IAAI,CAACK,aAAa,GAAGL,IAAI,CAACK,aAAa,GAAG,KAAK;MAC9DL,IAAI,EAAEA,IAAI,CAACA,IAAI,GAAGA,IAAI,CAACA,IAAI,GAAG;KAChB;EAClB;;AAGFM,OAAA,CAAAC,OAAA,GAAetB,aAAa","ignoreList":[]}},"mtime":1718414462310},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\user\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\user\\\\controller.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst async_handler_1 = __importDefault(require(\"../../helper/async-handler\"));\nconst common_1 = require(\"../../helper/common\");\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\nconst public_1 = __importDefault(require(\"../../routes/public\"));\nconst sercvice_1 = __importDefault(require(\"./sercvice\"));\npublic_1.default.get(\"/user/checkNickName/:nickname\", (0, async_handler_1.default)(function checkNickName(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.params.nickname;\n    const result = yield sercvice_1.default.checkNickName(formData);\n    res.json(result);\n  });\n}));\npublic_1.default.post(\"/getUserInfo\", function getAllUserData(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    try {\n      const data = req.body.email;\n      const userData = yield sercvice_1.default.getUserInfo(data);\n      const buildResponse = yield app_response_1.default.get(userData);\n      return res.json(buildResponse);\n    } catch (error) {\n      console.log(error);\n    }\n  });\n});\npublic_1.default.post(\"/user/confirm\", (0, async_handler_1.default)(function confirmEmail(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.body;\n    const result = yield sercvice_1.default.confrimEmail(formData);\n    res.status(result.code).json(result);\n  });\n}));\npublic_1.default.get(\"/user/getOTP/:email\", (0, async_handler_1.default)(function getOTP(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.params.email;\n    const verify_code = (0, common_1.getUniqueCodev3)();\n    const result = yield sercvice_1.default.getVerifyCode(formData, verify_code);\n    const buildResponse = yield app_response_1.default.get(result);\n    res.json(buildResponse);\n  });\n}));\npublic_1.default.put(`/user/updateProfile`, (0, async_handler_1.default)(function updateProfileUser(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.body;\n    const result = yield sercvice_1.default.updateProfileuser(formData);\n    const buildResponse = yield app_response_1.default.get(formData);\n    res.json(buildResponse);\n  });\n}));\npublic_1.default.get(`/user/getSkills`, (0, async_handler_1.default)(function getUserSkills(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const result = yield sercvice_1.default.getUserSkills();\n    const buildResponse = app_response_1.default.get(result);\n    if (buildResponse) {\n      res.status(200).json(buildResponse);\n    }\n  });\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY19oYW5kbGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiY29tbW9uXzEiLCJhcHBfcmVzcG9uc2VfMSIsInB1YmxpY18xIiwic2VyY3ZpY2VfMSIsImRlZmF1bHQiLCJnZXQiLCJjaGVja05pY2tOYW1lIiwicmVxIiwicmVzIiwiZm9ybURhdGEiLCJwYXJhbXMiLCJuaWNrbmFtZSIsInJlc3VsdCIsImpzb24iLCJwb3N0IiwiZ2V0QWxsVXNlckRhdGEiLCJkYXRhIiwiYm9keSIsImVtYWlsIiwidXNlckRhdGEiLCJnZXRVc2VySW5mbyIsImJ1aWxkUmVzcG9uc2UiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjb25maXJtRW1haWwiLCJjb25mcmltRW1haWwiLCJzdGF0dXMiLCJjb2RlIiwiZ2V0T1RQIiwidmVyaWZ5X2NvZGUiLCJnZXRVbmlxdWVDb2RldjMiLCJnZXRWZXJpZnlDb2RlIiwicHV0IiwidXBkYXRlUHJvZmlsZVVzZXIiLCJ1cGRhdGVQcm9maWxldXNlciIsImdldFVzZXJTa2lsbHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxjb250cm9sbGVyXFx1c2VyXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXIvdXNlci9jb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IG1zIGZyb20gXCJtc1wiO1xyXG5pbXBvcnQgYXN5bmNIYW5kbGVyIGZyb20gXCIuLi8uLi9oZWxwZXIvYXN5bmMtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBnZXRVbmlxdWVDb2RldjMgfSBmcm9tIFwiLi4vLi4vaGVscGVyL2NvbW1vblwiO1xyXG5pbXBvcnQgQnVpbGRSZXNwb25zZSBmcm9tIFwiLi4vLi4vbW9kdWxlcy9yZXNwb25zZS9hcHBfcmVzcG9uc2VcIjtcclxuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi4vLi4vcm91dGVzL3B1YmxpY1wiO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSBcIi4vc2VyY3ZpY2VcIjtcclxuXHJcbnJvdXRlcy5nZXQoXHJcbiAgXCIvdXNlci9jaGVja05pY2tOYW1lLzpuaWNrbmFtZVwiLFxyXG4gIGFzeW5jSGFuZGxlcihhc3luYyBmdW5jdGlvbiBjaGVja05pY2tOYW1lKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSByZXEucGFyYW1zLm5pY2tuYW1lO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlclNlcnZpY2UuY2hlY2tOaWNrTmFtZShmb3JtRGF0YSk7XHJcbiAgICByZXMuanNvbihyZXN1bHQpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5yb3V0ZXMucG9zdChcclxuICBcIi9nZXRVc2VySW5mb1wiLFxyXG4gIGFzeW5jIGZ1bmN0aW9uIGdldEFsbFVzZXJEYXRhKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5LmVtYWlsO1xyXG4gICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IFVzZXJTZXJ2aWNlLmdldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBjb25zdCBidWlsZFJlc3BvbnNlID0gYXdhaXQgQnVpbGRSZXNwb25zZS5nZXQodXNlckRhdGEpO1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oYnVpbGRSZXNwb25zZSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG4pO1xyXG5cclxucm91dGVzLnBvc3QoXHJcbiAgXCIvdXNlci9jb25maXJtXCIsXHJcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1FbWFpbChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyU2VydmljZS5jb25mcmltRW1haWwoZm9ybURhdGEpO1xyXG4gICAgcmVzLnN0YXR1cyhyZXN1bHQuY29kZSkuanNvbihyZXN1bHQpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5yb3V0ZXMuZ2V0KFxyXG4gIFwiL3VzZXIvZ2V0T1RQLzplbWFpbFwiLFxyXG4gIGFzeW5jSGFuZGxlcihhc3luYyBmdW5jdGlvbiBnZXRPVFAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHJlcS5wYXJhbXMuZW1haWw7XHJcbiAgICBjb25zdCB2ZXJpZnlfY29kZSA9IGdldFVuaXF1ZUNvZGV2MygpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlclNlcnZpY2UuZ2V0VmVyaWZ5Q29kZShmb3JtRGF0YSwgdmVyaWZ5X2NvZGUpO1xyXG4gICAgY29uc3QgYnVpbGRSZXNwb25zZSA9IGF3YWl0IEJ1aWxkUmVzcG9uc2UuZ2V0KHJlc3VsdCk7XHJcbiAgICByZXMuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICB9KVxyXG4pO1xyXG5cclxucm91dGVzLnB1dChcclxuICBgL3VzZXIvdXBkYXRlUHJvZmlsZWAsXHJcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb2ZpbGVVc2VyKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXJTZXJ2aWNlLnVwZGF0ZVByb2ZpbGV1c2VyKGZvcm1EYXRhKTtcclxuICAgIGNvbnN0IGJ1aWxkUmVzcG9uc2UgPSBhd2FpdCBCdWlsZFJlc3BvbnNlLmdldChmb3JtRGF0YSk7XHJcbiAgICByZXMuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICB9KVxyXG4pO1xyXG5cclxucm91dGVzLmdldChcclxuICBgL3VzZXIvZ2V0U2tpbGxzYCxcclxuICBhc3luY0hhbmRsZXIoYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclNraWxscyhyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXJTZXJ2aWNlLmdldFVzZXJTa2lsbHMoKTtcclxuICAgIGNvbnN0IGJ1aWxkUmVzcG9uc2UgPSBCdWlsZFJlc3BvbnNlLmdldChyZXN1bHQpO1xyXG4gICAgaWYgKGJ1aWxkUmVzcG9uc2UpIHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oYnVpbGRSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsTUFBQUEsZUFBQSxHQUFBQyxlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFDQSxNQUFBRSxjQUFBLEdBQUFILGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFHLFFBQUEsR0FBQUosZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUksVUFBQSxHQUFBTCxlQUFBLENBQUFDLE9BQUE7QUFFQUcsUUFBQSxDQUFBRSxPQUFNLENBQUNDLEdBQUcsQ0FDUiwrQkFBK0IsRUFDL0IsSUFBQVIsZUFBQSxDQUFBTyxPQUFZLEVBQUMsU0FBZUUsYUFBYUEsQ0FBQ0MsR0FBWSxFQUFFQyxHQUFhOztJQUNuRSxNQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDQyxRQUFRO0lBQ3BDLE1BQU1DLE1BQU0sR0FBRyxNQUFNVCxVQUFBLENBQUFDLE9BQVcsQ0FBQ0UsYUFBYSxDQUFDRyxRQUFRLENBQUM7SUFDeERELEdBQUcsQ0FBQ0ssSUFBSSxDQUFDRCxNQUFNLENBQUM7RUFDbEIsQ0FBQztDQUFBLENBQUMsQ0FDSDtBQUVEVixRQUFBLENBQUFFLE9BQU0sQ0FBQ1UsSUFBSSxDQUNULGNBQWMsRUFDZCxTQUFlQyxjQUFjQSxDQUFDUixHQUFZLEVBQUVDLEdBQWE7O0lBQ3ZELElBQUk7TUFDRixNQUFNUSxJQUFJLEdBQUdULEdBQUcsQ0FBQ1UsSUFBSSxDQUFDQyxLQUFLO01BQzNCLE1BQU1DLFFBQVEsR0FBRyxNQUFNaEIsVUFBQSxDQUFBQyxPQUFXLENBQUNnQixXQUFXLENBQUNKLElBQUksQ0FBQztNQUNwRCxNQUFNSyxhQUFhLEdBQUcsTUFBTXBCLGNBQUEsQ0FBQUcsT0FBYSxDQUFDQyxHQUFHLENBQUNjLFFBQVEsQ0FBQztNQUN2RCxPQUFPWCxHQUFHLENBQUNLLElBQUksQ0FBQ1EsYUFBYSxDQUFDO0lBQ2hDLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztJQUNwQjtFQUNGLENBQUM7Q0FBQSxDQUNGO0FBRURwQixRQUFBLENBQUFFLE9BQU0sQ0FBQ1UsSUFBSSxDQUNULGVBQWUsRUFDZixJQUFBakIsZUFBQSxDQUFBTyxPQUFZLEVBQUMsU0FBZXFCLFlBQVlBLENBQUNsQixHQUFZLEVBQUVDLEdBQWE7O0lBQ2xFLE1BQU1DLFFBQVEsR0FBR0YsR0FBRyxDQUFDVSxJQUFJO0lBQ3pCLE1BQU1MLE1BQU0sR0FBRyxNQUFNVCxVQUFBLENBQUFDLE9BQVcsQ0FBQ3NCLFlBQVksQ0FBQ2pCLFFBQVEsQ0FBQztJQUN2REQsR0FBRyxDQUFDbUIsTUFBTSxDQUFDZixNQUFNLENBQUNnQixJQUFJLENBQUMsQ0FBQ2YsSUFBSSxDQUFDRCxNQUFNLENBQUM7RUFDdEMsQ0FBQztDQUFBLENBQUMsQ0FDSDtBQUVEVixRQUFBLENBQUFFLE9BQU0sQ0FBQ0MsR0FBRyxDQUNSLHFCQUFxQixFQUNyQixJQUFBUixlQUFBLENBQUFPLE9BQVksRUFBQyxTQUFleUIsTUFBTUEsQ0FBQ3RCLEdBQVksRUFBRUMsR0FBYTs7SUFDNUQsTUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLE1BQU0sQ0FBQ1EsS0FBSztJQUNqQyxNQUFNWSxXQUFXLEdBQUcsSUFBQTlCLFFBQUEsQ0FBQStCLGVBQWUsR0FBRTtJQUNyQyxNQUFNbkIsTUFBTSxHQUFHLE1BQU1ULFVBQUEsQ0FBQUMsT0FBVyxDQUFDNEIsYUFBYSxDQUFDdkIsUUFBUSxFQUFFcUIsV0FBVyxDQUFDO0lBQ3JFLE1BQU1ULGFBQWEsR0FBRyxNQUFNcEIsY0FBQSxDQUFBRyxPQUFhLENBQUNDLEdBQUcsQ0FBQ08sTUFBTSxDQUFDO0lBQ3JESixHQUFHLENBQUNLLElBQUksQ0FBQ1EsYUFBYSxDQUFDO0VBQ3pCLENBQUM7Q0FBQSxDQUFDLENBQ0g7QUFFRG5CLFFBQUEsQ0FBQUUsT0FBTSxDQUFDNkIsR0FBRyxDQUNSLHFCQUFxQixFQUNyQixJQUFBcEMsZUFBQSxDQUFBTyxPQUFZLEVBQUMsU0FBZThCLGlCQUFpQkEsQ0FBQzNCLEdBQVksRUFBRUMsR0FBYTs7SUFDdkUsTUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNVLElBQUk7SUFDekIsTUFBTUwsTUFBTSxHQUFHLE1BQU1ULFVBQUEsQ0FBQUMsT0FBVyxDQUFDK0IsaUJBQWlCLENBQUMxQixRQUFRLENBQUM7SUFDNUQsTUFBTVksYUFBYSxHQUFHLE1BQU1wQixjQUFBLENBQUFHLE9BQWEsQ0FBQ0MsR0FBRyxDQUFDSSxRQUFRLENBQUM7SUFDdkRELEdBQUcsQ0FBQ0ssSUFBSSxDQUFDUSxhQUFhLENBQUM7RUFDekIsQ0FBQztDQUFBLENBQUMsQ0FDSDtBQUVEbkIsUUFBQSxDQUFBRSxPQUFNLENBQUNDLEdBQUcsQ0FDUixpQkFBaUIsRUFDakIsSUFBQVIsZUFBQSxDQUFBTyxPQUFZLEVBQUMsU0FBZWdDLGFBQWFBLENBQUM3QixHQUFZLEVBQUVDLEdBQWE7O0lBQ25FLE1BQU1JLE1BQU0sR0FBRyxNQUFNVCxVQUFBLENBQUFDLE9BQVcsQ0FBQ2dDLGFBQWEsRUFBRTtJQUNoRCxNQUFNZixhQUFhLEdBQUdwQixjQUFBLENBQUFHLE9BQWEsQ0FBQ0MsR0FBRyxDQUFDTyxNQUFNLENBQUM7SUFDL0MsSUFBSVMsYUFBYSxFQUFFO01BQ2pCYixHQUFHLENBQUNtQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNkLElBQUksQ0FBQ1EsYUFBYSxDQUFDO0lBQ3JDO0VBQ0YsQ0FBQztDQUFBLENBQUMsQ0FDSCIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["async_handler_1","__importDefault","require","common_1","app_response_1","public_1","sercvice_1","default","get","checkNickName","req","res","formData","params","nickname","result","json","post","getAllUserData","data","body","email","userData","getUserInfo","buildResponse","error","console","log","confirmEmail","confrimEmail","status","code","getOTP","verify_code","getUniqueCodev3","getVerifyCode","put","updateProfileUser","updateProfileuser","getUserSkills"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\user\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/user/controller.ts"],"sourcesContent":["import { Request, Response } from \"express\";\r\nimport ms from \"ms\";\r\nimport asyncHandler from \"../../helper/async-handler\";\r\nimport { getUniqueCodev3 } from \"../../helper/common\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport routes from \"../../routes/public\";\r\nimport UserService from \"./sercvice\";\r\n\r\nroutes.get(\r\n  \"/user/checkNickName/:nickname\",\r\n  asyncHandler(async function checkNickName(req: Request, res: Response) {\r\n    const formData = req.params.nickname;\r\n    const result = await UserService.checkNickName(formData);\r\n    res.json(result);\r\n  })\r\n);\r\n\r\nroutes.post(\r\n  \"/getUserInfo\",\r\n  async function getAllUserData(req: Request, res: Response) {\r\n    try {\r\n      const data = req.body.email;\r\n      const userData = await UserService.getUserInfo(data);\r\n      const buildResponse = await BuildResponse.get(userData);\r\n      return res.json(buildResponse);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nroutes.post(\r\n  \"/user/confirm\",\r\n  asyncHandler(async function confirmEmail(req: Request, res: Response) {\r\n    const formData = req.body;\r\n    const result = await UserService.confrimEmail(formData);\r\n    res.status(result.code).json(result);\r\n  })\r\n);\r\n\r\nroutes.get(\r\n  \"/user/getOTP/:email\",\r\n  asyncHandler(async function getOTP(req: Request, res: Response) {\r\n    const formData = req.params.email;\r\n    const verify_code = getUniqueCodev3();\r\n    const result = await UserService.getVerifyCode(formData, verify_code);\r\n    const buildResponse = await BuildResponse.get(result);\r\n    res.json(buildResponse);\r\n  })\r\n);\r\n\r\nroutes.put(\r\n  `/user/updateProfile`,\r\n  asyncHandler(async function updateProfileUser(req: Request, res: Response) {\r\n    const formData = req.body;\r\n    const result = await UserService.updateProfileuser(formData);\r\n    const buildResponse = await BuildResponse.get(formData);\r\n    res.json(buildResponse);\r\n  })\r\n);\r\n\r\nroutes.get(\r\n  `/user/getSkills`,\r\n  asyncHandler(async function getUserSkills(req: Request, res: Response) {\r\n    const result = await UserService.getUserSkills();\r\n    const buildResponse = BuildResponse.get(result);\r\n    if (buildResponse) {\r\n      res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1719368412670},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\user\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\user\\\\schema.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst yup = __importStar(require(\"yup\"));\nconst create = yup.object().shape({\n  fistName: yup.string().required(\"fistName is required\"),\n  lastName: yup.string().required(\"lastName is required\"),\n  nickName: yup.string().required(\"nickName is required\"),\n  gender: yup.string().required(\"gender is required\"),\n  birthDay: yup.string().required(\"birthDay is required\"),\n  email: yup.string().email(\"invalid email\").required(\"email is required\"),\n  phoneNumber: yup.string().nullable(),\n  tokenVerify: yup.string().nullable(),\n  password: yup.string().min(8, \"at least 8 characters\").oneOf([yup.ref(\"confirmPassword\")], \"passwords are not the same\"),\n  confirmPassword: yup.string().min(8, \"at least 8 characters\").oneOf([yup.ref(\"password\")], \"passwords are not the same\")\n});\nconst createPassword = yup.object().shape({\n  password: yup.string().min(8, \"at least 8 characters\").oneOf([yup.ref(\"confirmPassword\")], \"passwords are not the same\"),\n  confirmPassword: yup.string().min(8, \"at least 8 characters\").oneOf([yup.ref(\"password\")], \"passwords are not the same\")\n});\nconst userRoles = yup.object().shape({\n  userId: yup.string().required(\"userId is required\")\n}).required();\nconst latestTemplates = yup.object().shape({\n  userId: yup.string().required(\"userId is required\")\n}).required();\nconst confirmEmail = yup.object().shape({\n  email: yup.string().required(\"email is required\"),\n  // id: yup.string().required(\"user id is required\"),\n  verify_code: yup.string().required(\"verify code is required\").min(4, \"verify code should be 4 chr\").max(4, \"verify code should be 4 chr\")\n});\nexports.default = {\n  userRoles,\n  latestTemplates,\n  create,\n  createPassword,\n  confirmEmail\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ5dXAiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwiY3JlYXRlIiwib2JqZWN0Iiwic2hhcGUiLCJmaXN0TmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibGFzdE5hbWUiLCJuaWNrTmFtZSIsImdlbmRlciIsImJpcnRoRGF5IiwiZW1haWwiLCJwaG9uZU51bWJlciIsIm51bGxhYmxlIiwidG9rZW5WZXJpZnkiLCJwYXNzd29yZCIsIm1pbiIsIm9uZU9mIiwicmVmIiwiY29uZmlybVBhc3N3b3JkIiwiY3JlYXRlUGFzc3dvcmQiLCJ1c2VyUm9sZXMiLCJ1c2VySWQiLCJsYXRlc3RUZW1wbGF0ZXMiLCJjb25maXJtRW1haWwiLCJ2ZXJpZnlfY29kZSIsIm1heCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29udHJvbGxlclxcdXNlclxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVyL3VzZXIvc2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHl1cCBmcm9tIFwieXVwXCI7XHJcblxyXG5jb25zdCBjcmVhdGUgPSB5dXAub2JqZWN0KCkuc2hhcGUoe1xyXG4gIGZpc3ROYW1lOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoXCJmaXN0TmFtZSBpcyByZXF1aXJlZFwiKSxcclxuICBsYXN0TmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKFwibGFzdE5hbWUgaXMgcmVxdWlyZWRcIiksXHJcbiAgbmlja05hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZChcIm5pY2tOYW1lIGlzIHJlcXVpcmVkXCIpLFxyXG4gIGdlbmRlcjogeXVwLnN0cmluZygpLnJlcXVpcmVkKFwiZ2VuZGVyIGlzIHJlcXVpcmVkXCIpLFxyXG4gIGJpcnRoRGF5OiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoXCJiaXJ0aERheSBpcyByZXF1aXJlZFwiKSxcclxuICBlbWFpbDogeXVwLnN0cmluZygpLmVtYWlsKFwiaW52YWxpZCBlbWFpbFwiKS5yZXF1aXJlZChcImVtYWlsIGlzIHJlcXVpcmVkXCIpLFxyXG4gIHBob25lTnVtYmVyOiB5dXAuc3RyaW5nKCkubnVsbGFibGUoKSxcclxuICB0b2tlblZlcmlmeTogeXVwLnN0cmluZygpLm51bGxhYmxlKCksXHJcbiAgcGFzc3dvcmQ6IHl1cFxyXG4gICAgLnN0cmluZygpXHJcbiAgICAubWluKDgsIFwiYXQgbGVhc3QgOCBjaGFyYWN0ZXJzXCIpXHJcbiAgICAub25lT2YoW3l1cC5yZWYoXCJjb25maXJtUGFzc3dvcmRcIildLCBcInBhc3N3b3JkcyBhcmUgbm90IHRoZSBzYW1lXCIpLFxyXG4gIGNvbmZpcm1QYXNzd29yZDogeXVwXHJcbiAgICAuc3RyaW5nKClcclxuICAgIC5taW4oOCwgXCJhdCBsZWFzdCA4IGNoYXJhY3RlcnNcIilcclxuICAgIC5vbmVPZihbeXVwLnJlZihcInBhc3N3b3JkXCIpXSwgXCJwYXNzd29yZHMgYXJlIG5vdCB0aGUgc2FtZVwiKSxcclxufSk7XHJcbmNvbnN0IGNyZWF0ZVBhc3N3b3JkID0geXVwLm9iamVjdCgpLnNoYXBlKHtcclxuICBwYXNzd29yZDogeXVwXHJcbiAgICAuc3RyaW5nKClcclxuICAgIC5taW4oOCwgXCJhdCBsZWFzdCA4IGNoYXJhY3RlcnNcIilcclxuICAgIC5vbmVPZihbeXVwLnJlZihcImNvbmZpcm1QYXNzd29yZFwiKV0sIFwicGFzc3dvcmRzIGFyZSBub3QgdGhlIHNhbWVcIiksXHJcbiAgY29uZmlybVBhc3N3b3JkOiB5dXBcclxuICAgIC5zdHJpbmcoKVxyXG4gICAgLm1pbig4LCBcImF0IGxlYXN0IDggY2hhcmFjdGVyc1wiKVxyXG4gICAgLm9uZU9mKFt5dXAucmVmKFwicGFzc3dvcmRcIildLCBcInBhc3N3b3JkcyBhcmUgbm90IHRoZSBzYW1lXCIpLFxyXG59KTtcclxuY29uc3QgdXNlclJvbGVzID0geXVwXHJcbiAgLm9iamVjdCgpXHJcbiAgLnNoYXBlKHtcclxuICAgIHVzZXJJZDogeXVwLnN0cmluZygpLnJlcXVpcmVkKFwidXNlcklkIGlzIHJlcXVpcmVkXCIpLFxyXG4gIH0pXHJcbiAgLnJlcXVpcmVkKCk7XHJcblxyXG5jb25zdCBsYXRlc3RUZW1wbGF0ZXMgPSB5dXBcclxuICAub2JqZWN0KClcclxuICAuc2hhcGUoe1xyXG4gICAgdXNlcklkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoXCJ1c2VySWQgaXMgcmVxdWlyZWRcIiksXHJcbiAgfSlcclxuICAucmVxdWlyZWQoKTtcclxuXHJcbmNvbnN0IGNvbmZpcm1FbWFpbCA9IHl1cC5vYmplY3QoKS5zaGFwZSh7XHJcbiAgZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZChcImVtYWlsIGlzIHJlcXVpcmVkXCIpLFxyXG4gIC8vIGlkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoXCJ1c2VyIGlkIGlzIHJlcXVpcmVkXCIpLFxyXG4gIHZlcmlmeV9jb2RlOiB5dXBcclxuICAgIC5zdHJpbmcoKVxyXG4gICAgLnJlcXVpcmVkKFwidmVyaWZ5IGNvZGUgaXMgcmVxdWlyZWRcIilcclxuICAgIC5taW4oNCwgXCJ2ZXJpZnkgY29kZSBzaG91bGQgYmUgNCBjaHJcIilcclxuICAgIC5tYXgoNCwgXCJ2ZXJpZnkgY29kZSBzaG91bGQgYmUgNCBjaHJcIiksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHVzZXJSb2xlcyxcclxuICBsYXRlc3RUZW1wbGF0ZXMsXHJcbiAgY3JlYXRlLFxyXG4gIGNyZWF0ZVBhc3N3b3JkLFxyXG4gIGNvbmZpcm1FbWFpbCxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxHQUFBLEdBQUFDLFlBQUEsQ0FBQUMsT0FBQTtBQUVBLE1BQU1DLE1BQU0sR0FBR0gsR0FBRyxDQUFDSSxNQUFNLEVBQUUsQ0FBQ0MsS0FBSyxDQUFDO0VBQ2hDQyxRQUFRLEVBQUVOLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUNDLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQztFQUN2REMsUUFBUSxFQUFFVCxHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDQyxRQUFRLENBQUMsc0JBQXNCLENBQUM7RUFDdkRFLFFBQVEsRUFBRVYsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDLHNCQUFzQixDQUFDO0VBQ3ZERyxNQUFNLEVBQUVYLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUNDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQztFQUNuREksUUFBUSxFQUFFWixHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDQyxRQUFRLENBQUMsc0JBQXNCLENBQUM7RUFDdkRLLEtBQUssRUFBRWIsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ00sS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDTCxRQUFRLENBQUMsbUJBQW1CLENBQUM7RUFDeEVNLFdBQVcsRUFBRWQsR0FBRyxDQUFDTyxNQUFNLEVBQUUsQ0FBQ1EsUUFBUSxFQUFFO0VBQ3BDQyxXQUFXLEVBQUVoQixHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDUSxRQUFRLEVBQUU7RUFDcENFLFFBQVEsRUFBRWpCLEdBQUcsQ0FDVk8sTUFBTSxFQUFFLENBQ1JXLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FDL0JDLEtBQUssQ0FBQyxDQUFDbkIsR0FBRyxDQUFDb0IsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsRUFBRSw0QkFBNEIsQ0FBQztFQUNwRUMsZUFBZSxFQUFFckIsR0FBRyxDQUNqQk8sTUFBTSxFQUFFLENBQ1JXLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FDL0JDLEtBQUssQ0FBQyxDQUFDbkIsR0FBRyxDQUFDb0IsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsNEJBQTRCO0NBQzdELENBQUM7QUFDRixNQUFNRSxjQUFjLEdBQUd0QixHQUFHLENBQUNJLE1BQU0sRUFBRSxDQUFDQyxLQUFLLENBQUM7RUFDeENZLFFBQVEsRUFBRWpCLEdBQUcsQ0FDVk8sTUFBTSxFQUFFLENBQ1JXLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FDL0JDLEtBQUssQ0FBQyxDQUFDbkIsR0FBRyxDQUFDb0IsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsRUFBRSw0QkFBNEIsQ0FBQztFQUNwRUMsZUFBZSxFQUFFckIsR0FBRyxDQUNqQk8sTUFBTSxFQUFFLENBQ1JXLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FDL0JDLEtBQUssQ0FBQyxDQUFDbkIsR0FBRyxDQUFDb0IsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsNEJBQTRCO0NBQzdELENBQUM7QUFDRixNQUFNRyxTQUFTLEdBQUd2QixHQUFHLENBQ2xCSSxNQUFNLEVBQUUsQ0FDUkMsS0FBSyxDQUFDO0VBQ0xtQixNQUFNLEVBQUV4QixHQUFHLENBQUNPLE1BQU0sRUFBRSxDQUFDQyxRQUFRLENBQUMsb0JBQW9CO0NBQ25ELENBQUMsQ0FDREEsUUFBUSxFQUFFO0FBRWIsTUFBTWlCLGVBQWUsR0FBR3pCLEdBQUcsQ0FDeEJJLE1BQU0sRUFBRSxDQUNSQyxLQUFLLENBQUM7RUFDTG1CLE1BQU0sRUFBRXhCLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUNDLFFBQVEsQ0FBQyxvQkFBb0I7Q0FDbkQsQ0FBQyxDQUNEQSxRQUFRLEVBQUU7QUFFYixNQUFNa0IsWUFBWSxHQUFHMUIsR0FBRyxDQUFDSSxNQUFNLEVBQUUsQ0FBQ0MsS0FBSyxDQUFDO0VBQ3RDUSxLQUFLLEVBQUViLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUNDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztFQUNqRDtFQUNBbUIsV0FBVyxFQUFFM0IsR0FBRyxDQUNiTyxNQUFNLEVBQUUsQ0FDUkMsUUFBUSxDQUFDLHlCQUF5QixDQUFDLENBQ25DVSxHQUFHLENBQUMsQ0FBQyxFQUFFLDZCQUE2QixDQUFDLENBQ3JDVSxHQUFHLENBQUMsQ0FBQyxFQUFFLDZCQUE2QjtDQUN4QyxDQUFDO0FBRUZDLE9BQUEsQ0FBQUMsT0FBQSxHQUFlO0VBQ2JQLFNBQVM7RUFDVEUsZUFBZTtFQUNmdEIsTUFBTTtFQUNObUIsY0FBYztFQUNkSTtDQUNEIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["yup","__importStar","require","create","object","shape","fistName","string","required","lastName","nickName","gender","birthDay","email","phoneNumber","nullable","tokenVerify","password","min","oneOf","ref","confirmPassword","createPassword","userRoles","userId","latestTemplates","confirmEmail","verify_code","max","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\user\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/user/schema.ts"],"sourcesContent":["import * as yup from \"yup\";\r\n\r\nconst create = yup.object().shape({\r\n  fistName: yup.string().required(\"fistName is required\"),\r\n  lastName: yup.string().required(\"lastName is required\"),\r\n  nickName: yup.string().required(\"nickName is required\"),\r\n  gender: yup.string().required(\"gender is required\"),\r\n  birthDay: yup.string().required(\"birthDay is required\"),\r\n  email: yup.string().email(\"invalid email\").required(\"email is required\"),\r\n  phoneNumber: yup.string().nullable(),\r\n  tokenVerify: yup.string().nullable(),\r\n  password: yup\r\n    .string()\r\n    .min(8, \"at least 8 characters\")\r\n    .oneOf([yup.ref(\"confirmPassword\")], \"passwords are not the same\"),\r\n  confirmPassword: yup\r\n    .string()\r\n    .min(8, \"at least 8 characters\")\r\n    .oneOf([yup.ref(\"password\")], \"passwords are not the same\"),\r\n});\r\nconst createPassword = yup.object().shape({\r\n  password: yup\r\n    .string()\r\n    .min(8, \"at least 8 characters\")\r\n    .oneOf([yup.ref(\"confirmPassword\")], \"passwords are not the same\"),\r\n  confirmPassword: yup\r\n    .string()\r\n    .min(8, \"at least 8 characters\")\r\n    .oneOf([yup.ref(\"password\")], \"passwords are not the same\"),\r\n});\r\nconst userRoles = yup\r\n  .object()\r\n  .shape({\r\n    userId: yup.string().required(\"userId is required\"),\r\n  })\r\n  .required();\r\n\r\nconst latestTemplates = yup\r\n  .object()\r\n  .shape({\r\n    userId: yup.string().required(\"userId is required\"),\r\n  })\r\n  .required();\r\n\r\nconst confirmEmail = yup.object().shape({\r\n  email: yup.string().required(\"email is required\"),\r\n  // id: yup.string().required(\"user id is required\"),\r\n  verify_code: yup\r\n    .string()\r\n    .required(\"verify code is required\")\r\n    .min(4, \"verify code should be 4 chr\")\r\n    .max(4, \"verify code should be 4 chr\"),\r\n});\r\n\r\nexport default {\r\n  userRoles,\r\n  latestTemplates,\r\n  create,\r\n  createPassword,\r\n  confirmEmail,\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1718689629190},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\user\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\user\\\\sercvice.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst db_1 = require(\"../../bin/db\");\nconst use_validation_1 = __importDefault(require(\"../../helper/use_validation\"));\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\nconst schema_1 = __importDefault(require(\"./schema\"));\nconst send_email_1 = __importDefault(require(\"../../helper/send_email\"));\nconst common_1 = require(\"../../helper/common\");\nconst jsonwebtoken_1 = __importDefault(require(\"jsonwebtoken\"));\nconst ms_1 = __importDefault(require(\"ms\"));\nconst response_error_1 = __importDefault(require(\"../../modules/error/response_error\"));\nconst {\n  JWT_SECRET_ACCESS_TOKEN,\n  JWT_SECRET_REFRESH_TOKEN\n} = process.env;\nconst JWT_ACCESS_TOKEN_EXPIRED = process.env.JWT_ACCESS_TOKEN_EXPIRED || \"1d\"; // 1 Days\nconst expiresIn = (0, ms_1.default)(JWT_ACCESS_TOKEN_EXPIRED) / 1000;\nclass UserService {\n  static getUserInfo(email) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield (0, db_1.getUserInfo)(email);\n    });\n  }\n  /**\n   * @param email\n   */\n  static validateUserEmail(email) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.checkUserExist)(email);\n      if (data.length) {\n        return data[0];\n      }\n      return null;\n    });\n  }\n  /**\n   * @param email\n   */\n  static confrimEmail(formData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const userData = (0, use_validation_1.default)(schema_1.default.confirmEmail, formData);\n      const confirmEmailResult = yield (0, db_1.confirmEmail)(userData);\n      return app_response_1.default.appResponse(confirmEmailResult);\n    });\n  }\n  static getVerifyCode(userData, tokenVerify) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // const userData = useValidation(schemaUser.confirmEmail,userData)\n      const result = yield (0, db_1.getOTP)(userData, tokenVerify);\n      send_email_1.default.AccountRegister(result);\n      if (result) {\n        return result;\n      }\n      return null;\n    });\n  }\n  static updateProfileuser(userData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // const currentUser = await UserService.validateUserEmail(userData.email);\n      // if (currentUser) {\n      //   return { message: \"the user already exist !\", code: 400, currentUser };\n      // }\n      const generateToken = {\n        code: (0, common_1.getUniqueCodev2)()\n      };\n      const tokenVerify = jsonwebtoken_1.default.sign(JSON.parse(JSON.stringify(generateToken)), JWT_SECRET_ACCESS_TOKEN, {\n        expiresIn\n      });\n      userData.verify_code = (0, common_1.getUniqueCodev3)();\n      userData.tokenVerify = tokenVerify;\n      const result = yield (0, db_1.updateProfileUser)(userData);\n      if (!result) {\n        throw new response_error_1.default.BadRequest(\"Could not update user!\");\n      } else {\n        return {\n          message: null,\n          updateuser: {\n            user: result\n          }\n        };\n      }\n    });\n  }\n  static getUserSkills() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.getUserSkills)();\n      if (data) {\n        return {\n          message: `ok`,\n          data\n        };\n      }\n      return null;\n    });\n  }\n  /**\n   * @param email\n   */\n  static checkNickName(nickName) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const getData = yield (0, db_1.checkNickName)();\n      if (getData[0].nickName === nickName) {\n        throw new response_error_1.default.BadRequest(\"The nickName is alreay exist!\");\n      } else {\n        return;\n      }\n    });\n  }\n}\nexports.default = UserService;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYl8xIiwicmVxdWlyZSIsInVzZV92YWxpZGF0aW9uXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJhcHBfcmVzcG9uc2VfMSIsInNjaGVtYV8xIiwic2VuZF9lbWFpbF8xIiwiY29tbW9uXzEiLCJqc29ud2VidG9rZW5fMSIsIm1zXzEiLCJyZXNwb25zZV9lcnJvcl8xIiwiSldUX1NFQ1JFVF9BQ0NFU1NfVE9LRU4iLCJKV1RfU0VDUkVUX1JFRlJFU0hfVE9LRU4iLCJwcm9jZXNzIiwiZW52IiwiSldUX0FDQ0VTU19UT0tFTl9FWFBJUkVEIiwiZXhwaXJlc0luIiwiZGVmYXVsdCIsIlVzZXJTZXJ2aWNlIiwiZ2V0VXNlckluZm8iLCJlbWFpbCIsInZhbGlkYXRlVXNlckVtYWlsIiwiZGF0YSIsImNoZWNrVXNlckV4aXN0IiwibGVuZ3RoIiwiY29uZnJpbUVtYWlsIiwiZm9ybURhdGEiLCJ1c2VyRGF0YSIsImNvbmZpcm1FbWFpbCIsImNvbmZpcm1FbWFpbFJlc3VsdCIsImFwcFJlc3BvbnNlIiwiZ2V0VmVyaWZ5Q29kZSIsInRva2VuVmVyaWZ5IiwicmVzdWx0IiwiZ2V0T1RQIiwiQWNjb3VudFJlZ2lzdGVyIiwidXBkYXRlUHJvZmlsZXVzZXIiLCJnZW5lcmF0ZVRva2VuIiwiY29kZSIsImdldFVuaXF1ZUNvZGV2MiIsInNpZ24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ2ZXJpZnlfY29kZSIsImdldFVuaXF1ZUNvZGV2MyIsInVwZGF0ZVByb2ZpbGVVc2VyIiwiQmFkUmVxdWVzdCIsIm1lc3NhZ2UiLCJ1cGRhdGV1c2VyIiwidXNlciIsImdldFVzZXJTa2lsbHMiLCJjaGVja05pY2tOYW1lIiwibmlja05hbWUiLCJnZXREYXRhIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXGNvbnRyb2xsZXJcXHVzZXJcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci91c2VyL3NlcmN2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgY2hlY2tOaWNrTmFtZSxcclxuICBjaGVja1VzZXJFeGlzdCxcclxuICBjb25maXJtRW1haWwsXHJcbiAgZ2V0T1RQLFxyXG4gIGdldFVzZXJJbmZvLFxyXG4gIGdldFVzZXJTa2lsbHMsXHJcbiAgdXBkYXRlUHJvZmlsZVVzZXIsXHJcbn0gZnJvbSBcIi4uLy4uL2Jpbi9kYlwiO1xyXG5pbXBvcnQgdXNlVmFsaWRhdGlvbiBmcm9tIFwiLi4vLi4vaGVscGVyL3VzZV92YWxpZGF0aW9uXCI7XHJcbmltcG9ydCBCdWlsZFJlc3BvbnNlIGZyb20gXCIuLi8uLi9tb2R1bGVzL3Jlc3BvbnNlL2FwcF9yZXNwb25zZVwiO1xyXG5pbXBvcnQgeyBDb25maXJtRW1haWwsIFVzZXIgfSBmcm9tIFwiLi4vLi4vdHlwZXMvdXNlclwiO1xyXG5pbXBvcnQgc2NoZW1hVXNlciBmcm9tIFwiLi9zY2hlbWFcIjtcclxuaW1wb3J0IFNlbmRNYWlsIGZyb20gXCIuLi8uLi9oZWxwZXIvc2VuZF9lbWFpbFwiO1xyXG5pbXBvcnQgeyBnZXRVbmlxdWVDb2RldjIsIGdldFVuaXF1ZUNvZGV2MyB9IGZyb20gXCIuLi8uLi9oZWxwZXIvY29tbW9uXCI7XHJcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5pbXBvcnQgbXMgZnJvbSBcIm1zXCI7XHJcbmltcG9ydCBSZXNwb25zZUVycm9yIGZyb20gXCIuLi8uLi9tb2R1bGVzL2Vycm9yL3Jlc3BvbnNlX2Vycm9yXCI7XHJcblxyXG5jb25zdCB7IEpXVF9TRUNSRVRfQUNDRVNTX1RPS0VOLCBKV1RfU0VDUkVUX1JFRlJFU0hfVE9LRU4gfTogYW55ID0gcHJvY2Vzcy5lbnY7XHJcbmNvbnN0IEpXVF9BQ0NFU1NfVE9LRU5fRVhQSVJFRCA9IHByb2Nlc3MuZW52LkpXVF9BQ0NFU1NfVE9LRU5fRVhQSVJFRCB8fCBcIjFkXCI7IC8vIDEgRGF5c1xyXG5cclxuY29uc3QgZXhwaXJlc0luID0gbXMoSldUX0FDQ0VTU19UT0tFTl9FWFBJUkVEKSAvIDEwMDA7XHJcblxyXG5jbGFzcyBVc2VyU2VydmljZSB7XHJcbiAgcHVibGljIHN0YXRpYyBhc3luYyBnZXRVc2VySW5mbyhlbWFpbDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2V0VXNlckluZm8oZW1haWwpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBAcGFyYW0gZW1haWxcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIHZhbGlkYXRlVXNlckVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjaGVja1VzZXJFeGlzdChlbWFpbCk7XHJcblxyXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBkYXRhWzBdIGFzIFVzZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBlbWFpbFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgY29uZnJpbUVtYWlsKGZvcm1EYXRhOiBDb25maXJtRW1haWwpIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlVmFsaWRhdGlvbihzY2hlbWFVc2VyLmNvbmZpcm1FbWFpbCwgZm9ybURhdGEpO1xyXG4gICAgY29uc3QgY29uZmlybUVtYWlsUmVzdWx0ID0gYXdhaXQgY29uZmlybUVtYWlsKHVzZXJEYXRhKTtcclxuICAgIHJldHVybiBCdWlsZFJlc3BvbnNlLmFwcFJlc3BvbnNlKGNvbmZpcm1FbWFpbFJlc3VsdCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGdldFZlcmlmeUNvZGUodXNlckRhdGE6IGFueSwgdG9rZW5WZXJpZnk6IGFueSkge1xyXG4gICAgLy8gY29uc3QgdXNlckRhdGEgPSB1c2VWYWxpZGF0aW9uKHNjaGVtYVVzZXIuY29uZmlybUVtYWlsLHVzZXJEYXRhKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0T1RQKHVzZXJEYXRhLCB0b2tlblZlcmlmeSk7XHJcbiAgICBTZW5kTWFpbC5BY2NvdW50UmVnaXN0ZXIocmVzdWx0KTtcclxuXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgdXBkYXRlUHJvZmlsZXVzZXIodXNlckRhdGE6IFVzZXIpIHtcclxuICAgIC8vIGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgVXNlclNlcnZpY2UudmFsaWRhdGVVc2VyRW1haWwodXNlckRhdGEuZW1haWwpO1xyXG4gICAgLy8gaWYgKGN1cnJlbnRVc2VyKSB7XHJcbiAgICAvLyAgIHJldHVybiB7IG1lc3NhZ2U6IFwidGhlIHVzZXIgYWxyZWFkeSBleGlzdCAhXCIsIGNvZGU6IDQwMCwgY3VycmVudFVzZXIgfTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBjb25zdCBnZW5lcmF0ZVRva2VuID0ge1xyXG4gICAgICBjb2RlOiBnZXRVbmlxdWVDb2RldjIoKSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdG9rZW5WZXJpZnkgPSBqd3Quc2lnbihcclxuICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShnZW5lcmF0ZVRva2VuKSksXHJcbiAgICAgIEpXVF9TRUNSRVRfQUNDRVNTX1RPS0VOLFxyXG4gICAgICB7XHJcbiAgICAgICAgZXhwaXJlc0luLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHVzZXJEYXRhLnZlcmlmeV9jb2RlID0gZ2V0VW5pcXVlQ29kZXYzKCk7XHJcbiAgICB1c2VyRGF0YS50b2tlblZlcmlmeSA9IHRva2VuVmVyaWZ5O1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlUHJvZmlsZVVzZXIodXNlckRhdGEpO1xyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IuQmFkUmVxdWVzdChcIkNvdWxkIG5vdCB1cGRhdGUgdXNlciFcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1lc3NhZ2U6IG51bGwsXHJcbiAgICAgICAgdXBkYXRldXNlcjoge1xyXG4gICAgICAgICAgdXNlcjogcmVzdWx0LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGdldFVzZXJTa2lsbHMoKSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0VXNlclNraWxscygpO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIHsgbWVzc2FnZTogYG9rYCwgZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBlbWFpbFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgY2hlY2tOaWNrTmFtZShuaWNrTmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBnZXREYXRhID0gYXdhaXQgY2hlY2tOaWNrTmFtZSgpO1xyXG4gICAgaWYgKGdldERhdGFbMF0ubmlja05hbWUgPT09IG5pY2tOYW1lICkge1xyXG4gICAgICB0aHJvdyBuZXcgUmVzcG9uc2VFcnJvci5CYWRSZXF1ZXN0KFwiVGhlIG5pY2tOYW1lIGlzIGFscmVheSBleGlzdCFcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VyU2VydmljZTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBQUEsSUFBQSxH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","map":{"version":3,"names":["db_1","require","use_validation_1","__importDefault","app_response_1","schema_1","send_email_1","common_1","jsonwebtoken_1","ms_1","response_error_1","JWT_SECRET_ACCESS_TOKEN","JWT_SECRET_REFRESH_TOKEN","process","env","JWT_ACCESS_TOKEN_EXPIRED","expiresIn","default","UserService","getUserInfo","email","validateUserEmail","data","checkUserExist","length","confrimEmail","formData","userData","confirmEmail","confirmEmailResult","appResponse","getVerifyCode","tokenVerify","result","getOTP","AccountRegister","updateProfileuser","generateToken","code","getUniqueCodev2","sign","JSON","parse","stringify","verify_code","getUniqueCodev3","updateProfileUser","BadRequest","message","updateuser","user","getUserSkills","checkNickName","nickName","getData","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\user\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/user/sercvice.ts"],"sourcesContent":["import {\r\n  checkNickName,\r\n  checkUserExist,\r\n  confirmEmail,\r\n  getOTP,\r\n  getUserInfo,\r\n  getUserSkills,\r\n  updateProfileUser,\r\n} from \"../../bin/db\";\r\nimport useValidation from \"../../helper/use_validation\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport { ConfirmEmail, User } from \"../../types/user\";\r\nimport schemaUser from \"./schema\";\r\nimport SendMail from \"../../helper/send_email\";\r\nimport { getUniqueCodev2, getUniqueCodev3 } from \"../../helper/common\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport ms from \"ms\";\r\nimport ResponseError from \"../../modules/error/response_error\";\r\n\r\nconst { JWT_SECRET_ACCESS_TOKEN, JWT_SECRET_REFRESH_TOKEN }: any = process.env;\r\nconst JWT_ACCESS_TOKEN_EXPIRED = process.env.JWT_ACCESS_TOKEN_EXPIRED || \"1d\"; // 1 Days\r\n\r\nconst expiresIn = ms(JWT_ACCESS_TOKEN_EXPIRED) / 1000;\r\n\r\nclass UserService {\r\n  public static async getUserInfo(email: string) {\r\n    return await getUserInfo(email);\r\n  }\r\n  /**\r\n   * @param email\r\n   */\r\n  public static async validateUserEmail(email: string) {\r\n    const data = await checkUserExist(email);\r\n\r\n    if (data.length) {\r\n      return data[0] as User;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @param email\r\n   */\r\n  public static async confrimEmail(formData: ConfirmEmail) {\r\n    const userData = useValidation(schemaUser.confirmEmail, formData);\r\n    const confirmEmailResult = await confirmEmail(userData);\r\n    return BuildResponse.appResponse(confirmEmailResult);\r\n  }\r\n\r\n  public static async getVerifyCode(userData: any, tokenVerify: any) {\r\n    // const userData = useValidation(schemaUser.confirmEmail,userData)\r\n    const result = await getOTP(userData, tokenVerify);\r\n    SendMail.AccountRegister(result);\r\n\r\n    if (result) {\r\n      return result;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public static async updateProfileuser(userData: User) {\r\n    // const currentUser = await UserService.validateUserEmail(userData.email);\r\n    // if (currentUser) {\r\n    //   return { message: \"the user already exist !\", code: 400, currentUser };\r\n    // }\r\n\r\n    const generateToken = {\r\n      code: getUniqueCodev2(),\r\n    };\r\n\r\n    const tokenVerify = jwt.sign(\r\n      JSON.parse(JSON.stringify(generateToken)),\r\n      JWT_SECRET_ACCESS_TOKEN,\r\n      {\r\n        expiresIn,\r\n      }\r\n    );\r\n\r\n    userData.verify_code = getUniqueCodev3();\r\n    userData.tokenVerify = tokenVerify;\r\n    const result = await updateProfileUser(userData);\r\n    if (!result) {\r\n      throw new ResponseError.BadRequest(\"Could not update user!\");\r\n    } else {\r\n      return {\r\n        message: null,\r\n        updateuser: {\r\n          user: result,\r\n        },\r\n      };\r\n    }\r\n  }\r\n\r\n  public static async getUserSkills() {\r\n    const data = await getUserSkills();\r\n    if (data) {\r\n      return { message: `ok`, data };\r\n    }\r\n    return null;\r\n  }\r\n  /**\r\n   * @param email\r\n   */\r\n  public static async checkNickName(nickName: string) {\r\n    const getData = await checkNickName();\r\n    if (getData[0].nickName === nickName ) {\r\n      throw new ResponseError.BadRequest(\"The nickName is alreay exist!\");\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserService;\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1719368510385},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\nav-items\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\nav-items\\\\controller.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst async_handler_1 = __importDefault(require(\"../../helper/async-handler\"));\nconst public_1 = __importDefault(require(\"../../routes/public\"));\nconst service_1 = require(\"./service\");\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\npublic_1.default.get(\"/navItem\", (0, async_handler_1.default)(function getNavItems(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const data = yield service_1.NavItemService.getAllNavItems();\n    const buildResponse = app_response_1.default.get(data);\n    if (buildResponse) {\n      return res.status(200).json(buildResponse);\n    }\n  });\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY19oYW5kbGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwicHVibGljXzEiLCJzZXJ2aWNlXzEiLCJhcHBfcmVzcG9uc2VfMSIsImRlZmF1bHQiLCJnZXQiLCJnZXROYXZJdGVtcyIsInJlcSIsInJlcyIsImRhdGEiLCJOYXZJdGVtU2VydmljZSIsImdldEFsbE5hdkl0ZW1zIiwiYnVpbGRSZXNwb25zZSIsInN0YXR1cyIsImpzb24iXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxjb250cm9sbGVyXFxuYXYtaXRlbXNcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci9uYXYtaXRlbXMvY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXN5bmNIYW5kbGVyIGZyb20gXCIuLi8uLi9oZWxwZXIvYXN5bmMtaGFuZGxlclwiO1xyXG5pbXBvcnQgcm91dGVzIGZyb20gXCIuLi8uLi9yb3V0ZXMvcHVibGljXCI7XHJcbmltcG9ydCB7IE5hdkl0ZW1TZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZVwiO1xyXG5pbXBvcnQgQnVpbGRSZXNwb25zZSBmcm9tIFwiLi4vLi4vbW9kdWxlcy9yZXNwb25zZS9hcHBfcmVzcG9uc2VcIjtcclxuXHJcbnJvdXRlcy5nZXQoXHJcbiAgXCIvbmF2SXRlbVwiLFxyXG4gIGFzeW5jSGFuZGxlcihhc3luYyBmdW5jdGlvbiBnZXROYXZJdGVtcyhyZXE6IGFueSwgcmVzOiBhbnkpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBOYXZJdGVtU2VydmljZS5nZXRBbGxOYXZJdGVtcygpO1xyXG4gICAgY29uc3QgYnVpbGRSZXNwb25zZSA9IEJ1aWxkUmVzcG9uc2UuZ2V0KGRhdGEpO1xyXG4gICAgaWYgKGJ1aWxkUmVzcG9uc2UpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGJ1aWxkUmVzcG9uc2UpO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQUFBLGVBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUMsUUFBQSxHQUFBRixlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBRSxTQUFBLEdBQUFGLE9BQUE7QUFDQSxNQUFBRyxjQUFBLEdBQUFKLGVBQUEsQ0FBQUMsT0FBQTtBQUVBQyxRQUFBLENBQUFHLE9BQU0sQ0FBQ0MsR0FBRyxDQUNSLFVBQVUsRUFDVixJQUFBUCxlQUFBLENBQUFNLE9BQVksRUFBQyxTQUFlRSxXQUFXQSxDQUFDQyxHQUFRLEVBQUVDLEdBQVE7O0lBQ3hELE1BQU1DLElBQUksR0FBRyxNQUFNUCxTQUFBLENBQUFRLGNBQWMsQ0FBQ0MsY0FBYyxFQUFFO0lBQ2xELE1BQU1DLGFBQWEsR0FBR1QsY0FBQSxDQUFBQyxPQUFhLENBQUNDLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO0lBQzdDLElBQUlHLGFBQWEsRUFBRTtNQUNqQixPQUFPSixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDRixhQUFhLENBQUM7SUFDNUM7RUFDRixDQUFDO0NBQUEsQ0FBQyxDQUNIIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["async_handler_1","__importDefault","require","public_1","service_1","app_response_1","default","get","getNavItems","req","res","data","NavItemService","getAllNavItems","buildResponse","status","json"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\nav-items\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/nav-items/controller.ts"],"sourcesContent":["import asyncHandler from \"../../helper/async-handler\";\r\nimport routes from \"../../routes/public\";\r\nimport { NavItemService } from \"./service\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\n\r\nroutes.get(\r\n  \"/navItem\",\r\n  asyncHandler(async function getNavItems(req: any, res: any) {\r\n    const data = await NavItemService.getAllNavItems();\r\n    const buildResponse = BuildResponse.get(data);\r\n    if (buildResponse) {\r\n      return res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,QAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,SAAA,GAAAF,OAAA;AACA,MAAAG,cAAA,GAAAJ,eAAA,CAAAC,OAAA;AAEAC,QAAA,CAAAG,OAAM,CAACC,GAAG,CACR,UAAU,EACV,IAAAP,eAAA,CAAAM,OAAY,EAAC,SAAeE,WAAWA,CAACC,GAAQ,EAAEC,GAAQ;;IACxD,MAAMC,IAAI,GAAG,MAAMP,SAAA,CAAAQ,cAAc,CAACC,cAAc,EAAE;IAClD,MAAMC,aAAa,GAAGT,cAAA,CAAAC,OAAa,CAACC,GAAG,CAACI,IAAI,CAAC;IAC7C,IAAIG,aAAa,EAAE;MACjB,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACF,aAAa,CAAC;IAC5C;EACF,CAAC;CAAA,CAAC,CACH","ignoreList":[]}},"mtime":1715920144837},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\async-handler.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst express_async_handler_1 = __importDefault(require(\"express-async-handler\"));\nconst asyncHandler = express_async_handler_1.default;\nexports.default = asyncHandler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzX2FzeW5jX2hhbmRsZXJfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJhc3luY0hhbmRsZXIiLCJkZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXGhlbHBlclxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9oZWxwZXIvYXN5bmMtaGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInXHJcblxyXG5jb25zdCBhc3luY0hhbmRsZXIgPSBleHByZXNzQXN5bmNIYW5kbGVyXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luY0hhbmRsZXJcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsTUFBQUEsdUJBQUEsR0FBQUMsZUFBQSxDQUFBQyxPQUFBO0FBRUEsTUFBTUMsWUFBWSxHQUFHSCx1QkFBQSxDQUFBSSxPQUFtQjtBQUV4Q0MsT0FBQSxDQUFBRCxPQUFBLEdBQWVELFlBQVkiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express_async_handler_1","__importDefault","require","asyncHandler","default","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\helper\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/helper/async-handler.ts"],"sourcesContent":["import expressAsyncHandler from 'express-async-handler'\r\n\r\nconst asyncHandler = expressAsyncHandler\r\n\r\nexport default asyncHandler\r\n"],"mappings":";;;;;;;;;;AAAA,MAAAA,uBAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,MAAMC,YAAY,GAAGH,uBAAA,CAAAI,OAAmB;AAExCC,OAAA,CAAAD,OAAA,GAAeD,YAAY","ignoreList":[]}},"mtime":1715828055912},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\nav-items\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\nav-items\\\\service.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NavItemService = void 0;\nconst db_1 = require(\"../../bin/db\");\nclass NavItemService {\n  static getAllNavItems() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.getNavItems)();\n      if (data) {\n        return {\n          message: `ok`,\n          data\n        };\n      }\n      return null;\n    });\n  }\n}\nexports.NavItemService = NavItemService;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYl8xIiwicmVxdWlyZSIsIk5hdkl0ZW1TZXJ2aWNlIiwiZ2V0QWxsTmF2SXRlbXMiLCJkYXRhIiwiZ2V0TmF2SXRlbXMiLCJtZXNzYWdlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXGNvbnRyb2xsZXJcXG5hdi1pdGVtc1xcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVyL25hdi1pdGVtcy9zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE5hdkl0ZW1zIH0gZnJvbSBcIi4uLy4uL2Jpbi9kYlwiO1xyXG5cclxuY2xhc3MgTmF2SXRlbVNlcnZpY2Uge1xyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0QWxsTmF2SXRlbXMoKSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0TmF2SXRlbXMoKTtcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGBva2AsIGRhdGEgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7ICBOYXZJdGVtU2VydmljZSAgfTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxJQUFBLEdBQUFDLE9BQUE7QUFFQSxNQUFNQyxjQUFjO0VBQ1gsT0FBYUMsY0FBY0EsQ0FBQTs7TUFDaEMsTUFBTUMsSUFBSSxHQUFHLE1BQU0sSUFBQUosSUFBQSxDQUFBSyxXQUFXLEdBQUU7TUFDaEMsSUFBSUQsSUFBSSxFQUFFO1FBQ1IsT0FBTztVQUFFRSxPQUFPLEVBQUUsSUFBSTtVQUFFRjtRQUFJLENBQUU7TUFDaEM7TUFDQSxPQUFPLElBQUk7SUFDYixDQUFDOzs7QUFJT0csT0FBQSxDQUFBTCxjQUFBLEdBQUFBLGNBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["db_1","require","NavItemService","getAllNavItems","data","getNavItems","message","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\nav-items\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/nav-items/service.ts"],"sourcesContent":["import { getNavItems } from \"../../bin/db\";\r\n\r\nclass NavItemService {\r\n  public static async getAllNavItems() {\r\n    const data = await getNavItems();\r\n    if (data) {\r\n      return { message: `ok`, data };\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\nexport {  NavItemService  };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,IAAA,GAAAC,OAAA;AAEA,MAAMC,cAAc;EACX,OAAaC,cAAcA,CAAA;;MAChC,MAAMC,IAAI,GAAG,MAAM,IAAAJ,IAAA,CAAAK,WAAW,GAAE;MAChC,IAAID,IAAI,EAAE;QACR,OAAO;UAAEE,OAAO,EAAE,IAAI;UAAEF;QAAI,CAAE;MAChC;MACA,OAAO,IAAI;IACb,CAAC;;;AAIOG,OAAA,CAAAL,cAAA,GAAAA,cAAA","ignoreList":[]}},"mtime":1715920157192},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\express_error_yup.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst yup_1 = require(\"yup\");\nfunction ExpressErrorYup(err, req, res, next) {\n  return __awaiter(this, void 0, void 0, function* () {\n    if (err instanceof yup_1.ValidationError) {\n      console.log('ERROR YUP VALIDATION');\n      const error = {\n        code: 422,\n        message: err.errors.join('<br/>') || 'Yup Validation Error !',\n        errors: err.inner.length > 0 ? err.inner.reduce((acc, curVal) => {\n          acc[`${curVal.path}`] = curVal.message || curVal.type;\n          return acc;\n        }, {}) : {\n          [`${err.path}`]: err.message || err.type\n        }\n      };\n      return res.status(422).json(error);\n    }\n    next(err);\n  });\n}\nexports.default = ExpressErrorYup;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ5dXBfMSIsInJlcXVpcmUiLCJFeHByZXNzRXJyb3JZdXAiLCJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiVmFsaWRhdGlvbkVycm9yIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJlcnJvcnMiLCJqb2luIiwiaW5uZXIiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhY2MiLCJjdXJWYWwiLCJwYXRoIiwidHlwZSIsInN0YXR1cyIsImpzb24iLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL21pZGRsZXdhcmVzL2V4cHJlc3NfZXJyb3JfeXVwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwieXVwXCI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBFeHByZXNzRXJyb3JZdXAoXHJcbiAgICBlcnI6IGFueSxcclxuICAgIHJlcTogUmVxdWVzdCxcclxuICAgIHJlczogUmVzcG9uc2UsXHJcbiAgICBuZXh0OiBOZXh0RnVuY3Rpb25cclxuKSB7XHJcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SIFlVUCBWQUxJREFUSU9OJyk7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDQyMixcclxuICAgICAgICAgICAgbWVzc2FnZTogZXJyLmVycm9ycy5qb2luKCc8YnIvPicpIHx8ICdZdXAgVmFsaWRhdGlvbiBFcnJvciAhJyxcclxuICAgICAgICAgICAgZXJyb3JzOlxyXG4gICAgICAgICAgICAgICAgZXJyLmlubmVyLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGVyci5pbm5lci5yZWR1Y2UoKGFjYzogYW55LCBjdXJWYWw6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NbYCR7Y3VyVmFsLnBhdGh9YF0gPSBjdXJWYWwubWVzc2FnZSB8fCBjdXJWYWwudHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge30pXHJcbiAgICAgICAgICAgICAgICAgICAgOiB7IFtgJHtlcnIucGF0aH1gXTogZXJyLm1lc3NhZ2UgfHwgZXJyLnR5cGUgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgbmV4dChlcnIpXHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFeHByZXNzRXJyb3JZdXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsTUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBRUEsU0FBZUMsZUFBZUEsQ0FDMUJDLEdBQVEsRUFDUkMsR0FBWSxFQUNaQyxHQUFhLEVBQ2JDLElBQWtCOztJQUVsQixJQUFJSCxHQUFHLFlBQVlILEtBQUEsQ0FBQU8sZUFBZSxFQUFFO01BQ2hDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQztNQUNuQyxNQUFNQyxLQUFLLEdBQUc7UUFDVkMsSUFBSSxFQUFFLEdBQUc7UUFDVEMsT0FBTyxFQUFFVCxHQUFHLENBQUNVLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLHdCQUF3QjtRQUM3REQsTUFBTSxFQUNGVixHQUFHLENBQUNZLEtBQUssQ0FBQ0MsTUFBTSxHQUFHLENBQUMsR0FDZGIsR0FBRyxDQUFDWSxLQUFLLENBQUNFLE1BQU0sQ0FBQyxDQUFDQyxHQUFRLEVBQUVDLE1BQVcsS0FBSTtVQUN6Q0QsR0FBRyxDQUFDLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFLENBQUMsR0FBR0QsTUFBTSxDQUFDUCxPQUFPLElBQUlPLE1BQU0sQ0FBQ0UsSUFBSTtVQUNyRCxPQUFPSCxHQUFHO1FBQ2QsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUNKO1VBQUUsQ0FBQyxHQUFHZixHQUFHLENBQUNpQixJQUFJLEVBQUUsR0FBR2pCLEdBQUcsQ0FBQ1MsT0FBTyxJQUFJVCxHQUFHLENBQUNrQjtRQUFJO09BQ3ZEO01BQ0QsT0FBT2hCLEdBQUcsQ0FBQ2lCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDYixLQUFLLENBQUM7SUFDdEM7SUFDQUosSUFBSSxDQUFDSCxHQUFHLENBQUM7RUFFYixDQUFDOztBQUVEcUIsT0FBQSxDQUFBQyxPQUFBLEdBQWV2QixlQUFlIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["yup_1","require","ExpressErrorYup","err","req","res","next","ValidationError","console","log","error","code","message","errors","join","inner","length","reduce","acc","curVal","path","type","status","json","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\middlewares\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/middlewares/express_error_yup.ts"],"sourcesContent":["import { NextFunction, Request, Response } from \"express\";\r\nimport { ValidationError } from \"yup\";\r\n\r\nasync function ExpressErrorYup(\r\n    err: any,\r\n    req: Request,\r\n    res: Response,\r\n    next: NextFunction\r\n) {\r\n    if (err instanceof ValidationError) {\r\n        console.log('ERROR YUP VALIDATION');\r\n        const error = {\r\n            code: 422,\r\n            message: err.errors.join('<br/>') || 'Yup Validation Error !',\r\n            errors:\r\n                err.inner.length > 0\r\n                    ? err.inner.reduce((acc: any, curVal: any) => {\r\n                        acc[`${curVal.path}`] = curVal.message || curVal.type\r\n                        return acc\r\n                    }, {})\r\n                    : { [`${err.path}`]: err.message || err.type }\r\n        }\r\n        return res.status(422).json(error);\r\n    }\r\n    next(err)\r\n\r\n}\r\n\r\nexport default ExpressErrorYup"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAAA,KAAA,GAAAC,OAAA;AAEA,SAAeC,eAAeA,CAC1BC,GAAQ,EACRC,GAAY,EACZC,GAAa,EACbC,IAAkB;;IAElB,IAAIH,GAAG,YAAYH,KAAA,CAAAO,eAAe,EAAE;MAChCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnC,MAAMC,KAAK,GAAG;QACVC,IAAI,EAAE,GAAG;QACTC,OAAO,EAAET,GAAG,CAACU,MAAM,CAACC,IAAI,CAAC,OAAO,CAAC,IAAI,wBAAwB;QAC7DD,MAAM,EACFV,GAAG,CAACY,KAAK,CAACC,MAAM,GAAG,CAAC,GACdb,GAAG,CAACY,KAAK,CAACE,MAAM,CAAC,CAACC,GAAQ,EAAEC,MAAW,KAAI;UACzCD,GAAG,CAAC,GAAGC,MAAM,CAACC,IAAI,EAAE,CAAC,GAAGD,MAAM,CAACP,OAAO,IAAIO,MAAM,CAACE,IAAI;UACrD,OAAOH,GAAG;QACd,CAAC,EAAE,EAAE,CAAC,GACJ;UAAE,CAAC,GAAGf,GAAG,CAACiB,IAAI,EAAE,GAAGjB,GAAG,CAACS,OAAO,IAAIT,GAAG,CAACkB;QAAI;OACvD;MACD,OAAOhB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACb,KAAK,CAAC;IACtC;IACAJ,IAAI,CAACH,GAAG,CAAC;EAEb,CAAC;;AAEDqB,OAAA,CAAAC,OAAA,GAAevB,eAAe","ignoreList":[]}},"mtime":1714192695519},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\constants\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\constants\\\\constants_allowed_orginal.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst allowedOrigins = ['http://localhost:4200',\n// Frontend Web\n'http://localhost:3000',\n// Frontend Web\n\"http://181.215.68.165\", \"http://181.215.68.165:8080\", \"http://mindup-server.com\", \"https://mindup-server.com\", \"https://mindupapp.com\"];\nexports.default = allowedOrigins;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbGxvd2VkT3JpZ2lucyIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29uc3RhbnRzXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2NvbnN0YW50cy9jb25zdGFudHNfYWxsb3dlZF9vcmdpbmFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsbG93ZWRPcmlnaW5zID0gW1xyXG4gICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6NDIwMCcsIC8vIEZyb250ZW5kIFdlYlxyXG4gICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsIC8vIEZyb250ZW5kIFdlYlxyXG4gICAgXCJodHRwOi8vMTgxLjIxNS42OC4xNjVcIixcclxuICAgIFwiaHR0cDovLzE4MS4yMTUuNjguMTY1OjgwODBcIixcclxuICAgIFwiaHR0cDovL21pbmR1cC1zZXJ2ZXIuY29tXCIsXHJcbiAgICBcImh0dHBzOi8vbWluZHVwLXNlcnZlci5jb21cIixcclxuICAgIFwiaHR0cHM6Ly9taW5kdXBhcHAuY29tXCJcclxuICBdXHJcbiAgXHJcbiAgZXhwb3J0IGRlZmF1bHQgYWxsb3dlZE9yaWdpbnNcclxuICAiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsTUFBTUEsY0FBYyxHQUFHLENBQ25CLHVCQUF1QjtBQUFFO0FBQ3pCLHVCQUF1QjtBQUFFO0FBQ3pCLHVCQUF1QixFQUN2Qiw0QkFBNEIsRUFDNUIsMEJBQTBCLEVBQzFCLDJCQUEyQixFQUMzQix1QkFBdUIsQ0FDeEI7QUFFREMsT0FBQSxDQUFBQyxPQUFBLEdBQWVGLGNBQWMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["allowedOrigins","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\constants\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/constants/constants_allowed_orginal.ts"],"sourcesContent":["const allowedOrigins = [\r\n    'http://localhost:4200', // Frontend Web\r\n    'http://localhost:3000', // Frontend Web\r\n    \"http://181.215.68.165\",\r\n    \"http://181.215.68.165:8080\",\r\n    \"http://mindup-server.com\",\r\n    \"https://mindup-server.com\",\r\n    \"https://mindupapp.com\"\r\n  ]\r\n  \r\n  export default allowedOrigins\r\n  "],"mappings":";;;;;AAAA,MAAMA,cAAc,GAAG,CACnB,uBAAuB;AAAE;AACzB,uBAAuB;AAAE;AACzB,uBAAuB,EACvB,4BAA4B,EAC5B,0BAA0B,EAC1B,2BAA2B,EAC3B,uBAAuB,CACxB;AAEDC,OAAA,CAAAC,OAAA,GAAeF,cAAc","ignoreList":[]}},"mtime":1714221832058},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\express_error_response.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst multer_1 = __importDefault(require(\"multer\"));\nconst lodash_1 = require(\"lodash\");\nconst response_error_1 = __importDefault(require(\"../modules/error/response_error\"));\nfunction generateErrorResponseError(e, code) {\n  return (0, lodash_1.isObject)(e.message) ? e.message : {\n    code,\n    message: e.message\n  };\n}\nfunction ExpressErrorResponse(err, req, res, next) {\n  return __awaiter(this, void 0, void 0, function* () {\n    if (err instanceof multer_1.default.MulterError) {\n      return res.status(400).json(generateErrorResponseError(err, 400));\n    }\n    if (err instanceof response_error_1.default.BaseResponse) {\n      return res.status(err.statusCode).json(generateErrorResponseError(err, err.statusCode));\n    }\n    next(err);\n  });\n}\nexports.default = ExpressErrorResponse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtdWx0ZXJfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJsb2Rhc2hfMSIsInJlc3BvbnNlX2Vycm9yXzEiLCJnZW5lcmF0ZUVycm9yUmVzcG9uc2VFcnJvciIsImUiLCJjb2RlIiwiaXNPYmplY3QiLCJtZXNzYWdlIiwiRXhwcmVzc0Vycm9yUmVzcG9uc2UiLCJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZGVmYXVsdCIsIk11bHRlckVycm9yIiwic3RhdHVzIiwianNvbiIsIkJhc2VSZXNwb25zZSIsInN0YXR1c0NvZGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvbWlkZGxld2FyZXMvZXhwcmVzc19lcnJvcl9yZXNwb25zZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IHsgTmV4dEZ1bmN0aW9uLCBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgUmVzcG9uc2VFcnJvciBmcm9tICcuLi9tb2R1bGVzL2Vycm9yL3Jlc3BvbnNlX2Vycm9yJztcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JSZXNwb25zZUVycm9yKGU6IEVycm9yLCBjb2RlOiBOdW1iZXIpIHtcclxuICByZXR1cm4gaXNPYmplY3QoZS5tZXNzYWdlKSA/IGUubWVzc2FnZSA6IHsgY29kZSwgbWVzc2FnZTogZS5tZXNzYWdlIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRXhwcmVzc0Vycm9yUmVzcG9uc2UoXHJcbiAgZXJyOiBhbnksXHJcbiAgcmVxOiBSZXF1ZXN0LFxyXG4gIHJlczogUmVzcG9uc2UsXHJcbiAgbmV4dDogTmV4dEZ1bmN0aW9uXHJcbikge1xyXG4gIGlmIChlcnIgaW5zdGFuY2VvZiBtdWx0ZXIuTXVsdGVyRXJyb3IpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihnZW5lcmF0ZUVycm9yUmVzcG9uc2VFcnJvcihlcnIsIDQwMCkpXHJcbiAgfVxyXG5cclxuICBpZiAoZXJyIGluc3RhbmNlb2YgUmVzcG9uc2VFcnJvci5CYXNlUmVzcG9uc2UpIHtcclxuICAgIHJldHVybiByZXNcclxuICAgICAgLnN0YXR1cyhlcnIuc3RhdHVzQ29kZSlcclxuICAgICAgLmpzb24oZ2VuZXJhdGVFcnJvclJlc3BvbnNlRXJyb3IoZXJyLCBlcnIuc3RhdHVzQ29kZSkpXHJcbiAgfVxyXG4gIG5leHQoZXJyKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFeHByZXNzRXJyb3JSZXNwb25zZVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxRQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUVBLE1BQUFFLGdCQUFBLEdBQUFILGVBQUEsQ0FBQUMsT0FBQTtBQUVBLFNBQVNHLDBCQUEwQkEsQ0FBQ0MsQ0FBUSxFQUFFQyxJQUFZO0VBQ3hELE9BQU8sSUFBQUosUUFBQSxDQUFBSyxRQUFRLEVBQUNGLENBQUMsQ0FBQ0csT0FBTyxDQUFDLEdBQUdILENBQUMsQ0FBQ0csT0FBTyxHQUFHO0lBQUVGLElBQUk7SUFBRUUsT0FBTyxFQUFFSCxDQUFDLENBQUNHO0VBQU8sQ0FBRTtBQUN2RTtBQUVBLFNBQWVDLG9CQUFvQkEsQ0FDakNDLEdBQVEsRUFDUkMsR0FBWSxFQUNaQyxHQUFhLEVBQ2JDLElBQWtCOztJQUVsQixJQUFJSCxHQUFHLFlBQVlYLFFBQUEsQ0FBQWUsT0FBTSxDQUFDQyxXQUFXLEVBQUU7TUFDckMsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ2IsMEJBQTBCLENBQUNNLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuRTtJQUVBLElBQUlBLEdBQUcsWUFBWVAsZ0JBQUEsQ0FBQVcsT0FBYSxDQUFDSSxZQUFZLEVBQUU7TUFDN0MsT0FBT04sR0FBRyxDQUNQSSxNQUFNLENBQUNOLEdBQUcsQ0FBQ1MsVUFBVSxDQUFDLENBQ3RCRixJQUFJLENBQUNiLDBCQUEwQixDQUFDTSxHQUFHLEVBQUVBLEdBQUcsQ0FBQ1MsVUFBVSxDQUFDLENBQUM7SUFDMUQ7SUFDQU4sSUFBSSxDQUFDSCxHQUFHLENBQUM7RUFDWCxDQUFDOztBQUVEVSxPQUFBLENBQUFOLE9BQUEsR0FBZUwsb0JBQW9CIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["multer_1","__importDefault","require","lodash_1","response_error_1","generateErrorResponseError","e","code","isObject","message","ExpressErrorResponse","err","req","res","next","default","MulterError","status","json","BaseResponse","statusCode","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\middlewares\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/middlewares/express_error_response.ts"],"sourcesContent":["import multer from 'multer';\r\nimport { isObject } from 'lodash';\r\nimport { NextFunction, Request, Response } from 'express';\r\nimport ResponseError from '../modules/error/response_error';\r\n\r\nfunction generateErrorResponseError(e: Error, code: Number) {\r\n  return isObject(e.message) ? e.message : { code, message: e.message }\r\n}\r\n\r\nasync function ExpressErrorResponse(\r\n  err: any,\r\n  req: Request,\r\n  res: Response,\r\n  next: NextFunction\r\n) {\r\n  if (err instanceof multer.MulterError) {\r\n    return res.status(400).json(generateErrorResponseError(err, 400))\r\n  }\r\n\r\n  if (err instanceof ResponseError.BaseResponse) {\r\n    return res\r\n      .status(err.statusCode)\r\n      .json(generateErrorResponseError(err, err.statusCode))\r\n  }\r\n  next(err)\r\n}\r\n\r\nexport default ExpressErrorResponse\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,QAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,QAAA,GAAAD,OAAA;AAEA,MAAAE,gBAAA,GAAAH,eAAA,CAAAC,OAAA;AAEA,SAASG,0BAA0BA,CAACC,CAAQ,EAAEC,IAAY;EACxD,OAAO,IAAAJ,QAAA,CAAAK,QAAQ,EAACF,CAAC,CAACG,OAAO,CAAC,GAAGH,CAAC,CAACG,OAAO,GAAG;IAAEF,IAAI;IAAEE,OAAO,EAAEH,CAAC,CAACG;EAAO,CAAE;AACvE;AAEA,SAAeC,oBAAoBA,CACjCC,GAAQ,EACRC,GAAY,EACZC,GAAa,EACbC,IAAkB;;IAElB,IAAIH,GAAG,YAAYX,QAAA,CAAAe,OAAM,CAACC,WAAW,EAAE;MACrC,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACb,0BAA0B,CAACM,GAAG,EAAE,GAAG,CAAC,CAAC;IACnE;IAEA,IAAIA,GAAG,YAAYP,gBAAA,CAAAW,OAAa,CAACI,YAAY,EAAE;MAC7C,OAAON,GAAG,CACPI,MAAM,CAACN,GAAG,CAACS,UAAU,CAAC,CACtBF,IAAI,CAACb,0BAA0B,CAACM,GAAG,EAAEA,GAAG,CAACS,UAAU,CAAC,CAAC;IAC1D;IACAN,IAAI,CAACH,GAAG,CAAC;EACX,CAAC;;AAEDU,OAAA,CAAAN,OAAA,GAAeL,oBAAoB","ignoreList":[]}},"mtime":1714264080546},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\express_error_sequelize.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst lodash_1 = require(\"lodash\");\nconst sequelize_1 = require(\"sequelize\");\nfunction msg(message) {\n  return `Sequelize Error: ${message}`;\n}\nfunction ExpressErrorSequelize(err, req, res, next) {\n  return __awaiter(this, void 0, void 0, function* () {\n    if (err instanceof sequelize_1.BaseError) {\n      if (err instanceof sequelize_1.EmptyResultError) {\n        return res.status(404).json({\n          code: 404,\n          message: msg('Data not found')\n        });\n      }\n      if (err instanceof sequelize_1.ValidationError) {\n        console.log('ERROR SEQUELIZE VALIDATION!!!');\n        const errors = (0, lodash_1.get)(err, 'errors', []);\n        const errorMessage = (0, lodash_1.get)(errors, '0.message', null);\n        const dataError = {\n          code: 400,\n          message: errorMessage ? `Validation error: ${errorMessage}` : err.message,\n          errors: errors.reduce((acc, curVal) => {\n            acc[curVal.path] = curVal.message;\n            return acc;\n          }, {})\n        };\n        console.log(dataError.message, dataError.errors);\n        return res.status(400).json(dataError);\n      }\n      return res.status(500).json({\n        code: 500,\n        message: msg(err.message)\n      });\n    }\n    next(err);\n  });\n}\nexports.default = ExpressErrorSequelize;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2Rhc2hfMSIsInJlcXVpcmUiLCJzZXF1ZWxpemVfMSIsIm1zZyIsIm1lc3NhZ2UiLCJFeHByZXNzRXJyb3JTZXF1ZWxpemUiLCJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiQmFzZUVycm9yIiwiRW1wdHlSZXN1bHRFcnJvciIsInN0YXR1cyIsImpzb24iLCJjb2RlIiwiVmFsaWRhdGlvbkVycm9yIiwiY29uc29sZSIsImxvZyIsImVycm9ycyIsImdldCIsImVycm9yTWVzc2FnZSIsImRhdGFFcnJvciIsInJlZHVjZSIsImFjYyIsImN1clZhbCIsInBhdGgiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL21pZGRsZXdhcmVzL2V4cHJlc3NfZXJyb3Jfc2VxdWVsaXplLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgRW1wdHlSZXN1bHRFcnJvciwgQmFzZUVycm9yLCBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdzZXF1ZWxpemUnO1xyXG5cclxuZnVuY3Rpb24gbXNnKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gIHJldHVybiBgU2VxdWVsaXplIEVycm9yOiAke21lc3NhZ2V9YFxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBFeHByZXNzRXJyb3JTZXF1ZWxpemUoXHJcbiAgZXJyOiBhbnksXHJcbiAgcmVxOiBSZXF1ZXN0LFxyXG4gIHJlczogUmVzcG9uc2UsXHJcbiAgbmV4dDogTmV4dEZ1bmN0aW9uXHJcbikge1xyXG4gIGlmIChlcnIgaW5zdGFuY2VvZiBCYXNlRXJyb3IpIHtcclxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFbXB0eVJlc3VsdEVycm9yKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgIG1lc3NhZ2U6IG1zZygnRGF0YSBub3QgZm91bmQnKSxcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUiBTRVFVRUxJWkUgVkFMSURBVElPTiEhIScpXHJcbiAgICAgIGNvbnN0IGVycm9yczogYW55W10gPSBnZXQoZXJyLCAnZXJyb3JzJywgW10pXHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdldChlcnJvcnMsICcwLm1lc3NhZ2UnLCBudWxsKVxyXG5cclxuICAgICAgY29uc3QgZGF0YUVycm9yID0ge1xyXG4gICAgICAgIGNvZGU6IDQwMCxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2VcclxuICAgICAgICAgID8gYFZhbGlkYXRpb24gZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWBcclxuICAgICAgICAgIDogZXJyLm1lc3NhZ2UsXHJcbiAgICAgICAgZXJyb3JzOiBlcnJvcnMucmVkdWNlPGFueT4oKGFjYywgY3VyVmFsKSA9PiB7XHJcbiAgICAgICAgICBhY2NbY3VyVmFsLnBhdGhdID0gY3VyVmFsLm1lc3NhZ2VcclxuICAgICAgICAgIHJldHVybiBhY2NcclxuICAgICAgICB9LCB7fSksXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGFFcnJvci5tZXNzYWdlLCBkYXRhRXJyb3IuZXJyb3JzKVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKGRhdGFFcnJvcilcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBjb2RlOiA1MDAsXHJcbiAgICAgIG1lc3NhZ2U6IG1zZyhlcnIubWVzc2FnZSksXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgbmV4dChlcnIpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV4cHJlc3NFcnJvclNlcXVlbGl6ZVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBRUEsTUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBRUEsU0FBU0UsR0FBR0EsQ0FBQ0MsT0FBZTtFQUMxQixPQUFPLG9CQUFvQkEsT0FBTyxFQUFFO0FBQ3RDO0FBRUEsU0FBZUMscUJBQXFCQSxDQUNsQ0MsR0FBUSxFQUNSQyxHQUFZLEVBQ1pDLEdBQWEsRUFDYkMsSUFBa0I7O0lBRWxCLElBQUlILEdBQUcsWUFBWUosV0FBQSxDQUFBUSxTQUFTLEVBQUU7TUFDNUIsSUFBSUosR0FBRyxZQUFZSixXQUFBLENBQUFTLGdCQUFnQixFQUFFO1FBQ25DLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDMUJDLElBQUksRUFBRSxHQUFHO1VBQ1RWLE9BQU8sRUFBRUQsR0FBRyxDQUFDLGdCQUFnQjtTQUM5QixDQUFDO01BQ0o7TUFFQSxJQUFJRyxHQUFHLFlBQVlKLFdBQUEsQ0FBQWEsZUFBZSxFQUFFO1FBQ2xDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQztRQUM1QyxNQUFNQyxNQUFNLEdBQVUsSUFBQWxCLFFBQUEsQ0FBQW1CLEdBQUcsRUFBQ2IsR0FBRyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7UUFDNUMsTUFBTWMsWUFBWSxHQUFHLElBQUFwQixRQUFBLENBQUFtQixHQUFHLEVBQUNELE1BQU0sRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDO1FBRW5ELE1BQU1HLFNBQVMsR0FBRztVQUNoQlAsSUFBSSxFQUFFLEdBQUc7VUFDVFYsT0FBTyxFQUFFZ0IsWUFBWSxHQUNqQixxQkFBcUJBLFlBQVksRUFBRSxHQUNuQ2QsR0FBRyxDQUFDRixPQUFPO1VBQ2ZjLE1BQU0sRUFBRUEsTUFBTSxDQUFDSSxNQUFNLENBQU0sQ0FBQ0MsR0FBRyxFQUFFQyxNQUFNLEtBQUk7WUFDekNELEdBQUcsQ0FBQ0MsTUFBTSxDQUFDQyxJQUFJLENBQUMsR0FBR0QsTUFBTSxDQUFDcEIsT0FBTztZQUNqQyxPQUFPbUIsR0FBRztVQUNaLENBQUMsRUFBRSxFQUFFO1NBQ047UUFFRFAsT0FBTyxDQUFDQyxHQUFHLENBQUNJLFNBQVMsQ0FBQ2pCLE9BQU8sRUFBRWlCLFNBQVMsQ0FBQ0gsTUFBTSxDQUFDO1FBRWhELE9BQU9WLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNRLFNBQVMsQ0FBQztNQUN4QztNQUVBLE9BQU9iLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLElBQUksRUFBRSxHQUFHO1FBQ1RWLE9BQU8sRUFBRUQsR0FBRyxDQUFDRyxHQUFHLENBQUNGLE9BQU87T0FDekIsQ0FBQztJQUNKO0lBRUFLLElBQUksQ0FBQ0gsR0FBRyxDQUFDO0VBQ1gsQ0FBQzs7QUFFRG9CLE9BQUEsQ0FBQUMsT0FBQSxHQUFldEIscUJBQXFCIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["lodash_1","require","sequelize_1","msg","message","ExpressErrorSequelize","err","req","res","next","BaseError","EmptyResultError","status","json","code","ValidationError","console","log","errors","get","errorMessage","dataError","reduce","acc","curVal","path","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\middlewares\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/middlewares/express_error_sequelize.ts"],"sourcesContent":["import { get } from 'lodash';\r\nimport { NextFunction, Request, Response } from 'express';\r\nimport { EmptyResultError, BaseError, ValidationError } from 'sequelize';\r\n\r\nfunction msg(message: string) {\r\n  return `Sequelize Error: ${message}`\r\n}\r\n\r\nasync function ExpressErrorSequelize(\r\n  err: any,\r\n  req: Request,\r\n  res: Response,\r\n  next: NextFunction\r\n) {\r\n  if (err instanceof BaseError) {\r\n    if (err instanceof EmptyResultError) {\r\n      return res.status(404).json({\r\n        code: 404,\r\n        message: msg('Data not found'),\r\n      })\r\n    }\r\n\r\n    if (err instanceof ValidationError) {\r\n      console.log('ERROR SEQUELIZE VALIDATION!!!')\r\n      const errors: any[] = get(err, 'errors', [])\r\n      const errorMessage = get(errors, '0.message', null)\r\n\r\n      const dataError = {\r\n        code: 400,\r\n        message: errorMessage\r\n          ? `Validation error: ${errorMessage}`\r\n          : err.message,\r\n        errors: errors.reduce<any>((acc, curVal) => {\r\n          acc[curVal.path] = curVal.message\r\n          return acc\r\n        }, {}),\r\n      }\r\n\r\n      console.log(dataError.message, dataError.errors)\r\n\r\n      return res.status(400).json(dataError)\r\n    }\r\n\r\n    return res.status(500).json({\r\n      code: 500,\r\n      message: msg(err.message),\r\n    })\r\n  }\r\n\r\n  next(err)\r\n}\r\n\r\nexport default ExpressErrorSequelize\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,QAAA,GAAAC,OAAA;AAEA,MAAAC,WAAA,GAAAD,OAAA;AAEA,SAASE,GAAGA,CAACC,OAAe;EAC1B,OAAO,oBAAoBA,OAAO,EAAE;AACtC;AAEA,SAAeC,qBAAqBA,CAClCC,GAAQ,EACRC,GAAY,EACZC,GAAa,EACbC,IAAkB;;IAElB,IAAIH,GAAG,YAAYJ,WAAA,CAAAQ,SAAS,EAAE;MAC5B,IAAIJ,GAAG,YAAYJ,WAAA,CAAAS,gBAAgB,EAAE;QACnC,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,IAAI,EAAE,GAAG;UACTV,OAAO,EAAED,GAAG,CAAC,gBAAgB;SAC9B,CAAC;MACJ;MAEA,IAAIG,GAAG,YAAYJ,WAAA,CAAAa,eAAe,EAAE;QAClCC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;QAC5C,MAAMC,MAAM,GAAU,IAAAlB,QAAA,CAAAmB,GAAG,EAACb,GAAG,EAAE,QAAQ,EAAE,EAAE,CAAC;QAC5C,MAAMc,YAAY,GAAG,IAAApB,QAAA,CAAAmB,GAAG,EAACD,MAAM,EAAE,WAAW,EAAE,IAAI,CAAC;QAEnD,MAAMG,SAAS,GAAG;UAChBP,IAAI,EAAE,GAAG;UACTV,OAAO,EAAEgB,YAAY,GACjB,qBAAqBA,YAAY,EAAE,GACnCd,GAAG,CAACF,OAAO;UACfc,MAAM,EAAEA,MAAM,CAACI,MAAM,CAAM,CAACC,GAAG,EAAEC,MAAM,KAAI;YACzCD,GAAG,CAACC,MAAM,CAACC,IAAI,CAAC,GAAGD,MAAM,CAACpB,OAAO;YACjC,OAAOmB,GAAG;UACZ,CAAC,EAAE,EAAE;SACN;QAEDP,OAAO,CAACC,GAAG,CAACI,SAAS,CAACjB,OAAO,EAAEiB,SAAS,CAACH,MAAM,CAAC;QAEhD,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACQ,SAAS,CAAC;MACxC;MAEA,OAAOb,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,IAAI,EAAE,GAAG;QACTV,OAAO,EAAED,GAAG,CAACG,GAAG,CAACF,OAAO;OACzB,CAAC;IACJ;IAEAK,IAAI,CAACH,GAAG,CAAC;EACX,CAAC;;AAEDoB,OAAA,CAAAC,OAAA,GAAetB,qBAAqB","ignoreList":[]}},"mtime":1714264097816},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\express_auto_handle_transaction.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction ExpressAutoHandleTransaction(req, res, next) {\n  return __awaiter(this, void 0, void 0, function* () {\n    res.once('finish', () => {\n      const {\n        _transaction\n      } = req;\n      for (let i = 1; i <= Object.keys(_transaction).length; i += 1) {\n        const txn = _transaction[i];\n        if (!(txn === null || txn === void 0 ? void 0 : txn.finished)) {\n          const endpoint = req.originalUrl;\n          console.warn(`endpoint ${endpoint} potentianlly can lead to bug`);\n          console.log('AUTO COMMIT!!!');\n          txn.commit();\n        }\n      }\n    });\n    next();\n  });\n}\nexports.default = ExpressAutoHandleTransaction;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFeHByZXNzQXV0b0hhbmRsZVRyYW5zYWN0aW9uIiwicmVxIiwicmVzIiwibmV4dCIsIm9uY2UiLCJfdHJhbnNhY3Rpb24iLCJpIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInR4biIsImZpbmlzaGVkIiwiZW5kcG9pbnQiLCJvcmlnaW5hbFVybCIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwiY29tbWl0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxtaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9taWRkbGV3YXJlcy9leHByZXNzX2F1dG9faGFuZGxlX3RyYW5zYWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYW5zYWN0aW9uIH0gZnJvbSAnc2VxdWVsaXplJ1xyXG5pbXBvcnQgeyBOZXh0RnVuY3Rpb24sIFJlc3BvbnNlLCBSZXF1ZXN0IH0gZnJvbSAnZXhwcmVzcydcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEV4cHJlc3NBdXRvSGFuZGxlVHJhbnNhY3Rpb24oXHJcbiAgcmVxOiBhbnksXHJcbiAgcmVzOiBSZXNwb25zZSxcclxuICBuZXh0OiBOZXh0RnVuY3Rpb25cclxuKSB7XHJcbiAgcmVzLm9uY2UoJ2ZpbmlzaCcsICgpID0+IHtcclxuICAgIGNvbnN0IHsgX3RyYW5zYWN0aW9uIH0gPSByZXFcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IE9iamVjdC5rZXlzKF90cmFuc2FjdGlvbikubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgdHhuID0gX3RyYW5zYWN0aW9uW2ldIGFzIFRyYW5zYWN0aW9uICYge1xyXG4gICAgICAgIGZpbmlzaGVkPzogc3RyaW5nXHJcbiAgICAgIH1cclxuICAgICAgaWYgKCF0eG4/LmZpbmlzaGVkKSB7XHJcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSByZXEub3JpZ2luYWxVcmxcclxuICAgICAgICBjb25zb2xlLndhcm4oYGVuZHBvaW50ICR7ZW5kcG9pbnR9IHBvdGVudGlhbmxseSBjYW4gbGVhZCB0byBidWdgKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBVVRPIENPTU1JVCEhIScpXHJcbiAgICAgICAgdHhuLmNvbW1pdCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG5cclxuICBuZXh0KClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXhwcmVzc0F1dG9IYW5kbGVUcmFuc2FjdGlvblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsU0FBZUEsNEJBQTRCQSxDQUN6Q0MsR0FBUSxFQUNSQyxHQUFhLEVBQ2JDLElBQWtCOztJQUVsQkQsR0FBRyxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFLE1BQUs7TUFDdEIsTUFBTTtRQUFFQztNQUFZLENBQUUsR0FBR0osR0FBRztNQUM1QixLQUFLLElBQUlLLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsSUFBSUMsTUFBTSxDQUFDQyxJQUFJLENBQUNILFlBQVksQ0FBQyxDQUFDSSxNQUFNLEVBQUVILENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDN0QsTUFBTUksR0FBRyxHQUFHTCxZQUFZLENBQUNDLENBQUMsQ0FFekI7UUFDRCxJQUFJLEVBQUNJLEdBQUcsYUFBSEEsR0FBRyx1QkFBSEEsR0FBRyxDQUFFQyxRQUFRLEdBQUU7VUFDbEIsTUFBTUMsUUFBUSxHQUFHWCxHQUFHLENBQUNZLFdBQVc7VUFDaENDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLFlBQVlILFFBQVEsK0JBQStCLENBQUM7VUFDakVFLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLGdCQUFnQixDQUFDO1VBQzdCTixHQUFHLENBQUNPLE1BQU0sRUFBRTtRQUNkO01BQ0Y7SUFDRixDQUFDLENBQUM7SUFFRmQsSUFBSSxFQUFFO0VBQ1IsQ0FBQzs7QUFFRGUsT0FBQSxDQUFBQyxPQUFBLEdBQWVuQiw0QkFBNEIiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["ExpressAutoHandleTransaction","req","res","next","once","_transaction","i","Object","keys","length","txn","finished","endpoint","originalUrl","console","warn","log","commit","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\middlewares\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/middlewares/express_auto_handle_transaction.ts"],"sourcesContent":["import { Transaction } from 'sequelize'\r\nimport { NextFunction, Response, Request } from 'express'\r\n\r\nasync function ExpressAutoHandleTransaction(\r\n  req: any,\r\n  res: Response,\r\n  next: NextFunction\r\n) {\r\n  res.once('finish', () => {\r\n    const { _transaction } = req\r\n    for (let i = 1; i <= Object.keys(_transaction).length; i += 1) {\r\n      const txn = _transaction[i] as Transaction & {\r\n        finished?: string\r\n      }\r\n      if (!txn?.finished) {\r\n        const endpoint = req.originalUrl\r\n        console.warn(`endpoint ${endpoint} potentianlly can lead to bug`)\r\n        console.log('AUTO COMMIT!!!')\r\n        txn.commit()\r\n      }\r\n    }\r\n  })\r\n\r\n  next()\r\n}\r\n\r\nexport default ExpressAutoHandleTransaction\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,SAAeA,4BAA4BA,CACzCC,GAAQ,EACRC,GAAa,EACbC,IAAkB;;IAElBD,GAAG,CAACE,IAAI,CAAC,QAAQ,EAAE,MAAK;MACtB,MAAM;QAAEC;MAAY,CAAE,GAAGJ,GAAG;MAC5B,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIC,MAAM,CAACC,IAAI,CAACH,YAAY,CAAC,CAACI,MAAM,EAAEH,CAAC,IAAI,CAAC,EAAE;QAC7D,MAAMI,GAAG,GAAGL,YAAY,CAACC,CAAC,CAEzB;QACD,IAAI,EAACI,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEC,QAAQ,GAAE;UAClB,MAAMC,QAAQ,GAAGX,GAAG,CAACY,WAAW;UAChCC,OAAO,CAACC,IAAI,CAAC,YAAYH,QAAQ,+BAA+B,CAAC;UACjEE,OAAO,CAACE,GAAG,CAAC,gBAAgB,CAAC;UAC7BN,GAAG,CAACO,MAAM,EAAE;QACd;MACF;IACF,CAAC,CAAC;IAEFd,IAAI,EAAE;EACR,CAAC;;AAEDe,OAAA,CAAAC,OAAA,GAAenB,4BAA4B","ignoreList":[]}},"mtime":1714193894210},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\calendar\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\calendar\\\\controller.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst async_handler_1 = __importDefault(require(\"../../helper/async-handler\"));\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\nconst public_1 = __importDefault(require(\"../../routes/public\"));\nconst service_1 = __importDefault(require(\"./service\"));\npublic_1.default.post(\"/insertEvent\", (0, async_handler_1.default)(function insertEvent(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const eventData = req.body;\n    const data = yield service_1.default.insertEvent(eventData);\n    const buildResponse = app_response_1.default.get(data);\n    if (buildResponse) {\n      return res.status(200).json(buildResponse);\n    }\n  });\n}));\npublic_1.default.get(\"/getEventData\", (0, async_handler_1.default)(function getEventData(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const data = yield service_1.default.getEventData();\n    const buildResponse = app_response_1.default.get(data);\n    if (buildResponse) {\n      return res.status(200).json(buildResponse);\n    }\n  });\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY19oYW5kbGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiYXBwX3Jlc3BvbnNlXzEiLCJwdWJsaWNfMSIsInNlcnZpY2VfMSIsImRlZmF1bHQiLCJwb3N0IiwiaW5zZXJ0RXZlbnQiLCJyZXEiLCJyZXMiLCJldmVudERhdGEiLCJib2R5IiwiZGF0YSIsImJ1aWxkUmVzcG9uc2UiLCJnZXQiLCJzdGF0dXMiLCJqc29uIiwiZ2V0RXZlbnREYXRhIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29udHJvbGxlclxcY2FsZW5kYXJcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci9jYWxlbmRhci9jb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhc3luY0hhbmRsZXIgZnJvbSBcIi4uLy4uL2hlbHBlci9hc3luYy1oYW5kbGVyXCI7XHJcbmltcG9ydCBCdWlsZFJlc3BvbnNlIGZyb20gXCIuLi8uLi9tb2R1bGVzL3Jlc3BvbnNlL2FwcF9yZXNwb25zZVwiO1xyXG5pbXBvcnQgcm91dGVzIGZyb20gXCIuLi8uLi9yb3V0ZXMvcHVibGljXCI7XHJcbmltcG9ydCBDYWxlbmRhclNlcnZpY2UgZnJvbSBcIi4vc2VydmljZVwiO1xyXG5cclxucm91dGVzLnBvc3QoXHJcbiAgXCIvaW5zZXJ0RXZlbnRcIixcclxuICBhc3luY0hhbmRsZXIoYXN5bmMgZnVuY3Rpb24gaW5zZXJ0RXZlbnQocmVxOiBhbnksIHJlczogYW55KSB7XHJcbiAgICBjb25zdCBldmVudERhdGEgPSByZXEuYm9keTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBDYWxlbmRhclNlcnZpY2UuaW5zZXJ0RXZlbnQoZXZlbnREYXRhKTtcclxuICAgIGNvbnN0IGJ1aWxkUmVzcG9uc2UgPSBCdWlsZFJlc3BvbnNlLmdldChkYXRhKTtcclxuICAgIGlmIChidWlsZFJlc3BvbnNlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxucm91dGVzLmdldChcclxuICBcIi9nZXRFdmVudERhdGFcIixcclxuICBhc3luY0hhbmRsZXIoYXN5bmMgZnVuY3Rpb24gZ2V0RXZlbnREYXRhKHJlcTogYW55LCByZXM6IGFueSkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IENhbGVuZGFyU2VydmljZS5nZXRFdmVudERhdGEoKTtcclxuICAgIGNvbnN0IGJ1aWxkUmVzcG9uc2UgPSBCdWlsZFJlc3BvbnNlLmdldChkYXRhKTtcclxuICAgIGlmIChidWlsZFJlc3BvbnNlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxlQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLGNBQUEsR0FBQUYsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUUsUUFBQSxHQUFBSCxlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBRyxTQUFBLEdBQUFKLGVBQUEsQ0FBQUMsT0FBQTtBQUVBRSxRQUFBLENBQUFFLE9BQU0sQ0FBQ0MsSUFBSSxDQUNULGNBQWMsRUFDZCxJQUFBUCxlQUFBLENBQUFNLE9BQVksRUFBQyxTQUFlRSxXQUFXQSxDQUFDQyxHQUFRLEVBQUVDLEdBQVE7O0lBQ3hELE1BQU1DLFNBQVMsR0FBR0YsR0FBRyxDQUFDRyxJQUFJO0lBQzFCLE1BQU1DLElBQUksR0FBRyxNQUFNUixTQUFBLENBQUFDLE9BQWUsQ0FBQ0UsV0FBVyxDQUFDRyxTQUFTLENBQUM7SUFDekQsTUFBTUcsYUFBYSxHQUFHWCxjQUFBLENBQUFHLE9BQWEsQ0FBQ1MsR0FBRyxDQUFDRixJQUFJLENBQUM7SUFDN0MsSUFBSUMsYUFBYSxFQUFFO01BQ2pCLE9BQU9KLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNILGFBQWEsQ0FBQztJQUM1QztFQUNGLENBQUM7Q0FBQSxDQUFDLENBQ0g7QUFFRFYsUUFBQSxDQUFBRSxPQUFNLENBQUNTLEdBQUcsQ0FDUixlQUFlLEVBQ2YsSUFBQWYsZUFBQSxDQUFBTSxPQUFZLEVBQUMsU0FBZVksWUFBWUEsQ0FBQ1QsR0FBUSxFQUFFQyxHQUFROztJQUN6RCxNQUFNRyxJQUFJLEdBQUcsTUFBTVIsU0FBQSxDQUFBQyxPQUFlLENBQUNZLFlBQVksRUFBRTtJQUNqRCxNQUFNSixhQUFhLEdBQUdYLGNBQUEsQ0FBQUcsT0FBYSxDQUFDUyxHQUFHLENBQUNGLElBQUksQ0FBQztJQUM3QyxJQUFJQyxhQUFhLEVBQUU7TUFDakIsT0FBT0osR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0gsYUFBYSxDQUFDO0lBQzVDO0VBQ0YsQ0FBQztDQUFBLENBQUMsQ0FDSCIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["async_handler_1","__importDefault","require","app_response_1","public_1","service_1","default","post","insertEvent","req","res","eventData","body","data","buildResponse","get","status","json","getEventData"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\calendar\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/calendar/controller.ts"],"sourcesContent":["import asyncHandler from \"../../helper/async-handler\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport routes from \"../../routes/public\";\r\nimport CalendarService from \"./service\";\r\n\r\nroutes.post(\r\n  \"/insertEvent\",\r\n  asyncHandler(async function insertEvent(req: any, res: any) {\r\n    const eventData = req.body;\r\n    const data = await CalendarService.insertEvent(eventData);\r\n    const buildResponse = BuildResponse.get(data);\r\n    if (buildResponse) {\r\n      return res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n\r\nroutes.get(\r\n  \"/getEventData\",\r\n  asyncHandler(async function getEventData(req: any, res: any) {\r\n    const data = await CalendarService.getEventData();\r\n    const buildResponse = BuildResponse.get(data);\r\n    if (buildResponse) {\r\n      return res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,cAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,QAAA,GAAAH,eAAA,CAAAC,OAAA;AACA,MAAAG,SAAA,GAAAJ,eAAA,CAAAC,OAAA;AAEAE,QAAA,CAAAE,OAAM,CAACC,IAAI,CACT,cAAc,EACd,IAAAP,eAAA,CAAAM,OAAY,EAAC,SAAeE,WAAWA,CAACC,GAAQ,EAAEC,GAAQ;;IACxD,MAAMC,SAAS,GAAGF,GAAG,CAACG,IAAI;IAC1B,MAAMC,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAe,CAACE,WAAW,CAACG,SAAS,CAAC;IACzD,MAAMG,aAAa,GAAGX,cAAA,CAAAG,OAAa,CAACS,GAAG,CAACF,IAAI,CAAC;IAC7C,IAAIC,aAAa,EAAE;MACjB,OAAOJ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,aAAa,CAAC;IAC5C;EACF,CAAC;CAAA,CAAC,CACH;AAEDV,QAAA,CAAAE,OAAM,CAACS,GAAG,CACR,eAAe,EACf,IAAAf,eAAA,CAAAM,OAAY,EAAC,SAAeY,YAAYA,CAACT,GAAQ,EAAEC,GAAQ;;IACzD,MAAMG,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAe,CAACY,YAAY,EAAE;IACjD,MAAMJ,aAAa,GAAGX,cAAA,CAAAG,OAAa,CAACS,GAAG,CAACF,IAAI,CAAC;IAC7C,IAAIC,aAAa,EAAE;MACjB,OAAOJ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,aAAa,CAAC;IAC5C;EACF,CAAC;CAAA,CAAC,CACH","ignoreList":[]}},"mtime":1716001228920},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\calendar\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\calendar\\\\service.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst db_1 = require(\"../../bin/db\");\nclass CalendarService {\n  static insertEvent(eventData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.insertEventDb)(eventData);\n      if (data) {\n        return {\n          message: \"ok\",\n          data\n        };\n      } else {\n        return null;\n      }\n    });\n  }\n  static getEventData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.getEventDb)();\n      if (data) {\n        return data;\n      }\n    });\n  }\n}\nexports.default = CalendarService;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYl8xIiwicmVxdWlyZSIsIkNhbGVuZGFyU2VydmljZSIsImluc2VydEV2ZW50IiwiZXZlbnREYXRhIiwiZGF0YSIsImluc2VydEV2ZW50RGIiLCJtZXNzYWdlIiwiZ2V0RXZlbnREYXRhIiwiZ2V0RXZlbnREYiIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29udHJvbGxlclxcY2FsZW5kYXJcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci9jYWxlbmRhci9zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEV2ZW50RGIsIGluc2VydEV2ZW50RGIgfSBmcm9tIFwiLi4vLi4vYmluL2RiXCI7XHJcbmltcG9ydCBCdWlsZFJlc3BvbnNlIGZyb20gXCIuLi8uLi9tb2R1bGVzL3Jlc3BvbnNlL2FwcF9yZXNwb25zZVwiO1xyXG5pbXBvcnQgeyBJQ2FsZW5kYXIgfSBmcm9tIFwiLi4vLi4vdHlwZXMvY2FsZW5kYXIuaW50ZXJmYWNlXCI7XHJcblxyXG5jbGFzcyBDYWxlbmRhclNlcnZpY2Uge1xyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgaW5zZXJ0RXZlbnQoZXZlbnREYXRhOiBJQ2FsZW5kYXIpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBpbnNlcnRFdmVudERiKGV2ZW50RGF0YSk7XHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICByZXR1cm4geyBtZXNzYWdlOiBcIm9rXCIsIGRhdGEgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBhc3luYyBnZXRFdmVudERhdGEoKSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0RXZlbnREYigpO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IENhbGVuZGFyU2VydmljZTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQUFBLElBQUEsR0FBQUMsT0FBQTtBQUlBLE1BQU1DLGVBQWU7RUFDWixPQUFhQyxXQUFXQSxDQUFDQyxTQUFvQjs7TUFDbEQsTUFBTUMsSUFBSSxHQUFHLE1BQU0sSUFBQUwsSUFBQSxDQUFBTSxhQUFhLEVBQUNGLFNBQVMsQ0FBQztNQUMzQyxJQUFJQyxJQUFJLEVBQUU7UUFDUixPQUFPO1VBQUVFLE9BQU8sRUFBRSxJQUFJO1VBQUVGO1FBQUksQ0FBRTtNQUNoQyxDQUFDLE1BQU07UUFDTCxPQUFPLElBQUk7TUFDYjtJQUNGLENBQUM7O0VBRU0sT0FBYUcsWUFBWUEsQ0FBQTs7TUFDOUIsTUFBTUgsSUFBSSxHQUFHLE1BQU0sSUFBQUwsSUFBQSxDQUFBUyxVQUFVLEdBQUU7TUFDL0IsSUFBSUosSUFBSSxFQUFFO1FBQ1IsT0FBT0EsSUFBSTtNQUNiO0lBQ0YsQ0FBQzs7O0FBRUhLLE9BQUEsQ0FBQUMsT0FBQSxHQUFlVCxlQUFlIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["db_1","require","CalendarService","insertEvent","eventData","data","insertEventDb","message","getEventData","getEventDb","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\calendar\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/calendar/service.ts"],"sourcesContent":["import { getEventDb, insertEventDb } from \"../../bin/db\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport { ICalendar } from \"../../types/calendar.interface\";\r\n\r\nclass CalendarService {\r\n  public static async insertEvent(eventData: ICalendar) {\r\n    const data = await insertEventDb(eventData);\r\n    if (data) {\r\n      return { message: \"ok\", data };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static async getEventData() {\r\n    const data = await getEventDb();\r\n    if (data) {\r\n      return data;\r\n    }\r\n  }\r\n}\r\nexport default CalendarService;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,IAAA,GAAAC,OAAA;AAIA,MAAMC,eAAe;EACZ,OAAaC,WAAWA,CAACC,SAAoB;;MAClD,MAAMC,IAAI,GAAG,MAAM,IAAAL,IAAA,CAAAM,aAAa,EAACF,SAAS,CAAC;MAC3C,IAAIC,IAAI,EAAE;QACR,OAAO;UAAEE,OAAO,EAAE,IAAI;UAAEF;QAAI,CAAE;MAChC,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF,CAAC;;EAEM,OAAaG,YAAYA,CAAA;;MAC9B,MAAMH,IAAI,GAAG,MAAM,IAAAL,IAAA,CAAAS,UAAU,GAAE;MAC/B,IAAIJ,IAAI,EAAE;QACR,OAAOA,IAAI;MACb;IACF,CAAC;;;AAEHK,OAAA,CAAAC,OAAA,GAAeT,eAAe","ignoreList":[]}},"mtime":1716032718816},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\appointment\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\appointment\\\\controller.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst async_handler_1 = __importDefault(require(\"../../helper/async-handler\"));\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\nconst public_1 = __importDefault(require(\"../../routes/public\"));\nconst service_1 = __importDefault(require(\"./service\"));\npublic_1.default.post(\"/insertAppointment\", (0, async_handler_1.default)(function insertEvent(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const eventData = req.body;\n    const data = yield service_1.default.insertEvent(eventData);\n    const buildResponse = app_response_1.default.get(data);\n    if (buildResponse) {\n      return res.status(200).json(buildResponse);\n    }\n  });\n}));\npublic_1.default.get(\"/getAppointment\", (0, async_handler_1.default)(function getEventData(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const data = yield service_1.default.getEventData();\n    const buildResponse = app_response_1.default.get(data);\n    if (buildResponse) {\n      return res.status(200).json(buildResponse);\n    }\n  });\n}));\npublic_1.default.delete(\"/deleteAppointment/delete/:id\", (0, async_handler_1.default)(function deleteAppointment(req, res, next) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const {\n      id\n    } = req.params;\n    yield service_1.default.deleteAppointmentItem(id);\n    const buildResponse = app_response_1.default.deleted({});\n    return res.status(200).json(buildResponse);\n  });\n}));\npublic_1.default.put(\"/updateAppointment/update\", (0, async_handler_1.default)(function updateAppointmentItem(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const formData = req.body;\n    const data = yield service_1.default.updateAppointmentItem(formData);\n    const buildResponse = app_response_1.default.updated(data);\n    return res.status(201).json(buildResponse);\n  });\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY19oYW5kbGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiYXBwX3Jlc3BvbnNlXzEiLCJwdWJsaWNfMSIsInNlcnZpY2VfMSIsImRlZmF1bHQiLCJwb3N0IiwiaW5zZXJ0RXZlbnQiLCJyZXEiLCJyZXMiLCJldmVudERhdGEiLCJib2R5IiwiZGF0YSIsImJ1aWxkUmVzcG9uc2UiLCJnZXQiLCJzdGF0dXMiLCJqc29uIiwiZ2V0RXZlbnREYXRhIiwiZGVsZXRlIiwiZGVsZXRlQXBwb2ludG1lbnQiLCJuZXh0IiwiaWQiLCJwYXJhbXMiLCJkZWxldGVBcHBvaW50bWVudEl0ZW0iLCJkZWxldGVkIiwicHV0IiwidXBkYXRlQXBwb2ludG1lbnRJdGVtIiwiZm9ybURhdGEiLCJ1cGRhdGVkIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29udHJvbGxlclxcYXBwb2ludG1lbnRcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci9hcHBvaW50bWVudC9jb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgYXN5bmNIYW5kbGVyIGZyb20gXCIuLi8uLi9oZWxwZXIvYXN5bmMtaGFuZGxlclwiO1xyXG5pbXBvcnQgQnVpbGRSZXNwb25zZSBmcm9tIFwiLi4vLi4vbW9kdWxlcy9yZXNwb25zZS9hcHBfcmVzcG9uc2VcIjtcclxuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi4vLi4vcm91dGVzL3B1YmxpY1wiO1xyXG5pbXBvcnQgQ2FsZW5kYXJTZXJ2aWNlIGZyb20gXCIuL3NlcnZpY2VcIjtcclxuXHJcbnJvdXRlcy5wb3N0KFxyXG4gIFwiL2luc2VydEFwcG9pbnRtZW50XCIsXHJcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIGZ1bmN0aW9uIGluc2VydEV2ZW50KHJlcTogYW55LCByZXM6IGFueSkge1xyXG4gICAgY29uc3QgZXZlbnREYXRhID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgQ2FsZW5kYXJTZXJ2aWNlLmluc2VydEV2ZW50KGV2ZW50RGF0YSk7XHJcbiAgICBjb25zdCBidWlsZFJlc3BvbnNlID0gQnVpbGRSZXNwb25zZS5nZXQoZGF0YSk7XHJcbiAgICBpZiAoYnVpbGRSZXNwb25zZSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYnVpbGRSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbnJvdXRlcy5nZXQoXHJcbiAgXCIvZ2V0QXBwb2ludG1lbnRcIixcclxuICBhc3luY0hhbmRsZXIoYXN5bmMgZnVuY3Rpb24gZ2V0RXZlbnREYXRhKHJlcTogYW55LCByZXM6IGFueSkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IENhbGVuZGFyU2VydmljZS5nZXRFdmVudERhdGEoKTtcclxuICAgIGNvbnN0IGJ1aWxkUmVzcG9uc2UgPSBCdWlsZFJlc3BvbnNlLmdldChkYXRhKTtcclxuICAgIGlmIChidWlsZFJlc3BvbnNlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxucm91dGVzLmRlbGV0ZShcclxuICBcIi9kZWxldGVBcHBvaW50bWVudC9kZWxldGUvOmlkXCIsXHJcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFwcG9pbnRtZW50KFxyXG4gICAgcmVxOiBSZXF1ZXN0LFxyXG4gICAgcmVzOiBSZXNwb25zZSxcclxuICAgIG5leHQ6IE5leHRGdW5jdGlvblxyXG4gICk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgYXdhaXQgQ2FsZW5kYXJTZXJ2aWNlLmRlbGV0ZUFwcG9pbnRtZW50SXRlbShpZCk7XHJcbiAgICBjb25zdCBidWlsZFJlc3BvbnNlID0gQnVpbGRSZXNwb25zZS5kZWxldGVkKHt9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICB9KVxyXG4pO1xyXG5cclxucm91dGVzLnB1dChcclxuICBcIi91cGRhdGVBcHBvaW50bWVudC91cGRhdGVcIixcclxuICBhc3luY0hhbmRsZXIoYXN5bmMgZnVuY3Rpb24gdXBkYXRlQXBwb2ludG1lbnRJdGVtKFxyXG4gICAgcmVxOiBSZXF1ZXN0LFxyXG4gICAgcmVzOiBSZXNwb25zZVxyXG4gICkgOiBQcm9taXNlPGFueT57XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IENhbGVuZGFyU2VydmljZS51cGRhdGVBcHBvaW50bWVudEl0ZW0oZm9ybURhdGEpO1xyXG4gICAgY29uc3QgYnVpbGRSZXNwb25zZSA9IEJ1aWxkUmVzcG9uc2UudXBkYXRlZChkYXRhKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbihidWlsZFJlc3BvbnNlKTtcclxuICB9KVxyXG4pO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUFBQSxlQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUNBLE1BQUFDLGNBQUEsR0FBQUYsZUFBQSxDQUFBQyxPQUFBO0FBQ0EsTUFBQUUsUUFBQSxHQUFBSCxlQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFBRyxTQUFBLEdBQUFKLGVBQUEsQ0FBQUMsT0FBQTtBQUVBRSxRQUFBLENBQUFFLE9BQU0sQ0FBQ0MsSUFBSSxDQUNULG9CQUFvQixFQUNwQixJQUFBUCxlQUFBLENBQUFNLE9BQVksRUFB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","map":{"version":3,"names":["async_handler_1","__importDefault","require","app_response_1","public_1","service_1","default","post","insertEvent","req","res","eventData","body","data","buildResponse","get","status","json","getEventData","delete","deleteAppointment","next","id","params","deleteAppointmentItem","deleted","put","updateAppointmentItem","formData","updated"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\appointment\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/appointment/controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from \"express\";\r\nimport asyncHandler from \"../../helper/async-handler\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport routes from \"../../routes/public\";\r\nimport CalendarService from \"./service\";\r\n\r\nroutes.post(\r\n  \"/insertAppointment\",\r\n  asyncHandler(async function insertEvent(req: any, res: any) {\r\n    const eventData = req.body;\r\n    const data = await CalendarService.insertEvent(eventData);\r\n    const buildResponse = BuildResponse.get(data);\r\n    if (buildResponse) {\r\n      return res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n\r\nroutes.get(\r\n  \"/getAppointment\",\r\n  asyncHandler(async function getEventData(req: any, res: any) {\r\n    const data = await CalendarService.getEventData();\r\n    const buildResponse = BuildResponse.get(data);\r\n    if (buildResponse) {\r\n      return res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n\r\nroutes.delete(\r\n  \"/deleteAppointment/delete/:id\",\r\n  asyncHandler(async function deleteAppointment(\r\n    req: Request,\r\n    res: Response,\r\n    next: NextFunction\r\n  ): Promise<any> {\r\n    const { id } = req.params;\r\n    await CalendarService.deleteAppointmentItem(id);\r\n    const buildResponse = BuildResponse.deleted({});\r\n    return res.status(200).json(buildResponse);\r\n  })\r\n);\r\n\r\nroutes.put(\r\n  \"/updateAppointment/update\",\r\n  asyncHandler(async function updateAppointmentItem(\r\n    req: Request,\r\n    res: Response\r\n  ) : Promise<any>{\r\n    const formData = req.body;\r\n    const data = await CalendarService.updateAppointmentItem(formData);\r\n    const buildResponse = BuildResponse.updated(data);\r\n    return res.status(201).json(buildResponse);\r\n  })\r\n);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAAA,eAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,cAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAAE,QAAA,GAAAH,eAAA,CAAAC,OAAA;AACA,MAAAG,SAAA,GAAAJ,eAAA,CAAAC,OAAA;AAEAE,QAAA,CAAAE,OAAM,CAACC,IAAI,CACT,oBAAoB,EACpB,IAAAP,eAAA,CAAAM,OAAY,EAAC,SAAeE,WAAWA,CAACC,GAAQ,EAAEC,GAAQ;;IACxD,MAAMC,SAAS,GAAGF,GAAG,CAACG,IAAI;IAC1B,MAAMC,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAe,CAACE,WAAW,CAACG,SAAS,CAAC;IACzD,MAAMG,aAAa,GAAGX,cAAA,CAAAG,OAAa,CAACS,GAAG,CAACF,IAAI,CAAC;IAC7C,IAAIC,aAAa,EAAE;MACjB,OAAOJ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,aAAa,CAAC;IAC5C;EACF,CAAC;CAAA,CAAC,CACH;AAEDV,QAAA,CAAAE,OAAM,CAACS,GAAG,CACR,iBAAiB,EACjB,IAAAf,eAAA,CAAAM,OAAY,EAAC,SAAeY,YAAYA,CAACT,GAAQ,EAAEC,GAAQ;;IACzD,MAAMG,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAe,CAACY,YAAY,EAAE;IACjD,MAAMJ,aAAa,GAAGX,cAAA,CAAAG,OAAa,CAACS,GAAG,CAACF,IAAI,CAAC;IAC7C,IAAIC,aAAa,EAAE;MACjB,OAAOJ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,aAAa,CAAC;IAC5C;EACF,CAAC;CAAA,CAAC,CACH;AAEDV,QAAA,CAAAE,OAAM,CAACa,MAAM,CACX,+BAA+B,EAC/B,IAAAnB,eAAA,CAAAM,OAAY,EAAC,SAAec,iBAAiBA,CAC3CX,GAAY,EACZC,GAAa,EACbW,IAAkB;;IAElB,MAAM;MAAEC;IAAE,CAAE,GAAGb,GAAG,CAACc,MAAM;IACzB,MAAMlB,SAAA,CAAAC,OAAe,CAACkB,qBAAqB,CAACF,EAAE,CAAC;IAC/C,MAAMR,aAAa,GAAGX,cAAA,CAAAG,OAAa,CAACmB,OAAO,CAAC,EAAE,CAAC;IAC/C,OAAOf,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,aAAa,CAAC;EAC5C,CAAC;CAAA,CAAC,CACH;AAEDV,QAAA,CAAAE,OAAM,CAACoB,GAAG,CACR,2BAA2B,EAC3B,IAAA1B,eAAA,CAAAM,OAAY,EAAC,SAAeqB,qBAAqBA,CAC/ClB,GAAY,EACZC,GAAa;;IAEb,MAAMkB,QAAQ,GAAGnB,GAAG,CAACG,IAAI;IACzB,MAAMC,IAAI,GAAG,MAAMR,SAAA,CAAAC,OAAe,CAACqB,qBAAqB,CAACC,QAAQ,CAAC;IAClE,MAAMd,aAAa,GAAGX,cAAA,CAAAG,OAAa,CAACuB,OAAO,CAAChB,IAAI,CAAC;IACjD,OAAOH,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,aAAa,CAAC;EAC5C,CAAC;CAAA,CAAC,CACH","ignoreList":[]}},"mtime":1716290139200},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\appointment\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\appointment\\\\service.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst db_1 = require(\"../../bin/db\");\nclass CalendarService {\n  static insertEvent(eventData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.saveAppointment)(eventData);\n      if (data) {\n        return {\n          message: \"ok\",\n          data\n        };\n      } else {\n        return null;\n      }\n    });\n  }\n  static getEventData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.getAppointment)();\n      if (data) {\n        return {\n          message: \"ok\",\n          data\n        };\n      }\n    });\n  }\n  static deleteAppointmentItem(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.deleteAppointment)(id);\n      return data;\n    });\n  }\n  static updateAppointmentItem(dataAppintment) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.updateAppointment)(dataAppintment);\n      data;\n    });\n  }\n}\nexports.default = CalendarService;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYl8xIiwicmVxdWlyZSIsIkNhbGVuZGFyU2VydmljZSIsImluc2VydEV2ZW50IiwiZXZlbnREYXRhIiwiZGF0YSIsInNhdmVBcHBvaW50bWVudCIsIm1lc3NhZ2UiLCJnZXRFdmVudERhdGEiLCJnZXRBcHBvaW50bWVudCIsImRlbGV0ZUFwcG9pbnRtZW50SXRlbSIsImlkIiwiZGVsZXRlQXBwb2ludG1lbnQiLCJ1cGRhdGVBcHBvaW50bWVudEl0ZW0iLCJkYXRhQXBwaW50bWVudCIsInVwZGF0ZUFwcG9pbnRtZW50IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxjb250cm9sbGVyXFxhcHBvaW50bWVudFxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVyL2FwcG9pbnRtZW50L3NlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBkZWxldGVBcHBvaW50bWVudCxcclxuICBnZXRBcHBvaW50bWVudCxcclxuICBzYXZlQXBwb2ludG1lbnQsXHJcbiAgdXBkYXRlQXBwb2ludG1lbnQsXHJcbn0gZnJvbSBcIi4uLy4uL2Jpbi9kYlwiO1xyXG5pbXBvcnQgeyBJQXBwb2ludG1lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXMvYXBwb2ludG1lbnQuaW50ZXJmYWNlXCI7XHJcblxyXG5jbGFzcyBDYWxlbmRhclNlcnZpY2Uge1xyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgaW5zZXJ0RXZlbnQoZXZlbnREYXRhOiBJQXBwb2ludG1lbnQpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzYXZlQXBwb2ludG1lbnQoZXZlbnREYXRhKTtcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIHJldHVybiB7IG1lc3NhZ2U6IFwib2tcIiwgZGF0YSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGdldEV2ZW50RGF0YSgpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBcHBvaW50bWVudCgpO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIHsgbWVzc2FnZTogXCJva1wiLCBkYXRhIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGRlbGV0ZUFwcG9pbnRtZW50SXRlbShpZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZGVsZXRlQXBwb2ludG1lbnQoaWQpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIHVwZGF0ZUFwcG9pbnRtZW50SXRlbShkYXRhQXBwaW50bWVudDogSUFwcG9pbnRtZW50KSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdXBkYXRlQXBwb2ludG1lbnQoZGF0YUFwcGludG1lbnQpO1xyXG4gICAgZGF0YTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXJTZXJ2aWNlO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBQUEsSUFBQSxHQUFBQyxPQUFBO0FBUUEsTUFBTUMsZUFBZTtFQUNaLE9BQWFDLFdBQVdBLENBQUNDLFNBQXVCOztNQUNyRCxNQUFNQyxJQUFJLEdBQUcsTUFBTSxJQUFBTCxJQUFBLENBQUFNLGVBQWUsRUFBQ0YsU0FBUyxDQUFDO01BQzdDLElBQUlDLElBQUksRUFBRTtRQUNSLE9BQU87VUFBRUUsT0FBTyxFQUFFLElBQUk7VUFBRUY7UUFBSSxDQUFFO01BQ2hDLENBQUMsTUFBTTtRQUNMLE9BQU8sSUFBSTtNQUNiO0lBQ0YsQ0FBQzs7RUFFTSxPQUFhRyxZQUFZQSxDQUFBOztNQUM5QixNQUFNSCxJQUFJLEdBQUcsTUFBTSxJQUFBTCxJQUFBLENBQUFTLGNBQWMsR0FBRTtNQUNuQyxJQUFJSixJQUFJLEVBQUU7UUFDUixPQUFPO1VBQUVFLE9BQU8sRUFBRSxJQUFJO1VBQUVGO1FBQUksQ0FBRTtNQUNoQztJQUNGLENBQUM7O0VBRU0sT0FBYUsscUJBQXFCQSxDQUFDQyxFQUFVOztNQUNsRCxNQUFNTixJQUFJLEdBQUcsTUFBTSxJQUFBTCxJQUFBLENBQUFZLGlCQUFpQixFQUFDRCxFQUFFLENBQUM7TUFDeEMsT0FBT04sSUFBSTtJQUNiLENBQUM7O0VBRU0sT0FBYVEscUJBQXFCQSxDQUFDQyxjQUE0Qjs7TUFDcEUsTUFBTVQsSUFBSSxHQUFHLE1BQU0sSUFBQUwsSUFBQSxDQUFBZSxpQkFBaUIsRUFBQ0QsY0FBYyxDQUFDO01BQ3BEVCxJQUFJO0lBQ04sQ0FBQzs7O0FBRUhXLE9BQUEsQ0FBQUMsT0FBQSxHQUFlZixlQUFlIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["db_1","require","CalendarService","insertEvent","eventData","data","saveAppointment","message","getEventData","getAppointment","deleteAppointmentItem","id","deleteAppointment","updateAppointmentItem","dataAppintment","updateAppointment","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\appointment\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/appointment/service.ts"],"sourcesContent":["import {\r\n  deleteAppointment,\r\n  getAppointment,\r\n  saveAppointment,\r\n  updateAppointment,\r\n} from \"../../bin/db\";\r\nimport { IAppointment } from \"../../types/appointment.interface\";\r\n\r\nclass CalendarService {\r\n  public static async insertEvent(eventData: IAppointment) {\r\n    const data = await saveAppointment(eventData);\r\n    if (data) {\r\n      return { message: \"ok\", data };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static async getEventData() {\r\n    const data = await getAppointment();\r\n    if (data) {\r\n      return { message: \"ok\", data };\r\n    }\r\n  }\r\n\r\n  public static async deleteAppointmentItem(id: string) {\r\n    const data = await deleteAppointment(id);\r\n    return data;\r\n  }\r\n\r\n  public static async updateAppointmentItem(dataAppintment: IAppointment) {\r\n    const data = await updateAppointment(dataAppintment);\r\n    data;\r\n  }\r\n}\r\nexport default CalendarService;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,IAAA,GAAAC,OAAA;AAQA,MAAMC,eAAe;EACZ,OAAaC,WAAWA,CAACC,SAAuB;;MACrD,MAAMC,IAAI,GAAG,MAAM,IAAAL,IAAA,CAAAM,eAAe,EAACF,SAAS,CAAC;MAC7C,IAAIC,IAAI,EAAE;QACR,OAAO;UAAEE,OAAO,EAAE,IAAI;UAAEF;QAAI,CAAE;MAChC,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF,CAAC;;EAEM,OAAaG,YAAYA,CAAA;;MAC9B,MAAMH,IAAI,GAAG,MAAM,IAAAL,IAAA,CAAAS,cAAc,GAAE;MACnC,IAAIJ,IAAI,EAAE;QACR,OAAO;UAAEE,OAAO,EAAE,IAAI;UAAEF;QAAI,CAAE;MAChC;IACF,CAAC;;EAEM,OAAaK,qBAAqBA,CAACC,EAAU;;MAClD,MAAMN,IAAI,GAAG,MAAM,IAAAL,IAAA,CAAAY,iBAAiB,EAACD,EAAE,CAAC;MACxC,OAAON,IAAI;IACb,CAAC;;EAEM,OAAaQ,qBAAqBA,CAACC,cAA4B;;MACpE,MAAMT,IAAI,GAAG,MAAM,IAAAL,IAAA,CAAAe,iBAAiB,EAACD,cAAc,CAAC;MACpDT,IAAI;IACN,CAAC;;;AAEHW,OAAA,CAAAC,OAAA,GAAef,eAAe","ignoreList":[]}},"mtime":1719363293771},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\middlewares\\\\authorization.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst token_1 = require(\"../helper/token\");\nconst lodash_1 = require(\"lodash\");\nfunction Authorization(req, res, next) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const getToken = (0, token_1.currentToken)(req);\n    const token = (0, token_1.verifyAccessToken)(getToken);\n    if ((0, lodash_1.isEmpty)(token === null || token === void 0 ? void 0 : token.data)) {\n      return res.status(401).json({\n        code: 401,\n        message: token === null || token === void 0 ? void 0 : token.message\n      });\n    }\n    req.setState({\n      userLogin: token === null || token === void 0 ? void 0 : token.data\n    });\n    next();\n  });\n}\nexports.default = Authorization;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0b2tlbl8xIiwicmVxdWlyZSIsImxvZGFzaF8xIiwiQXV0aG9yaXphdGlvbiIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRUb2tlbiIsImN1cnJlbnRUb2tlbiIsInRva2VuIiwidmVyaWZ5QWNjZXNzVG9rZW4iLCJpc0VtcHR5IiwiZGF0YSIsInN0YXR1cyIsImpzb24iLCJjb2RlIiwibWVzc2FnZSIsInNldFN0YXRlIiwidXNlckxvZ2luIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxtaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9taWRkbGV3YXJlcy9hdXRob3JpemF0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBjdXJyZW50VG9rZW4sIHZlcmlmeUFjY2Vzc1Rva2VuIH0gZnJvbSBcIi4uL2hlbHBlci90b2tlblwiO1xyXG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSBcImxvZGFzaFwiO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gQXV0aG9yaXphdGlvbihyZXE6IGFueSwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSB7XHJcbiAgY29uc3QgZ2V0VG9rZW4gPSBjdXJyZW50VG9rZW4ocmVxKTtcclxuICBjb25zdCB0b2tlbiA9IHZlcmlmeUFjY2Vzc1Rva2VuKGdldFRva2VuKTtcclxuXHJcbiAgaWYgKGlzRW1wdHkodG9rZW4/LmRhdGEpKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICBjb2RlOiA0MDEsXHJcbiAgICAgIG1lc3NhZ2U6IHRva2VuPy5tZXNzYWdlLFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlcS5zZXRTdGF0ZSh7IHVzZXJMb2dpbjogdG9rZW4/LmRhdGEgfSlcclxuICBuZXh0KClcclxufVxyXG5leHBvcnQgZGVmYXVsdCBBdXRob3JpemF0aW9uXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxNQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFFQSxTQUFlRSxhQUFhQSxDQUFDQyxHQUFRLEVBQUVDLEdBQWEsRUFBRUMsSUFBa0I7O0lBQ3RFLE1BQU1DLFFBQVEsR0FBRyxJQUFBUCxPQUFBLENBQUFRLFlBQVksRUFBQ0osR0FBRyxDQUFDO0lBQ2xDLE1BQU1LLEtBQUssR0FBRyxJQUFBVCxPQUFBLENBQUFVLGlCQUFpQixFQUFDSCxRQUFRLENBQUM7SUFFekMsSUFBSSxJQUFBTCxRQUFBLENBQUFTLE9BQU8sRUFBQ0YsS0FBSyxhQUFMQSxLQUFLLHVCQUFMQSxLQUFLLENBQUVHLElBQUksQ0FBQyxFQUFFO01BQ3hCLE9BQU9QLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLElBQUksRUFBRSxHQUFHO1FBQ1RDLE9BQU8sRUFBRVAsS0FBSyxhQUFMQSxLQUFLLHVCQUFMQSxLQUFLLENBQUVPO09BQ2pCLENBQUM7SUFDSjtJQUVBWixHQUFHLENBQUNhLFFBQVEsQ0FBQztNQUFFQyxTQUFTLEVBQUVULEtBQUssYUFBTEEsS0FBSyx1QkFBTEEsS0FBSyxDQUFFRztJQUFJLENBQUUsQ0FBQztJQUN4Q04sSUFBSSxFQUFFO0VBQ1IsQ0FBQzs7QUFDRGEsT0FBQSxDQUFBQyxPQUFBLEdBQWVqQixhQUFhIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["token_1","require","lodash_1","Authorization","req","res","next","getToken","currentToken","token","verifyAccessToken","isEmpty","data","status","json","code","message","setState","userLogin","exports","default"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\middlewares\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/middlewares/authorization.ts"],"sourcesContent":["import { NextFunction, Request, Response } from \"express\";\r\nimport { currentToken, verifyAccessToken } from \"../helper/token\";\r\nimport { isEmpty } from \"lodash\";\r\n\r\nasync function Authorization(req: any, res: Response, next: NextFunction) {\r\n  const getToken = currentToken(req);\r\n  const token = verifyAccessToken(getToken);\r\n\r\n  if (isEmpty(token?.data)) {\r\n    return res.status(401).json({\r\n      code: 401,\r\n      message: token?.message,\r\n    })\r\n  }\r\n\r\n  req.setState({ userLogin: token?.data })\r\n  next()\r\n}\r\nexport default Authorization\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAAA,OAAA,GAAAC,OAAA;AACA,MAAAC,QAAA,GAAAD,OAAA;AAEA,SAAeE,aAAaA,CAACC,GAAQ,EAAEC,GAAa,EAAEC,IAAkB;;IACtE,MAAMC,QAAQ,GAAG,IAAAP,OAAA,CAAAQ,YAAY,EAACJ,GAAG,CAAC;IAClC,MAAMK,KAAK,GAAG,IAAAT,OAAA,CAAAU,iBAAiB,EAACH,QAAQ,CAAC;IAEzC,IAAI,IAAAL,QAAA,CAAAS,OAAO,EAACF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEG,IAAI,CAAC,EAAE;MACxB,OAAOP,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,IAAI,EAAE,GAAG;QACTC,OAAO,EAAEP,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEO;OACjB,CAAC;IACJ;IAEAZ,GAAG,CAACa,QAAQ,CAAC;MAAEC,SAAS,EAAET,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEG;IAAI,CAAE,CAAC;IACxCN,IAAI,EAAE;EACR,CAAC;;AACDa,OAAA,CAAAC,OAAA,GAAejB,aAAa","ignoreList":[]}},"mtime":1716196351700},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\token.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.verifyRefreshToken = exports.verifyAccessToken = exports.currentToken = exports.getToken = void 0;\nconst jsonwebtoken_1 = __importStar(require(\"jsonwebtoken\"));\nconst lodash_1 = require(\"lodash\");\nrequire('dotenv').config();\nconst {\n  JWT_SECRET_ACCESS_TOKEN,\n  JWT_SECRET_REFRESH_TOKEN\n} = process.env;\n/**\n *\n * @param headers - Get Token from headers\n */\nfunction getToken(headers) {\n  if (headers && headers.authorization) {\n    const parted = headers.authorization.split(' ');\n    // Check Bearer xxx || JWT xxx\n    if (parted[0] === 'Bearer' || parted[0] === 'JWT') {\n      if (parted.length === 2) {\n        return parted[1];\n      }\n    }\n    return null;\n  }\n  return null;\n}\nexports.getToken = getToken;\n/**\n *\n * @param req - Request\n */\nfunction currentToken(req) {\n  const getCookie = req.cookies;\n  const getHeaders = req.headers;\n  let curToken = '';\n  if (!(0, lodash_1.isEmpty)(getCookie.token)) {\n    curToken = getCookie.token;\n  } else {\n    curToken = getToken(getHeaders);\n  }\n  return curToken;\n}\nexports.currentToken = currentToken;\n/**\n *\n * @param token - Verify Token\n */\nfunction verifyAccessToken(token) {\n  try {\n    if (!token) {\n      return {\n        data: null,\n        message: 'Unauthorized!'\n      };\n    }\n    const data = jsonwebtoken_1.default.verify(token, JWT_SECRET_ACCESS_TOKEN);\n    return {\n      data,\n      message: 'Token is verify'\n    };\n  } catch (err) {\n    if (err instanceof jsonwebtoken_1.TokenExpiredError) {\n      return {\n        data: null,\n        message: `Token ${err.message}`\n      };\n    }\n    if (err instanceof jsonwebtoken_1.JsonWebTokenError) {\n      return {\n        data: null,\n        message: `Token ${err.message}`\n      };\n    }\n    if (err instanceof jsonwebtoken_1.NotBeforeError) {\n      return {\n        data: null,\n        message: `Token ${err.message}`\n      };\n    }\n  }\n}\nexports.verifyAccessToken = verifyAccessToken;\n/**\n *\n * @param token - Verify Token\n */\nfunction verifyRefreshToken(token) {\n  try {\n    if (!token) {\n      return {\n        data: null,\n        message: 'Unauthorized!'\n      };\n    }\n    const data = jsonwebtoken_1.default.verify(token, JWT_SECRET_REFRESH_TOKEN);\n    return {\n      data,\n      message: 'Token is verify'\n    };\n  } catch (err) {\n    if (err instanceof jsonwebtoken_1.TokenExpiredError) {\n      return {\n        data: null,\n        message: `Token ${err.message}`\n      };\n    }\n    if (err instanceof jsonwebtoken_1.JsonWebTokenError) {\n      return {\n        data: null,\n        message: `Token ${err.message}`\n      };\n    }\n    if (err instanceof jsonwebtoken_1.NotBeforeError) {\n      return {\n        data: null,\n        message: `Token ${err.message}`\n      };\n    }\n  }\n}\nexports.verifyRefreshToken = verifyRefreshToken;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqc29ud2VidG9rZW5fMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJsb2Rhc2hfMSIsImNvbmZpZyIsIkpXVF9TRUNSRVRfQUNDRVNTX1RPS0VOIiwiSldUX1NFQ1JFVF9SRUZSRVNIX1RPS0VOIiwicHJvY2VzcyIsImVudiIsImdldFRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJwYXJ0ZWQiLCJzcGxpdCIsImxlbmd0aCIsImV4cG9ydHMiLCJjdXJyZW50VG9rZW4iLCJyZXEiLCJnZXRDb29raWUiLCJjb29raWVzIiwiZ2V0SGVhZGVycyIsImN1clRva2VuIiwiaXNFbXB0eSIsInRva2VuIiwidmVyaWZ5QWNjZXNzVG9rZW4iLCJkYXRhIiwibWVzc2FnZSIsImRlZmF1bHQiLCJ2ZXJpZnkiLCJlcnIiLCJUb2tlbkV4cGlyZWRFcnJvciIsIkpzb25XZWJUb2tlbkVycm9yIiwiTm90QmVmb3JlRXJyb3IiLCJ2ZXJpZnlSZWZyZXNoVG9rZW4iXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxoZWxwZXJcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvaGVscGVyL3Rva2VuLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QgfSBmcm9tICdleHByZXNzJ1xyXG5pbXBvcnQgand0LCB7XHJcbiAgVG9rZW5FeHBpcmVkRXJyb3IsXHJcbiAgSnNvbldlYlRva2VuRXJyb3IsXHJcbiAgTm90QmVmb3JlRXJyb3IsXHJcbn0gZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnbG9kYXNoJ1xyXG5cclxucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcclxuXHJcbmNvbnN0IHsgSldUX1NFQ1JFVF9BQ0NFU1NfVE9LRU4sIEpXVF9TRUNSRVRfUkVGUkVTSF9UT0tFTiB9OiBhbnkgPSBwcm9jZXNzLmVudlxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBoZWFkZXJzIC0gR2V0IFRva2VuIGZyb20gaGVhZGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VG9rZW4oaGVhZGVyczogYW55KSB7XHJcbiAgaWYgKGhlYWRlcnMgJiYgaGVhZGVycy5hdXRob3JpemF0aW9uKSB7XHJcbiAgICBjb25zdCBwYXJ0ZWQgPSBoZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoJyAnKVxyXG5cclxuICAgIC8vIENoZWNrIEJlYXJlciB4eHggfHwgSldUIHh4eFxyXG4gICAgaWYgKHBhcnRlZFswXSA9PT0gJ0JlYXJlcicgfHwgcGFydGVkWzBdID09PSAnSldUJykge1xyXG4gICAgICBpZiAocGFydGVkLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIHJldHVybiBwYXJ0ZWRbMV1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG4gIHJldHVybiBudWxsXHJcbn1cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gcmVxIC0gUmVxdWVzdFxyXG4gKi9cclxuZnVuY3Rpb24gY3VycmVudFRva2VuKHJlcTogUmVxdWVzdCkge1xyXG4gIGNvbnN0IGdldENvb2tpZSA9IHJlcS5jb29raWVzXHJcbiAgY29uc3QgZ2V0SGVhZGVycyA9IHJlcS5oZWFkZXJzXHJcblxyXG4gIGxldCBjdXJUb2tlbiA9ICcnXHJcbiAgaWYgKCFpc0VtcHR5KGdldENvb2tpZS50b2tlbikpIHtcclxuICAgIGN1clRva2VuID0gZ2V0Q29va2llLnRva2VuXHJcbiAgfSBlbHNlIHtcclxuICAgIGN1clRva2VuID0gZ2V0VG9rZW4oZ2V0SGVhZGVycylcclxuICB9XHJcblxyXG4gIHJldHVybiBjdXJUb2tlblxyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHRva2VuIC0gVmVyaWZ5IFRva2VuXHJcbiAqL1xyXG5mdW5jdGlvbiB2ZXJpZnlBY2Nlc3NUb2tlbih0b2tlbjogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCEnIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVF9BQ0NFU1NfVE9LRU4pXHJcbiAgICByZXR1cm4geyBkYXRhLCBtZXNzYWdlOiAnVG9rZW4gaXMgdmVyaWZ5JyB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgVG9rZW5FeHBpcmVkRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgbWVzc2FnZTogYFRva2VuICR7ZXJyLm1lc3NhZ2V9YCB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEpzb25XZWJUb2tlbkVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIG1lc3NhZ2U6IGBUb2tlbiAke2Vyci5tZXNzYWdlfWAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBOb3RCZWZvcmVFcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBtZXNzYWdlOiBgVG9rZW4gJHtlcnIubWVzc2FnZX1gIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gdG9rZW4gLSBWZXJpZnkgVG9rZW5cclxuICovXHJcbmZ1bmN0aW9uIHZlcmlmeVJlZnJlc2hUb2tlbih0b2tlbjogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCEnIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVF9SRUZSRVNIX1RPS0VOKVxyXG4gICAgcmV0dXJuIHsgZGF0YSwgbWVzc2FnZTogJ1Rva2VuIGlzIHZlcmlmeScgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIFRva2VuRXhwaXJlZEVycm9yKSB7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIG1lc3NhZ2U6IGBUb2tlbiAke2Vyci5tZXNzYWdlfWAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBKc29uV2ViVG9rZW5FcnJvcikge1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBtZXNzYWdlOiBgVG9rZW4gJHtlcnIubWVzc2FnZX1gIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgTm90QmVmb3JlRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgbWVzc2FnZTogYFRva2VuICR7ZXJyLm1lc3NhZ2V9YCB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBnZXRUb2tlbiwgY3VycmVudFRva2VuLCB2ZXJpZnlBY2Nlc3NUb2tlbiwgdmVyaWZ5UmVmcmVzaFRva2VuIH1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsTUFBQUEsY0FBQSxHQUFBQyxZQUFBLENBQUFDLE9BQUE7QUFLQSxNQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFFQUEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDRSxNQUFNLEVBQUU7QUFFMUIsTUFBTTtFQUFFQyx1QkFBdUI7RUFBRUM7QUFBd0IsQ0FBRSxHQUFRQyxPQUFPLENBQUNDLEdBQUc7QUFFOUU7Ozs7QUFJQSxTQUFTQyxRQUFRQSxDQUFDQyxPQUFZO0VBQzVCLElBQUlBLE9BQU8sSUFBSUEsT0FBTyxDQUFDQyxhQUFhLEVBQUU7SUFDcEMsTUFBTUMsTUFBTSxHQUFHRixP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","map":{"version":3,"names":["jsonwebtoken_1","__importStar","require","lodash_1","config","JWT_SECRET_ACCESS_TOKEN","JWT_SECRET_REFRESH_TOKEN","process","env","getToken","headers","authorization","parted","split","length","exports","currentToken","req","getCookie","cookies","getHeaders","curToken","isEmpty","token","verifyAccessToken","data","message","default","verify","err","TokenExpiredError","JsonWebTokenError","NotBeforeError","verifyRefreshToken"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\helper\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/helper/token.ts"],"sourcesContent":["import { Request } from 'express'\r\nimport jwt, {\r\n  TokenExpiredError,\r\n  JsonWebTokenError,\r\n  NotBeforeError,\r\n} from 'jsonwebtoken'\r\nimport { isEmpty } from 'lodash'\r\n\r\nrequire('dotenv').config()\r\n\r\nconst { JWT_SECRET_ACCESS_TOKEN, JWT_SECRET_REFRESH_TOKEN }: any = process.env\r\n\r\n/**\r\n *\r\n * @param headers - Get Token from headers\r\n */\r\nfunction getToken(headers: any) {\r\n  if (headers && headers.authorization) {\r\n    const parted = headers.authorization.split(' ')\r\n\r\n    // Check Bearer xxx || JWT xxx\r\n    if (parted[0] === 'Bearer' || parted[0] === 'JWT') {\r\n      if (parted.length === 2) {\r\n        return parted[1]\r\n      }\r\n    }\r\n\r\n    return null\r\n  }\r\n  return null\r\n}\r\n\r\n/**\r\n *\r\n * @param req - Request\r\n */\r\nfunction currentToken(req: Request) {\r\n  const getCookie = req.cookies\r\n  const getHeaders = req.headers\r\n\r\n  let curToken = ''\r\n  if (!isEmpty(getCookie.token)) {\r\n    curToken = getCookie.token\r\n  } else {\r\n    curToken = getToken(getHeaders)\r\n  }\r\n\r\n  return curToken\r\n}\r\n\r\n/**\r\n *\r\n * @param token - Verify Token\r\n */\r\nfunction verifyAccessToken(token: string) {\r\n  try {\r\n    if (!token) {\r\n      return { data: null, message: 'Unauthorized!' }\r\n    }\r\n\r\n    const data = jwt.verify(token, JWT_SECRET_ACCESS_TOKEN)\r\n    return { data, message: 'Token is verify' }\r\n  } catch (err) {\r\n    if (err instanceof TokenExpiredError) {\r\n      return { data: null, message: `Token ${err.message}` }\r\n    }\r\n\r\n    if (err instanceof JsonWebTokenError) {\r\n      return { data: null, message: `Token ${err.message}` }\r\n    }\r\n\r\n    if (err instanceof NotBeforeError) {\r\n      return { data: null, message: `Token ${err.message}` }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param token - Verify Token\r\n */\r\nfunction verifyRefreshToken(token: string) {\r\n  try {\r\n    if (!token) {\r\n      return { data: null, message: 'Unauthorized!' }\r\n    }\r\n\r\n    const data = jwt.verify(token, JWT_SECRET_REFRESH_TOKEN)\r\n    return { data, message: 'Token is verify' }\r\n  } catch (err) {\r\n    if (err instanceof TokenExpiredError) {\r\n      return { data: null, message: `Token ${err.message}` }\r\n    }\r\n\r\n    if (err instanceof JsonWebTokenError) {\r\n      return { data: null, message: `Token ${err.message}` }\r\n    }\r\n\r\n    if (err instanceof NotBeforeError) {\r\n      return { data: null, message: `Token ${err.message}` }\r\n    }\r\n  }\r\n}\r\n\r\nexport { getToken, currentToken, verifyAccessToken, verifyRefreshToken }\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1716195359959},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\customers\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\customers\\\\controller.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst services_1 = require(\"./services\");\nconst app_response_1 = __importDefault(require(\"../../modules/response/app_response\"));\nconst async_handler_1 = __importDefault(require(\"../../helper/async-handler\"));\nconst public_1 = __importDefault(require(\"../../routes/public\"));\npublic_1.default.get(\"/customers\", (0, async_handler_1.default)(function getNavItems(req, res) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const data = yield services_1.CustomersService.getCustomers();\n    const buildResponse = app_response_1.default.get(data);\n    if (buildResponse) {\n      return res.status(200).json(buildResponse);\n    }\n  });\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXJ2aWNlc18xIiwicmVxdWlyZSIsImFwcF9yZXNwb25zZV8xIiwiX19pbXBvcnREZWZhdWx0IiwiYXN5bmNfaGFuZGxlcl8xIiwicHVibGljXzEiLCJkZWZhdWx0IiwiZ2V0IiwiZ2V0TmF2SXRlbXMiLCJyZXEiLCJyZXMiLCJkYXRhIiwiQ3VzdG9tZXJzU2VydmljZSIsImdldEN1c3RvbWVycyIsImJ1aWxkUmVzcG9uc2UiLCJzdGF0dXMiLCJqc29uIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcY29udHJvbGxlclxcY3VzdG9tZXJzXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXIvY3VzdG9tZXJzL2NvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBDdXN0b21lcnNTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXNcIjtcclxuaW1wb3J0IEJ1aWxkUmVzcG9uc2UgZnJvbSBcIi4uLy4uL21vZHVsZXMvcmVzcG9uc2UvYXBwX3Jlc3BvbnNlXCI7XHJcbmltcG9ydCBhc3luY0hhbmRsZXIgZnJvbSBcIi4uLy4uL2hlbHBlci9hc3luYy1oYW5kbGVyXCI7XHJcbmltcG9ydCByb3V0ZXMgZnJvbSBcIi4uLy4uL3JvdXRlcy9wdWJsaWNcIjtcclxuXHJcbnJvdXRlcy5nZXQoXHJcbiAgXCIvY3VzdG9tZXJzXCIsXHJcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIGZ1bmN0aW9uIGdldE5hdkl0ZW1zKHJlcTogYW55LCByZXM6IGFueSkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IEN1c3RvbWVyc1NlcnZpY2UuZ2V0Q3VzdG9tZXJzKCk7XHJcbiAgICBjb25zdCBidWlsZFJlc3BvbnNlID0gQnVpbGRSZXNwb25zZS5nZXQoZGF0YSk7XHJcbiAgICBpZiAoYnVpbGRSZXNwb25zZSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYnVpbGRSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsTUFBQUEsVUFBQSxHQUFBQyxPQUFBO0FBQ0EsTUFBQUMsY0FBQSxHQUFBQyxlQUFBLENBQUFGLE9BQUE7QUFDQSxNQUFBRyxlQUFBLEdBQUFELGVBQUEsQ0FBQUYsT0FBQTtBQUNBLE1BQUFJLFFBQUEsR0FBQUYsZUFBQSxDQUFBRixPQUFBO0FBRUFJLFFBQUEsQ0FBQUMsT0FBTSxDQUFDQyxHQUFHLENBQ1IsWUFBWSxFQUNaLElBQUFILGVBQUEsQ0FBQUUsT0FBWSxFQUFDLFNBQWVFLFdBQVdBLENBQUNDLEdBQVEsRUFBRUMsR0FBUTs7SUFDeEQsTUFBTUMsSUFBSSxHQUFHLE1BQU1YLFVBQUEsQ0FBQVksZ0JBQWdCLENBQUNDLFlBQVksRUFBRTtJQUNsRCxNQUFNQyxhQUFhLEdBQUdaLGNBQUEsQ0FBQUksT0FBYSxDQUFDQyxHQUFHLENBQUNJLElBQUksQ0FBQztJQUM3QyxJQUFJRyxhQUFhLEVBQUU7TUFDakIsT0FBT0osR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0YsYUFBYSxDQUFDO0lBQzVDO0VBQ0YsQ0FBQztDQUFBLENBQUMsQ0FDSCIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["services_1","require","app_response_1","__importDefault","async_handler_1","public_1","default","get","getNavItems","req","res","data","CustomersService","getCustomers","buildResponse","status","json"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\customers\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/customers/controller.ts"],"sourcesContent":["import { Request, Response } from \"express\";\r\nimport { CustomersService } from \"./services\";\r\nimport BuildResponse from \"../../modules/response/app_response\";\r\nimport asyncHandler from \"../../helper/async-handler\";\r\nimport routes from \"../../routes/public\";\r\n\r\nroutes.get(\r\n  \"/customers\",\r\n  asyncHandler(async function getNavItems(req: any, res: any) {\r\n    const data = await CustomersService.getCustomers();\r\n    const buildResponse = BuildResponse.get(data);\r\n    if (buildResponse) {\r\n      return res.status(200).json(buildResponse);\r\n    }\r\n  })\r\n);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAAA,UAAA,GAAAC,OAAA;AACA,MAAAC,cAAA,GAAAC,eAAA,CAAAF,OAAA;AACA,MAAAG,eAAA,GAAAD,eAAA,CAAAF,OAAA;AACA,MAAAI,QAAA,GAAAF,eAAA,CAAAF,OAAA;AAEAI,QAAA,CAAAC,OAAM,CAACC,GAAG,CACR,YAAY,EACZ,IAAAH,eAAA,CAAAE,OAAY,EAAC,SAAeE,WAAWA,CAACC,GAAQ,EAAEC,GAAQ;;IACxD,MAAMC,IAAI,GAAG,MAAMX,UAAA,CAAAY,gBAAgB,CAACC,YAAY,EAAE;IAClD,MAAMC,aAAa,GAAGZ,cAAA,CAAAI,OAAa,CAACC,GAAG,CAACI,IAAI,CAAC;IAC7C,IAAIG,aAAa,EAAE;MACjB,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACF,aAAa,CAAC;IAC5C;EACF,CAAC;CAAA,CAAC,CACH","ignoreList":[]}},"mtime":1716885416649},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\customers\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\controller\\\\customers\\\\services.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CustomersService = void 0;\nconst db_1 = require(\"../../bin/db\");\nclass CustomersService {\n  static getCustomers() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const data = yield (0, db_1.getCustomers)();\n      if (data) {\n        return {\n          message: `ok`,\n          data\n        };\n      }\n      return null;\n    });\n  }\n}\nexports.CustomersService = CustomersService;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYl8xIiwicmVxdWlyZSIsIkN1c3RvbWVyc1NlcnZpY2UiLCJnZXRDdXN0b21lcnMiLCJkYXRhIiwibWVzc2FnZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxjb250cm9sbGVyXFxjdXN0b21lcnNcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci9jdXN0b21lcnMvc2VydmljZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q3VzdG9tZXJzIH0gZnJvbSBcIi4uLy4uL2Jpbi9kYlwiO1xyXG5cclxuXHJcbmNsYXNzIEN1c3RvbWVyc1NlcnZpY2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBnZXRDdXN0b21lcnMoKSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRDdXN0b21lcnMoKTtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBgb2tgLCBkYXRhIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuZXhwb3J0IHsgQ3VzdG9tZXJzU2VydmljZSB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQUFBLElBQUEsR0FBQUMsT0FBQTtBQUdBLE1BQU1DLGdCQUFnQjtFQUNYLE9BQWFDLFlBQVlBLENBQUE7O01BQzlCLE1BQU1DLElBQUksR0FBRyxNQUFNLElBQUFKLElBQUEsQ0FBQUcsWUFBWSxHQUFFO01BQ2pDLElBQUlDLElBQUksRUFBRTtRQUNSLE9BQU87VUFBRUMsT0FBTyxFQUFFLElBQUk7VUFBRUQ7UUFBSSxDQUFFO01BQ2hDO01BQ0EsT0FBTyxJQUFJO0lBQ2IsQ0FBQzs7O0FBR0lFLE9BQUEsQ0FBQUosZ0JBQUEsR0FBQUEsZ0JBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["db_1","require","CustomersService","getCustomers","data","message","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\controller\\customers\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/controller/customers/services.ts"],"sourcesContent":["import { getCustomers } from \"../../bin/db\";\r\n\r\n\r\nclass CustomersService {\r\n    public static async getCustomers() {\r\n      const data = await getCustomers();\r\n      if (data) {\r\n        return { message: `ok`, data };\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\nexport { CustomersService };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,IAAA,GAAAC,OAAA;AAGA,MAAMC,gBAAgB;EACX,OAAaC,YAAYA,CAAA;;MAC9B,MAAMC,IAAI,GAAG,MAAM,IAAAJ,IAAA,CAAAG,YAAY,GAAE;MACjC,IAAIC,IAAI,EAAE;QACR,OAAO;UAAEC,OAAO,EAAE,IAAI;UAAED;QAAI,CAAE;MAChC;MACA,OAAO,IAAI;IACb,CAAC;;;AAGIE,OAAA,CAAAJ,gBAAA,GAAAA,gBAAA","ignoreList":[]}},"mtime":1716883811369},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\common.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUniqueCodev3 = exports.getUniqueCodev2 = void 0;\n/**\n *\n * @param length - Generate Unique Code ( default length 32 )\n */\nfunction getUniqueCodev2(length = 32) {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i += 1) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\nexports.getUniqueCodev2 = getUniqueCodev2;\n/**\n *\n * @param length - Generate Unique Code ( default length 32 )\n */\nfunction getUniqueCodev3(length = 4) {\n  let result = '';\n  const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i += 1) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\nexports.getUniqueCodev3 = getUniqueCodev3;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRVbmlxdWVDb2RldjIiLCJsZW5ndGgiLCJyZXN1bHQiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsImkiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJleHBvcnRzIiwiZ2V0VW5pcXVlQ29kZXYzIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJhY3RpY2VcXEFudWdsYXJcXFByb2plY3QtZ2l0XFx1c2VyLWluZm9ybWF0aW9uXFxzZXJ2ZXJcXHNyY1xcaGVscGVyXFwiLCJzb3VyY2VzIjpbIkQ6L1ByYWN0aWNlL0FudWdsYXIvUHJvamVjdC1naXQvdXNlci1pbmZvcm1hdGlvbi9zZXJ2ZXIvc3JjL2hlbHBlci9jb21tb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBsZW5ndGggLSBHZW5lcmF0ZSBVbmlxdWUgQ29kZSAoIGRlZmF1bHQgbGVuZ3RoIDMyIClcclxuICovXHJcbmZ1bmN0aW9uIGdldFVuaXF1ZUNvZGV2MihsZW5ndGggPSAzMikge1xyXG4gIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gIGNvbnN0IGNoYXJhY3RlcnMgPVxyXG4gICAgXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xyXG4gIGNvbnN0IGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIGxlbmd0aCAtIEdlbmVyYXRlIFVuaXF1ZSBDb2RlICggZGVmYXVsdCBsZW5ndGggMzIgKVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VW5pcXVlQ29kZXYzKGxlbmd0aCA9IDQpIHtcclxuICAgIGxldCByZXN1bHQgPSAnJ1xyXG4gICAgY29uc3QgY2hhcmFjdGVycyA9XHJcbiAgICAgICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknXHJcbiAgICBjb25zdCBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGhcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuZXhwb3J0IHtcclxuICAgIGdldFVuaXF1ZUNvZGV2MixcclxuICAgIGdldFVuaXF1ZUNvZGV2M1xyXG4gIH0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBSUEsU0FBU0EsZUFBZUEsQ0FBQ0MsTUFBTSxHQUFHLEVBQUU7RUFDbEMsSUFBSUMsTUFBTSxHQUFHLEVBQUU7RUFDZixNQUFNQyxVQUFVLEdBQ2QsZ0VBQWdFO0VBQ2xFLE1BQU1DLGdCQUFnQixHQUFHRCxVQUFVLENBQUNGLE1BQU07RUFDMUMsS0FBSyxJQUFJSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdKLE1BQU0sRUFBRUksQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUNsQ0gsTUFBTSxJQUFJQyxVQUFVLENBQUNHLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxFQUFFLEdBQUdMLGdCQUFnQixDQUFDLENBQUM7RUFDM0U7RUFDQSxPQUFPRixNQUFNO0FBQ2Y7QUFpQklRLE9BQUEsQ0FBQVYsZUFBQSxHQUFBQSxlQUFBO0FBZko7Ozs7QUFJQSxTQUFTVyxlQUFlQSxDQUFDVixNQUFNLEdBQUcsQ0FBQztFQUMvQixJQUFJQyxNQUFNLEdBQUcsRUFBRTtFQUNmLE1BQU1DLFVBQVUsR0FDZCxzQ0FBc0M7RUFDeEMsTUFBTUMsZ0JBQWdCLEdBQUdELFVBQVUsQ0FBQ0YsTUFBTTtFQUMxQyxLQUFLLElBQUlJLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0osTUFBTSxFQUFFSSxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ2xDSCxNQUFNLElBQUlDLFVBQVUsQ0FBQ0csTUFBTSxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLEVBQUUsR0FBR0wsZ0JBQWdCLENBQUMsQ0FBQztFQUMzRTtFQUNBLE9BQU9GLE1BQU07QUFDZjtBQUdFUSxPQUFBLENBQUFDLGVBQUEsR0FBQUEsZUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["getUniqueCodev2","length","result","characters","charactersLength","i","charAt","Math","floor","random","exports","getUniqueCodev3"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\helper\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/helper/common.ts"],"sourcesContent":["/**\r\n *\r\n * @param length - Generate Unique Code ( default length 32 )\r\n */\r\nfunction getUniqueCodev2(length = 32) {\r\n  let result = \"\";\r\n  const characters =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  const charactersLength = characters.length;\r\n  for (let i = 0; i < length; i += 1) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n *\r\n * @param length - Generate Unique Code ( default length 32 )\r\n */\r\nfunction getUniqueCodev3(length = 4) {\r\n    let result = ''\r\n    const characters =\r\n      'abcdefghijklmnopqrstuvwxyz0123456789'\r\n    const charactersLength = characters.length\r\n    for (let i = 0; i < length; i += 1) {\r\n      result += characters.charAt(Math.floor(Math.random() * charactersLength))\r\n    }\r\n    return result\r\n  }\r\nexport {\r\n    getUniqueCodev2,\r\n    getUniqueCodev3\r\n  }"],"mappings":";;;;;;AAAA;;;;AAIA,SAASA,eAAeA,CAACC,MAAM,GAAG,EAAE;EAClC,IAAIC,MAAM,GAAG,EAAE;EACf,MAAMC,UAAU,GACd,gEAAgE;EAClE,MAAMC,gBAAgB,GAAGD,UAAU,CAACF,MAAM;EAC1C,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,EAAEI,CAAC,IAAI,CAAC,EAAE;IAClCH,MAAM,IAAIC,UAAU,CAACG,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAGL,gBAAgB,CAAC,CAAC;EAC3E;EACA,OAAOF,MAAM;AACf;AAiBIQ,OAAA,CAAAV,eAAA,GAAAA,eAAA;AAfJ;;;;AAIA,SAASW,eAAeA,CAACV,MAAM,GAAG,CAAC;EAC/B,IAAIC,MAAM,GAAG,EAAE;EACf,MAAMC,UAAU,GACd,sCAAsC;EACxC,MAAMC,gBAAgB,GAAGD,UAAU,CAACF,MAAM;EAC1C,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,EAAEI,CAAC,IAAI,CAAC,EAAE;IAClCH,MAAM,IAAIC,UAAU,CAACG,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAGL,gBAAgB,CAAC,CAAC;EAC3E;EACA,OAAOF,MAAM;AACf;AAGEQ,OAAA,CAAAC,eAAA,GAAAA,eAAA","ignoreList":[]}},"mtime":1718266702344},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\send_email.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst email_1 = __importDefault(require(\"../config/email\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst {\n  APP_NAME\n} = process.env;\nconst file_1 = require(\"../helper/file\");\nconst handlebars_1 = __importDefault(require(\"handlebars\"));\nconst response_error_1 = __importDefault(require(\"../modules/error/response_error\"));\nclass SendEmail {\n  static AccountRegister(formData) {\n    const {\n      email\n    } = formData;\n    const TOKEN = formData.verify_code;\n    const pathTemplate = path_1.default.resolve(__dirname, `../public/template/email/emailverify.html`);\n    const subject = \"MindUp Registeration\";\n    // const urlToken = `${BASE_URL_CLIENT}/email/verify?token=${token}`\n    const dataTemplate = {\n      APP_NAME,\n      TOKEN\n    };\n    const Email = new email_1.default();\n    (0, file_1.readHTMLFile)(pathTemplate, (error, html) => {\n      if (error) {\n        throw new response_error_1.default.NotFound(\"email template not found\");\n      }\n      const template = handlebars_1.default.compile(html);\n      const htmlToSend = template(dataTemplate);\n      Email.send(email, subject, htmlToSend);\n    });\n  }\n  static forgetPassToken(formData, token) {\n    const {\n      email\n    } = formData;\n    const TOKEN = token;\n    const pathTemplate = path_1.default.resolve(__dirname, `../public/template/email/emailverify.html`);\n    const subject = \"Alishopeee Registeration\";\n    // const urlToken = `${BASE_URL_CLIENT}/email/verify?token=${token}`\n    const dataTemplate = {\n      APP_NAME,\n      TOKEN\n    };\n    const Email = new email_1.default();\n    (0, file_1.readHTMLFile)(pathTemplate, (error, html) => {\n      if (error) {\n        throw new response_error_1.default.NotFound(\"email template not found\");\n      }\n      const template = handlebars_1.default.compile(html);\n      const htmlToSend = template(dataTemplate);\n      Email.send(email, subject, htmlToSend);\n    });\n  }\n}\nexports.default = SendEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlbWFpbF8xIiwiX19pbXBvcnREZWZhdWx0IiwicmVxdWlyZSIsInBhdGhfMSIsIkFQUF9OQU1FIiwicHJvY2VzcyIsImVudiIsImZpbGVfMSIsImhhbmRsZWJhcnNfMSIsInJlc3BvbnNlX2Vycm9yXzEiLCJTZW5kRW1haWwiLCJBY2NvdW50UmVnaXN0ZXIiLCJmb3JtRGF0YSIsImVtYWlsIiwiVE9LRU4iLCJ2ZXJpZnlfY29kZSIsInBhdGhUZW1wbGF0ZSIsImRlZmF1bHQiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwic3ViamVjdCIsImRhdGFUZW1wbGF0ZSIsIkVtYWlsIiwicmVhZEhUTUxGaWxlIiwiZXJyb3IiLCJodG1sIiwiTm90Rm91bmQiLCJ0ZW1wbGF0ZSIsImNvbXBpbGUiLCJodG1sVG9TZW5kIiwic2VuZCIsImZvcmdldFBhc3NUb2tlbiIsInRva2VuIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXGhlbHBlclxcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9oZWxwZXIvc2VuZF9lbWFpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRW1haWxQcm92aWRlciBmcm9tIFwiLi4vY29uZmlnL2VtYWlsXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmNvbnN0IHsgQVBQX05BTUUgfSA9IHByb2Nlc3MuZW52O1xyXG5pbXBvcnQgeyByZWFkSFRNTEZpbGUgfSBmcm9tIFwiLi4vaGVscGVyL2ZpbGVcIjtcclxuaW1wb3J0IGhhbmRsZWJhcnMgZnJvbSBcImhhbmRsZWJhcnNcIjtcclxuaW1wb3J0IHsgQ3JlYXRlVXNlciwgVXNlciB9IGZyb20gXCIuLi90eXBlcy91c2VyXCI7XHJcbmltcG9ydCBSZXNwb25zZUVycm9yIGZyb20gXCIuLi9tb2R1bGVzL2Vycm9yL3Jlc3BvbnNlX2Vycm9yXCI7XHJcblxyXG5jbGFzcyBTZW5kRW1haWwge1xyXG4gIHB1YmxpYyBzdGF0aWMgQWNjb3VudFJlZ2lzdGVyKGZvcm1EYXRhOiBhbnkpIHtcclxuICAgIGNvbnN0IHsgZW1haWwgfSA9IGZvcm1EYXRhO1xyXG4gICAgY29uc3QgVE9LRU4gPSBmb3JtRGF0YS52ZXJpZnlfY29kZTtcclxuICAgIGNvbnN0IHBhdGhUZW1wbGF0ZSA9IHBhdGgucmVzb2x2ZShcclxuICAgICAgX19kaXJuYW1lLFxyXG4gICAgICBgLi4vcHVibGljL3RlbXBsYXRlL2VtYWlsL2VtYWlsdmVyaWZ5Lmh0bWxgXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHN1YmplY3QgPSBcIk1pbmRVcCBSZWdpc3RlcmF0aW9uXCI7XHJcbiAgICAvLyBjb25zdCB1cmxUb2tlbiA9IGAke0JBU0VfVVJMX0NMSUVOVH0vZW1haWwvdmVyaWZ5P3Rva2VuPSR7dG9rZW59YFxyXG4gICAgY29uc3QgZGF0YVRlbXBsYXRlID0geyBBUFBfTkFNRSwgVE9LRU4gfTtcclxuICAgIGNvbnN0IEVtYWlsID0gbmV3IEVtYWlsUHJvdmlkZXIoKTtcclxuXHJcbiAgICByZWFkSFRNTEZpbGUocGF0aFRlbXBsYXRlLCAoZXJyb3I6IEVycm9yLCBodG1sOiBhbnkpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IuTm90Rm91bmQoXCJlbWFpbCB0ZW1wbGF0ZSBub3QgZm91bmRcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gaGFuZGxlYmFycy5jb21waWxlKGh0bWwpO1xyXG4gICAgICBjb25zdCBodG1sVG9TZW5kID0gdGVtcGxhdGUoZGF0YVRlbXBsYXRlKTtcclxuXHJcbiAgICAgIEVtYWlsLnNlbmQoZW1haWwsIHN1YmplY3QsIGh0bWxUb1NlbmQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGZvcmdldFBhc3NUb2tlbihmb3JtRGF0YTogVXNlciwgdG9rZW46IHN0cmluZykge1xyXG4gICAgY29uc3QgeyBlbWFpbCB9ID0gZm9ybURhdGE7XHJcbiAgICBjb25zdCBUT0tFTiA9IHRva2VuO1xyXG4gICAgY29uc3QgcGF0aFRlbXBsYXRlID0gcGF0aC5yZXNvbHZlKFxyXG4gICAgICBfX2Rpcm5hbWUsXHJcbiAgICAgIGAuLi9wdWJsaWMvdGVtcGxhdGUvZW1haWwvZW1haWx2ZXJpZnkuaHRtbGBcclxuICAgICk7XHJcblxyXG4gICAgY29uc3Qgc3ViamVjdCA9IFwiQWxpc2hvcGVlZSBSZWdpc3RlcmF0aW9uXCI7XHJcbiAgICAvLyBjb25zdCB1cmxUb2tlbiA9IGAke0JBU0VfVVJMX0NMSUVOVH0vZW1haWwvdmVyaWZ5P3Rva2VuPSR7dG9rZW59YFxyXG4gICAgY29uc3QgZGF0YVRlbXBsYXRlID0geyBBUFBfTkFNRSwgVE9LRU4gfTtcclxuICAgIGNvbnN0IEVtYWlsID0gbmV3IEVtYWlsUHJvdmlkZXIoKTtcclxuXHJcbiAgICByZWFkSFRNTEZpbGUocGF0aFRlbXBsYXRlLCAoZXJyb3I6IEVycm9yLCBodG1sOiBhbnkpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IuTm90Rm91bmQoXCJlbWFpbCB0ZW1wbGF0ZSBub3QgZm91bmRcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gaGFuZGxlYmFycy5jb21waWxlKGh0bWwpO1xyXG4gICAgICBjb25zdCBodG1sVG9TZW5kID0gdGVtcGxhdGUoZGF0YVRlbXBsYXRlKTtcclxuICAgICAgRW1haWwuc2VuZChlbWFpbFxyXG4gICAgICAgICwgc3ViamVjdCwgaHRtbFRvU2VuZCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlbmRFbWFpbDtcclxuIl0sIm1hcHBpbmdz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","map":{"version":3,"names":["email_1","__importDefault","require","path_1","APP_NAME","process","env","file_1","handlebars_1","response_error_1","SendEmail","AccountRegister","formData","email","TOKEN","verify_code","pathTemplate","default","resolve","__dirname","subject","dataTemplate","Email","readHTMLFile","error","html","NotFound","template","compile","htmlToSend","send","forgetPassToken","token","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\helper\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/helper/send_email.ts"],"sourcesContent":["import EmailProvider from \"../config/email\";\r\nimport path from \"path\";\r\nconst { APP_NAME } = process.env;\r\nimport { readHTMLFile } from \"../helper/file\";\r\nimport handlebars from \"handlebars\";\r\nimport { CreateUser, User } from \"../types/user\";\r\nimport ResponseError from \"../modules/error/response_error\";\r\n\r\nclass SendEmail {\r\n  public static AccountRegister(formData: any) {\r\n    const { email } = formData;\r\n    const TOKEN = formData.verify_code;\r\n    const pathTemplate = path.resolve(\r\n      __dirname,\r\n      `../public/template/email/emailverify.html`\r\n    );\r\n\r\n    const subject = \"MindUp Registeration\";\r\n    // const urlToken = `${BASE_URL_CLIENT}/email/verify?token=${token}`\r\n    const dataTemplate = { APP_NAME, TOKEN };\r\n    const Email = new EmailProvider();\r\n\r\n    readHTMLFile(pathTemplate, (error: Error, html: any) => {\r\n      if (error) {\r\n        throw new ResponseError.NotFound(\"email template not found\");\r\n      }\r\n\r\n      const template = handlebars.compile(html);\r\n      const htmlToSend = template(dataTemplate);\r\n\r\n      Email.send(email, subject, htmlToSend);\r\n    });\r\n  }\r\n\r\n  public static forgetPassToken(formData: User, token: string) {\r\n    const { email } = formData;\r\n    const TOKEN = token;\r\n    const pathTemplate = path.resolve(\r\n      __dirname,\r\n      `../public/template/email/emailverify.html`\r\n    );\r\n\r\n    const subject = \"Alishopeee Registeration\";\r\n    // const urlToken = `${BASE_URL_CLIENT}/email/verify?token=${token}`\r\n    const dataTemplate = { APP_NAME, TOKEN };\r\n    const Email = new EmailProvider();\r\n\r\n    readHTMLFile(pathTemplate, (error: Error, html: any) => {\r\n      if (error) {\r\n        throw new ResponseError.NotFound(\"email template not found\");\r\n      }\r\n\r\n      const template = handlebars.compile(html);\r\n      const htmlToSend = template(dataTemplate);\r\n      Email.send(email\r\n        , subject, htmlToSend);\r\n    });\r\n  }\r\n}\r\n\r\nexport default SendEmail;\r\n"],"mappings":";;;;;;;;;;AAAA,MAAAA,OAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,MAAA,GAAAF,eAAA,CAAAC,OAAA;AACA,MAAM;EAAEE;AAAQ,CAAE,GAAGC,OAAO,CAACC,GAAG;AAChC,MAAAC,MAAA,GAAAL,OAAA;AACA,MAAAM,YAAA,GAAAP,eAAA,CAAAC,OAAA;AAEA,MAAAO,gBAAA,GAAAR,eAAA,CAAAC,OAAA;AAEA,MAAMQ,SAAS;EACN,OAAOC,eAAeA,CAACC,QAAa;IACzC,MAAM;MAAEC;IAAK,CAAE,GAAGD,QAAQ;IAC1B,MAAME,KAAK,GAAGF,QAAQ,CAACG,WAAW;IAClC,MAAMC,YAAY,GAAGb,MAAA,CAAAc,OAAI,CAACC,OAAO,CAC/BC,SAAS,EACT,2CAA2C,CAC5C;IAED,MAAMC,OAAO,GAAG,sBAAsB;IACtC;IACA,MAAMC,YAAY,GAAG;MAAEjB,QAAQ;MAAEU;IAAK,CAAE;IACxC,MAAMQ,KAAK,GAAG,IAAItB,OAAA,CAAAiB,OAAa,EAAE;IAEjC,IAAAV,MAAA,CAAAgB,YAAY,EAACP,YAAY,EAAE,CAACQ,KAAY,EAAEC,IAAS,KAAI;MACrD,IAAID,KAAK,EAAE;QACT,MAAM,IAAIf,gBAAA,CAAAQ,OAAa,CAACS,QAAQ,CAAC,0BAA0B,CAAC;MAC9D;MAEA,MAAMC,QAAQ,GAAGnB,YAAA,CAAAS,OAAU,CAACW,OAAO,CAACH,IAAI,CAAC;MACzC,MAAMI,UAAU,GAAGF,QAAQ,CAACN,YAAY,CAAC;MAEzCC,KAAK,CAACQ,IAAI,CAACjB,KAAK,EAAEO,OAAO,EAAES,UAAU,CAAC;IACxC,CAAC,CAAC;EACJ;EAEO,OAAOE,eAAeA,CAACnB,QAAc,EAAEoB,KAAa;IACzD,MAAM;MAAEnB;IAAK,CAAE,GAAGD,QAAQ;IAC1B,MAAME,KAAK,GAAGkB,KAAK;IACnB,MAAMhB,YAAY,GAAGb,MAAA,CAAAc,OAAI,CAACC,OAAO,CAC/BC,SAAS,EACT,2CAA2C,CAC5C;IAED,MAAMC,OAAO,GAAG,0BAA0B;IAC1C;IACA,MAAMC,YAAY,GAAG;MAAEjB,QAAQ;MAAEU;IAAK,CAAE;IACxC,MAAMQ,KAAK,GAAG,IAAItB,OAAA,CAAAiB,OAAa,EAAE;IAEjC,IAAAV,MAAA,CAAAgB,YAAY,EAACP,YAAY,EAAE,CAACQ,KAAY,EAAEC,IAAS,KAAI;MACrD,IAAID,KAAK,EAAE;QACT,MAAM,IAAIf,gBAAA,CAAAQ,OAAa,CAACS,QAAQ,CAAC,0BAA0B,CAAC;MAC9D;MAEA,MAAMC,QAAQ,GAAGnB,YAAA,CAAAS,OAAU,CAACW,OAAO,CAACH,IAAI,CAAC;MACzC,MAAMI,UAAU,GAAGF,QAAQ,CAACN,YAAY,CAAC;MACzCC,KAAK,CAACQ,IAAI,CAACjB,KAAK,EACZO,OAAO,EAAES,UAAU,CAAC;IAC1B,CAAC,CAAC;EACJ;;AAGFI,OAAA,CAAAhB,OAAA,GAAeP,SAAS","ignoreList":[]}},"mtime":1718873181171},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\config\\\\email.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst lodash_1 = require(\"lodash\");\nconst nodemailer_1 = __importDefault(require(\"nodemailer\"));\nconst nodemailer_mailgun_transport_1 = __importDefault(require(\"nodemailer-mailgun-transport\"));\nconst {\n  APP_NAME,\n  MAIL_DRIVER,\n  MAIL_HOST,\n  MAIL_PORT,\n  MAIL_USERNAME,\n  MAIL_PASSWORD,\n  MAIL_AUTH_TYPE,\n  MAILGUN_API_KEY,\n  MAILGUN_DOMAIN,\n  OAUTH_CLIENT_ID,\n  OAUTH_CLIENT_SECRET,\n  OAUTH_REFRESH_TOKEN,\n  OAUTH_REDIRECT_URL\n} = process.env;\nconst isMailgunAPI = !(0, lodash_1.isEmpty)(MAILGUN_API_KEY) || !(0, lodash_1.isEmpty)(MAILGUN_DOMAIN);\nclass EmailProvider {\n  constructor() {\n    this.send = (to, subject, template) => {\n      const dest = Array.isArray(to) ? to.join(\",\") : to;\n      const text = template;\n      // send an e-mail\n      this.sendMail(dest, subject, text);\n    };\n    this.setMailConfig = () => {\n      // const gmailEmail = \"aliakbaresmaeili98@gmail.com\";\n      // const gmailAppPassword = \"nffx hrgb xolq vsfa\";\n      const gmailEmail = \"aliakbaresmaeili98@gmail.com\";\n      const gmailAppPassword = \"cgop ttip zuqz hqlr\";\n      const configTransport = {\n        service: MAIL_DRIVER,\n        auth: {\n          user: gmailEmail,\n          pass: gmailAppPassword\n        }\n      };\n      if (isMailgunAPI) {\n        configTransport.auth.api_key = MAILGUN_API_KEY;\n        configTransport.auth.domain = MAILGUN_DOMAIN;\n      } else {\n        // SMTP Default\n        configTransport.host = MAIL_HOST;\n        configTransport.port = MAIL_PORT;\n        configTransport.auth.user = MAIL_USERNAME;\n        configTransport.auth.pass = MAIL_PASSWORD;\n      }\n      return configTransport;\n    };\n    this.setMailOptions = (dest, subject, text) => {\n      return {\n        from: `${APP_NAME} <${MAIL_USERNAME}>`,\n        to: dest,\n        subject,\n        html: text\n      };\n    };\n    this.sendMail = (dest, subject, text) => {\n      this.mailConfig = isMailgunAPI ? (0, nodemailer_mailgun_transport_1.default)(this.setMailConfig()) : this.setMailConfig();\n      this.mailOptions = this.setMailOptions(dest, subject, text);\n      // Nodemailer Transport\n      const transporter = nodemailer_1.default.createTransport(this.mailConfig);\n      transporter.sendMail(this.mailOptions,\n      // @ts-ignore\n      (error, info) => {\n        if (error) {\n          console.log(error);\n        } else {\n          console.log(\"successfully\", info);\n        }\n      });\n    };\n  }\n}\nexports.default = EmailProvider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2Rhc2hfMSIsInJlcXVpcmUiLCJub2RlbWFpbGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJub2RlbWFpbGVyX21haWxndW5fdHJhbnNwb3J0XzEiLCJBUFBfTkFNRSIsIk1BSUxfRFJJVkVSIiwiTUFJTF9IT1NUIiwiTUFJTF9QT1JUIiwiTUFJTF9VU0VSTkFNRSIsIk1BSUxfUEFTU1dPUkQiLCJNQUlMX0FVVEhfVFlQRSIsIk1BSUxHVU5fQVBJX0tFWSIsIk1BSUxHVU5fRE9NQUlOIiwiT0FVVEhfQ0xJRU5UX0lEIiwiT0FVVEhfQ0xJRU5UX1NFQ1JFVCIsIk9BVVRIX1JFRlJFU0hfVE9LRU4iLCJPQVVUSF9SRURJUkVDVF9VUkwiLCJwcm9jZXNzIiwiZW52IiwiaXNNYWlsZ3VuQVBJIiwiaXNFbXB0eSIsIkVtYWlsUHJvdmlkZXIiLCJjb25zdHJ1Y3RvciIsInNlbmQiLCJ0byIsInN1YmplY3QiLCJ0ZW1wbGF0ZSIsImRlc3QiLCJBcnJheSIsImlzQXJyYXkiLCJqb2luIiwidGV4dCIsInNlbmRNYWlsIiwic2V0TWFpbENvbmZpZyIsImdtYWlsRW1haWwiLCJnbWFpbEFwcFBhc3N3b3JkIiwiY29uZmlnVHJhbnNwb3J0Iiwic2VydmljZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImFwaV9rZXkiLCJkb21haW4iLCJob3N0IiwicG9ydCIsInNldE1haWxPcHRpb25zIiwiZnJvbSIsImh0bWwiLCJtYWlsQ29uZmlnIiwiZGVmYXVsdCIsIm1haWxPcHRpb25zIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJlcnJvciIsImluZm8iLCJjb25zb2xlIiwibG9nIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFByYWN0aWNlXFxBbnVnbGFyXFxQcm9qZWN0LWdpdFxcdXNlci1pbmZvcm1hdGlvblxcc2VydmVyXFxzcmNcXGNvbmZpZ1xcIiwic291cmNlcyI6WyJEOi9QcmFjdGljZS9BbnVnbGFyL1Byb2plY3QtZ2l0L3VzZXItaW5mb3JtYXRpb24vc2VydmVyL3NyYy9jb25maWcvZW1haWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSBcIm5vZGVtYWlsZXJcIjtcclxuaW1wb3J0IG1nIGZyb20gXCJub2RlbWFpbGVyLW1haWxndW4tdHJhbnNwb3J0XCI7XHJcblxyXG5jb25zdCB7XHJcbiAgQVBQX05BTUUsXHJcbiAgTUFJTF9EUklWRVIsXHJcbiAgTUFJTF9IT1NULFxyXG4gIE1BSUxfUE9SVCxcclxuICBNQUlMX1VTRVJOQU1FLFxyXG4gIE1BSUxfUEFTU1dPUkQsXHJcbiAgTUFJTF9BVVRIX1RZUEUsXHJcbiAgTUFJTEdVTl9BUElfS0VZLFxyXG4gIE1BSUxHVU5fRE9NQUlOLFxyXG4gIE9BVVRIX0NMSUVOVF9JRCxcclxuICBPQVVUSF9DTElFTlRfU0VDUkVULFxyXG4gIE9BVVRIX1JFRlJFU0hfVE9LRU4sXHJcbiAgT0FVVEhfUkVESVJFQ1RfVVJMLFxyXG59ID0gcHJvY2Vzcy5lbnY7XHJcblxyXG5jb25zdCBpc01haWxndW5BUEkgPSAhaXNFbXB0eShNQUlMR1VOX0FQSV9LRVkpIHx8ICFpc0VtcHR5KE1BSUxHVU5fRE9NQUlOKTtcclxuXHJcbmNsYXNzIEVtYWlsUHJvdmlkZXIge1xyXG4gIHByaXZhdGUgbWFpbENvbmZpZzogbm9kZW1haWxlci5TZW50TWVzc2FnZUluZm87XHJcbiAgcHJpdmF0ZSBtYWlsT3B0aW9uczogbm9kZW1haWxlci5TZW5kTWFpbE9wdGlvbnMgfCB1bmRlZmluZWQ7XHJcblxyXG4gIHB1YmxpYyBzZW5kID0gKFxyXG4gICAgdG86IHN0cmluZyB8IHN0cmluZ1tdLFxyXG4gICAgc3ViamVjdDogc3RyaW5nLFxyXG4gICAgdGVtcGxhdGU6IHN0cmluZ1xyXG4gICk6IHZvaWQgfCBzdHJpbmdbXSA9PiB7XHJcbiAgICBjb25zdCBkZXN0OiBzdHJpbmcgPSBBcnJheS5pc0FycmF5KHRvKSA/IHRvLmpvaW4oXCIsXCIpIDogdG87XHJcbiAgICBjb25zdCB0ZXh0OiBzdHJpbmcgPSB0ZW1wbGF0ZTtcclxuXHJcbiAgICAvLyBzZW5kIGFuIGUtbWFpbFxyXG4gICAgdGhpcy5zZW5kTWFpbChkZXN0LCBzdWJqZWN0LCB0ZXh0KTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHNldE1haWxDb25maWcgPSAoKTogbm9kZW1haWxlci5TZW50TWVzc2FnZUluZm8gPT4ge1xyXG4gICAgLy8gY29uc3QgZ21haWxFbWFpbCA9IFwiYWxpYWtiYXJlc21hZWlsaTk4QGdtYWlsLmNvbVwiO1xyXG4gICAgLy8gY29uc3QgZ21haWxBcHBQYXNzd29yZCA9IFwibmZmeCBocmdiIHhvbHEgdnNmYVwiO1xyXG5cclxuICAgICBjb25zdCBnbWFpbEVtYWlsID0gXCJhbGlha2JhcmVzbWFlaWxpOThAZ21haWwuY29tXCI7XHJcbiAgICBjb25zdCBnbWFpbEFwcFBhc3N3b3JkID0gXCJjZ29wIHR0aXAgenVxeiBocWxyXCI7XHJcbiAgICBjb25zdCBjb25maWdUcmFuc3BvcnQ6IG5vZGVtYWlsZXIuU2VudE1lc3NhZ2VJbmZvID0ge1xyXG4gICAgICBzZXJ2aWNlOiBNQUlMX0RSSVZFUixcclxuICAgICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IGdtYWlsRW1haWwsXHJcbiAgICAgICAgcGFzczogZ21haWxBcHBQYXNzd29yZCxcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgICBpZiAoaXNNYWlsZ3VuQVBJKSB7XHJcbiAgICAgIGNvbmZpZ1RyYW5zcG9ydC5hdXRoLmFwaV9rZXkgPSBNQUlMR1VOX0FQSV9LRVk7XHJcbiAgICAgIGNvbmZpZ1RyYW5zcG9ydC5hdXRoLmRvbWFpbiA9IE1BSUxHVU5fRE9NQUlOO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU01UUCBEZWZhdWx0XHJcbiAgICAgIGNvbmZpZ1RyYW5zcG9ydC5ob3N0ID0gTUFJTF9IT1NUO1xyXG4gICAgICBjb25maWdUcmFuc3BvcnQucG9ydCA9IE1BSUxfUE9SVDtcclxuICAgICAgY29uZmlnVHJhbnNwb3J0LmF1dGgudXNlciA9IE1BSUxfVVNFUk5BTUU7XHJcbiAgICAgIGNvbmZpZ1RyYW5zcG9ydC5hdXRoLnBhc3MgPSBNQUlMX1BBU1NXT1JEO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbmZpZ1RyYW5zcG9ydDtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHNldE1haWxPcHRpb25zID0gKFxyXG4gICAgZGVzdDogc3RyaW5nLFxyXG4gICAgc3ViamVjdDogc3RyaW5nLFxyXG4gICAgdGV4dDogc3RyaW5nXHJcbiAgKTogbm9kZW1haWxlci5TZW5kTWFpbE9wdGlvbnMgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZnJvbTogYCR7QVBQX05BTUV9IDwke01BSUxfVVNFUk5BTUV9PmAsXHJcbiAgICAgIHRvOiBkZXN0LFxyXG4gICAgICBzdWJqZWN0LFxyXG4gICAgICBodG1sOiB0ZXh0LFxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHNlbmRNYWlsID0gKFxyXG4gICAgZGVzdDogc3RyaW5nLFxyXG4gICAgc3ViamVjdDogc3RyaW5nLFxyXG4gICAgdGV4dDogc3RyaW5nXHJcbiAgKTogdm9pZCB8IHN0cmluZ1tdID0+IHtcclxuICAgIHRoaXMubWFpbENvbmZpZyA9IGlzTWFpbGd1bkFQSVxyXG4gICAgICA/IG1nKHRoaXMuc2V0TWFpbENvbmZpZygpKVxyXG4gICAgICA6IHRoaXMuc2V0TWFpbENvbmZpZygpO1xyXG4gICAgdGhpcy5tYWlsT3B0aW9ucyA9IHRoaXMuc2V0TWFpbE9wdGlvbnMoZGVzdCwgc3ViamVjdCwgdGV4dCk7XHJcbiAgICAvLyBOb2RlbWFpbGVyIFRyYW5zcG9ydFxyXG4gICAgY29uc3QgdHJhbnNwb3J0ZXI6IG5vZGVtYWlsZXIuVHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChcclxuICAgICAgdGhpcy5tYWlsQ29uZmlnXHJcbiAgICApO1xyXG4gICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwoXHJcbiAgICAgIHRoaXMubWFpbE9wdGlvbnMsXHJcbiAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgKGVycm9yOiBFcnJvciwgaW5mbzogbm9kZW1haWxlci5TZW50TWVzc2FnZUluZm8pID0+IHtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHlcIiwgaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVtYWlsUHJvdmlkZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE1BQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLE1BQUFDLFlBQUEsR0FBQUMsZUFBQSxDQUFBRixPQUFBO0FBQ0EsTUFBQUcsOEJBQUEsR0FBQUQsZUFBQSxDQUFBRixPQUFBO0FBRUEsTUFBTTtFQUNKSSxRQUFRO0VBQ1JDLFdBQVc7RUFDWEMsU0FBUztFQUNUQyxTQUFTO0VBQ1RDLGFBQWE7RUFDYkMsYUFBYTtFQUNiQyxjQUFjO0VBQ2RDLGVBQWU7RUFDZkMsY0FBYztFQUNkQyxlQUFlO0VBQ2ZDLG1CQUFtQjtFQUNuQkMsbUJBQW1CO0VBQ25CQztBQUFrQixDQUNuQixHQUFHQyxPQUFPLENBQUNDLEdBQUc7QUFFZixNQUFNQyxZQUFZLEdBQUcsQ0FBQyxJQUFBcEIsUUFBQSxDQUFBcUIsT0FBTyxFQUFDVCxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUFaLFFBQUEsQ0FBQXFCLE9BQU8sRUFBQ1IsY0FBYyxDQUFDO0FBRTFFLE1BQU1TLGFBQWE7RUFBbkJDLFlBQUE7SUFJUyxLQUFBQyxJQUFJLEdBQUcsQ0FDWkMsRUFBcUIsRUFDckJDLE9BQWUsRUFDZkMsUUFBZ0IsS0FDRztNQUNuQixNQUFNQyxJQUFJLEdBQVdDLEtBQUssQ0FBQ0Ms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","map":{"version":3,"names":["lodash_1","require","nodemailer_1","__importDefault","nodemailer_mailgun_transport_1","APP_NAME","MAIL_DRIVER","MAIL_HOST","MAIL_PORT","MAIL_USERNAME","MAIL_PASSWORD","MAIL_AUTH_TYPE","MAILGUN_API_KEY","MAILGUN_DOMAIN","OAUTH_CLIENT_ID","OAUTH_CLIENT_SECRET","OAUTH_REFRESH_TOKEN","OAUTH_REDIRECT_URL","process","env","isMailgunAPI","isEmpty","EmailProvider","constructor","send","to","subject","template","dest","Array","isArray","join","text","sendMail","setMailConfig","gmailEmail","gmailAppPassword","configTransport","service","auth","user","pass","api_key","domain","host","port","setMailOptions","from","html","mailConfig","default","mailOptions","transporter","createTransport","error","info","console","log","exports"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\config\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/config/email.ts"],"sourcesContent":["import { isEmpty } from \"lodash\";\r\nimport nodemailer from \"nodemailer\";\r\nimport mg from \"nodemailer-mailgun-transport\";\r\n\r\nconst {\r\n  APP_NAME,\r\n  MAIL_DRIVER,\r\n  MAIL_HOST,\r\n  MAIL_PORT,\r\n  MAIL_USERNAME,\r\n  MAIL_PASSWORD,\r\n  MAIL_AUTH_TYPE,\r\n  MAILGUN_API_KEY,\r\n  MAILGUN_DOMAIN,\r\n  OAUTH_CLIENT_ID,\r\n  OAUTH_CLIENT_SECRET,\r\n  OAUTH_REFRESH_TOKEN,\r\n  OAUTH_REDIRECT_URL,\r\n} = process.env;\r\n\r\nconst isMailgunAPI = !isEmpty(MAILGUN_API_KEY) || !isEmpty(MAILGUN_DOMAIN);\r\n\r\nclass EmailProvider {\r\n  private mailConfig: nodemailer.SentMessageInfo;\r\n  private mailOptions: nodemailer.SendMailOptions | undefined;\r\n\r\n  public send = (\r\n    to: string | string[],\r\n    subject: string,\r\n    template: string\r\n  ): void | string[] => {\r\n    const dest: string = Array.isArray(to) ? to.join(\",\") : to;\r\n    const text: string = template;\r\n\r\n    // send an e-mail\r\n    this.sendMail(dest, subject, text);\r\n  };\r\n\r\n  private setMailConfig = (): nodemailer.SentMessageInfo => {\r\n    // const gmailEmail = \"aliakbaresmaeili98@gmail.com\";\r\n    // const gmailAppPassword = \"nffx hrgb xolq vsfa\";\r\n\r\n     const gmailEmail = \"aliakbaresmaeili98@gmail.com\";\r\n    const gmailAppPassword = \"cgop ttip zuqz hqlr\";\r\n    const configTransport: nodemailer.SentMessageInfo = {\r\n      service: MAIL_DRIVER,\r\n      auth: {\r\n        user: gmailEmail,\r\n        pass: gmailAppPassword,\r\n      },\r\n    };\r\n    if (isMailgunAPI) {\r\n      configTransport.auth.api_key = MAILGUN_API_KEY;\r\n      configTransport.auth.domain = MAILGUN_DOMAIN;\r\n    } else {\r\n      // SMTP Default\r\n      configTransport.host = MAIL_HOST;\r\n      configTransport.port = MAIL_PORT;\r\n      configTransport.auth.user = MAIL_USERNAME;\r\n      configTransport.auth.pass = MAIL_PASSWORD;\r\n    }\r\n    return configTransport;\r\n  };\r\n\r\n  private setMailOptions = (\r\n    dest: string,\r\n    subject: string,\r\n    text: string\r\n  ): nodemailer.SendMailOptions => {\r\n    return {\r\n      from: `${APP_NAME} <${MAIL_USERNAME}>`,\r\n      to: dest,\r\n      subject,\r\n      html: text,\r\n    };\r\n  };\r\n\r\n  private sendMail = (\r\n    dest: string,\r\n    subject: string,\r\n    text: string\r\n  ): void | string[] => {\r\n    this.mailConfig = isMailgunAPI\r\n      ? mg(this.setMailConfig())\r\n      : this.setMailConfig();\r\n    this.mailOptions = this.setMailOptions(dest, subject, text);\r\n    // Nodemailer Transport\r\n    const transporter: nodemailer.Transporter = nodemailer.createTransport(\r\n      this.mailConfig\r\n    );\r\n    transporter.sendMail(\r\n      this.mailOptions,\r\n      // @ts-ignore\r\n      (error: Error, info: nodemailer.SentMessageInfo) => {\r\n        if (error) {\r\n          console.log(error);\r\n        } else {\r\n          console.log(\"successfully\", info);\r\n        }\r\n      }\r\n    );\r\n  };\r\n}\r\n\r\nexport default EmailProvider;\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1718873131241},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"filename\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\\\\src\\\\helper\\\\file.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Practice\\\\Anuglar\\\\Project-git\\\\user-information\\\\server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteUserPic = exports.readHTMLFile = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\n/**\n *\n * @param path - path file template html\n * @param callback\n */\nfunction readHTMLFile(path, callback) {\n  fs_1.default.readFile(path, {\n    encoding: \"utf-8\"\n  }, function (err, html) {\n    if (err) {\n      callback(err);\n    } else {\n      callback(null, html);\n    }\n  });\n}\nexports.readHTMLFile = readHTMLFile;\nfunction deleteUserPic(userId) {\n  const path = `public/products/${userId}.jpg`;\n  if (fs_1.default.existsSync(path)) {\n    fs_1.default.unlinkSync(path);\n  }\n}\nexports.deleteUserPic = deleteUserPic;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmc18xIiwiX19pbXBvcnREZWZhdWx0IiwicmVxdWlyZSIsInJlYWRIVE1MRmlsZSIsInBhdGgiLCJjYWxsYmFjayIsImRlZmF1bHQiLCJyZWFkRmlsZSIsImVuY29kaW5nIiwiZXJyIiwiaHRtbCIsImV4cG9ydHMiLCJkZWxldGVVc2VyUGljIiwidXNlcklkIiwiZXhpc3RzU3luYyIsInVubGlua1N5bmMiXSwic291cmNlUm9vdCI6IkQ6XFxQcmFjdGljZVxcQW51Z2xhclxcUHJvamVjdC1naXRcXHVzZXItaW5mb3JtYXRpb25cXHNlcnZlclxcc3JjXFxoZWxwZXJcXCIsInNvdXJjZXMiOlsiRDovUHJhY3RpY2UvQW51Z2xhci9Qcm9qZWN0LWdpdC91c2VyLWluZm9ybWF0aW9uL3NlcnZlci9zcmMvaGVscGVyL2ZpbGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBwYXRoIC0gcGF0aCBmaWxlIHRlbXBsYXRlIGh0bWxcclxuICogQHBhcmFtIGNhbGxiYWNrXHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkSFRNTEZpbGUocGF0aDogYW55LCBjYWxsYmFjazogYW55KSB7XHJcbiAgZnMucmVhZEZpbGUocGF0aCwgeyBlbmNvZGluZzogXCJ1dGYtOFwiIH0sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgY2FsbGJhY2soZXJyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGRlbGV0ZVVzZXJQaWModXNlcklkOiBzdHJpbmcpIHtcclxuICBjb25zdCBwYXRoID0gYHB1YmxpYy9wcm9kdWN0cy8ke3VzZXJJZH0uanBnYDtcclxuICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoKSkge1xyXG4gICAgZnMudW5saW5rU3luYyhwYXRoKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IHsgcmVhZEhUTUxGaWxlLCBkZWxldGVVc2VyUGljIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFBQSxJQUFBLEdBQUFDLGVBQUEsQ0FBQUMsT0FBQTtBQUVBOzs7OztBQUtBLFNBQVNDLFlBQVlBLENBQUNDLElBQVMsRUFBRUMsUUFBYTtFQUM1Q0wsSUFBQSxDQUFBTSxPQUFFLENBQUNDLFFBQVEsQ0FBQ0gsSUFBSSxFQUFFO0lBQUVJLFFBQVEsRUFBRTtFQUFPLENBQUUsRUFBRSxVQUFVQyxHQUFHLEVBQUVDLElBQUk7SUFDMUQsSUFBSUQsR0FBRyxFQUFFO01BQ1BKLFFBQVEsQ0FBQ0ksR0FBRyxDQUFDO0lBQ2YsQ0FBQyxNQUFNO01BQ0xKLFFBQVEsQ0FBQyxJQUFJLEVBQUVLLElBQUksQ0FBQztJQUN0QjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBT1NDLE9BQUEsQ0FBQVIsWUFBQSxHQUFBQSxZQUFBO0FBTlQsU0FBU1MsYUFBYUEsQ0FBQ0MsTUFBYztFQUNuQyxNQUFNVCxJQUFJLEdBQUcsbUJBQW1CUyxNQUFNLE1BQU07RUFDNUMsSUFBSWIsSUFBQSxDQUFBTSxPQUFFLENBQUNRLFVBQVUsQ0FBQ1YsSUFBSSxDQUFDLEVBQUU7SUFDdkJKLElBQUEsQ0FBQU0sT0FBRSxDQUFDUyxVQUFVLENBQUNYLElBQUksQ0FBQztFQUNyQjtBQUNGO0FBQ3VCTyxPQUFBLENBQUFDLGFBQUEsR0FBQUEsYUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["fs_1","__importDefault","require","readHTMLFile","path","callback","default","readFile","encoding","err","html","exports","deleteUserPic","userId","existsSync","unlinkSync"],"sourceRoot":"D:\\Practice\\Anuglar\\Project-git\\user-information\\server\\src\\helper\\","sources":["D:/Practice/Anuglar/Project-git/user-information/server/src/helper/file.ts"],"sourcesContent":["import fs from \"fs\";\r\n\r\n/**\r\n *\r\n * @param path - path file template html\r\n * @param callback\r\n */\r\nfunction readHTMLFile(path: any, callback: any) {\r\n  fs.readFile(path, { encoding: \"utf-8\" }, function (err, html) {\r\n    if (err) {\r\n      callback(err);\r\n    } else {\r\n      callback(null, html);\r\n    }\r\n  });\r\n}\r\nfunction deleteUserPic(userId: string) {\r\n  const path = `public/products/${userId}.jpg`;\r\n  if (fs.existsSync(path)) {\r\n    fs.unlinkSync(path);\r\n  }\r\n}\r\nexport { readHTMLFile, deleteUserPic };\r\n"],"mappings":";;;;;;;;;;;AAAA,MAAAA,IAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA;;;;;AAKA,SAASC,YAAYA,CAACC,IAAS,EAAEC,QAAa;EAC5CL,IAAA,CAAAM,OAAE,CAACC,QAAQ,CAACH,IAAI,EAAE;IAAEI,QAAQ,EAAE;EAAO,CAAE,EAAE,UAAUC,GAAG,EAAEC,IAAI;IAC1D,IAAID,GAAG,EAAE;MACPJ,QAAQ,CAACI,GAAG,CAAC;IACf,CAAC,MAAM;MACLJ,QAAQ,CAAC,IAAI,EAAEK,IAAI,CAAC;IACtB;EACF,CAAC,CAAC;AACJ;AAOSC,OAAA,CAAAR,YAAA,GAAAA,YAAA;AANT,SAASS,aAAaA,CAACC,MAAc;EACnC,MAAMT,IAAI,GAAG,mBAAmBS,MAAM,MAAM;EAC5C,IAAIb,IAAA,CAAAM,OAAE,CAACQ,UAAU,CAACV,IAAI,CAAC,EAAE;IACvBJ,IAAA,CAAAM,OAAE,CAACS,UAAU,CAACX,IAAI,CAAC;EACrB;AACF;AACuBO,OAAA,CAAAC,aAAA,GAAAA,aAAA","ignoreList":[]}},"mtime":1718433106694}}